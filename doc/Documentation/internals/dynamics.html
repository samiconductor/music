<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created on January 1, 2014 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond Internals Reference: 2.1.7 Dynamics</title>

<meta name="description" content="LilyPond Internals Reference: 2.1.7 Dynamics">
<meta name="keywords" content="LilyPond Internals Reference: 2.1.7 Dynamics">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#index" rel="start" title="GNU LilyPond &ndash; Internals Reference">
<link href="indices.html#indices" rel="index" title="A. Indices">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="contexts.html#contexts" rel="up" title="2.1 Contexts">
<link href="indices.html#indices" rel="next" title="A.2 Function index">
<link href="drumvoice.html#drumvoice" rel="previous" title="2.1.6 DrumVoice">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Dynamics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="translation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="indices.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="backend.html" title="Next chapter">&nbsp;Backend &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="drumvoice.html" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; DrumVoice&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="contexts.html" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="figuredbass.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;FiguredBass &gt; </a>]</td></tr></table>
<a name="dynamics"></a>
<h3 class="subsection">2.1.7 Dynamics</h3>

<p>Holds a single line of dynamics, which will be
centered between the staves surrounding this context.
</p>
<p>This context also accepts commands for the following context(s):
</p>
<p>Voice.
</p>
<p>This context creates the following layout object(s):
</p>
<p><a href="barline.html">BarLine</a>, <a href="dynamiclinespanner.html">DynamicLineSpanner</a>, <a href="dynamictext.html">DynamicText</a>, <a href="dynamictextspanner.html">DynamicTextSpanner</a>, <a href="hairpin.html">Hairpin</a>, <a href="pianopedalbracket.html">PianoPedalBracket</a>, <a href="script.html">Script</a>, <a href="sostenutopedal.html">SostenutoPedal</a>, <a href="sustainpedal.html">SustainPedal</a>, <a href="textscript.html">TextScript</a>, <a href="textspanner.html">TextSpanner</a>, <a href="unacordapedal.html">UnaCordaPedal</a> and <a href="verticalaxisgroup.html">VerticalAxisGroup</a>.
</p>
<p>This context sets the following properties:
</p>
<ul>
<li> Set grob-property <code>font-shape</code> in <a href="textscript.html">TextScript</a> to <code>'italic</code>.
</li><li> Set grob-property <code>nonstaff-relatedstaff-spacing</code> in <a href="verticalaxisgroup.html">VerticalAxisGroup</a> to <code>'((basic-distance . 5) (padding . 0.5))</code>.
</li><li> Set grob-property <code>staff-affinity</code> in <a href="verticalaxisgroup.html">VerticalAxisGroup</a> to <code>0</code>.
</li><li> Set grob-property <code>X-offset</code> in <a href="dynamictext.html">DynamicText</a> to <code>#&lt;simple-closure (#&lt;primitive-generic +&gt; #&lt;simple-closure (#&lt;primitive-procedure ly:self-alignment-interface::centered-on-note-columns&gt;) &gt; #&lt;simple-closure (#&lt;primitive-procedure ly:self-alignment-interface::x-aligned-on-self&gt;) &gt;) &gt;</code>.
</li><li> Set grob-property <code>Y-offset</code> in <a href="dynamiclinespanner.html">DynamicLineSpanner</a> to <code>0</code>.
</li><li> Set translator property <code>pedalSustainStrings</code> to <code>'(Ped. *Ped. *)</code>.
</li><li> Set translator property <code>pedalUnaCordaStrings</code> to <code>'(una corda  tre corde)</code>.
</li></ul>


<p>This context is a &lsquo;bottom&rsquo; context; it cannot contain other contexts.
</p>
<p>This context is built from the following engraver(s):
</p><blockquote><dl compact="compact">
<dt> <code><a href="axis_005fgroup_005fengraver.html">Axis_group_engraver</a></code></dt>
<dd><p>Group all objects created in this context in a <code>VerticalAxisGroup</code> spanner.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="verticalaxisgroup.html">VerticalAxisGroup</a>.
</p>

</dd>
<dt> <code><a href="bar_005fengraver.html">Bar_engraver</a></code></dt>
<dd><p>Create barlines.  This engraver is controlled through the <code>whichBar</code> property.  If it has no bar line to create, it will forbid a linebreak at this point.  This engraver is required to trigger the creation of clefs at the start of systems.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>whichBar</code> (string)</dt>
<dd><p>This property is read to determine what type
of bar line to create.
</p>
<p>Example:
</p>
<blockquote><pre class="example">\set Staff.whichBar = &quot;|:&quot;
</pre></blockquote>

<p>This will create a start-repeat bar in this staff only.  Valid values
are described in <a name="index-bar_002dline_002dinterface-3"></a>
<a href="../internals/bar_002dline_002dinterface.html">bar-line-interface</a>.
</p></dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>forbidBreak</code> (boolean)</dt>
<dd><p>If set to <code>#t</code>, prevent a line break
at this point.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="barline.html">BarLine</a>.
</p>

</dd>
<dt> <code><a href="dynamic_005falign_005fengraver.html">Dynamic_align_engraver</a></code></dt>
<dd><p>Align hairpins and dynamic texts on a horizontal line.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentMusicalColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
non-breakable items (note heads, lyrics, etc.).
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="dynamiclinespanner.html">DynamicLineSpanner</a>.
</p>

</dd>
<dt> <code><a href="new_005fdynamic_005fengraver.html">New_dynamic_engraver</a></code></dt>
<dd><p>Create hairpins, dynamic texts and dynamic text spanners.
</p>
<p>Music types accepted:
</p>
<p><a href="absolute_002ddynamic_002devent.html">absolute-dynamic-event</a>, <a href="break_002dspan_002devent.html">break-span-event</a> and <a href="span_002ddynamic_002devent.html">span-dynamic-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>crescendoSpanner</code> (symbol)</dt>
<dd><p>The type of spanner to be used for
crescendi.  Available values are &lsquo;<samp>hairpin</samp>&rsquo; and &lsquo;<samp>text</samp>&rsquo;.  If unset,
a hairpin crescendo is used.
</p></dd>
<dt> <code>crescendoText</code> (markup)</dt>
<dd><p>The text to print at start of non-hairpin
crescendo, i.e., &lsquo;<samp>cresc.</samp>&rsquo;.
</p></dd>
<dt> <code>currentMusicalColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
non-breakable items (note heads, lyrics, etc.).
</p></dd>
<dt> <code>decrescendoSpanner</code> (symbol)</dt>
<dd><p>The type of spanner to be used for
decrescendi.  Available values are &lsquo;<samp>hairpin</samp>&rsquo; and &lsquo;<samp>text</samp>&rsquo;.  If
unset, a hairpin decrescendo is used.
</p></dd>
<dt> <code>decrescendoText</code> (markup)</dt>
<dd><p>The text to print at start of
non-hairpin decrescendo, i.e., &lsquo;<samp>dim.</samp>&rsquo;.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="dynamictext.html">DynamicText</a>, <a href="dynamictextspanner.html">DynamicTextSpanner</a> and <a href="hairpin.html">Hairpin</a>.
</p>

</dd>
<dt> <code><a href="output_005fproperty_005fengraver.html">Output_property_engraver</a></code></dt>
<dd><p>Apply a procedure to any grob acknowledged.
</p>
<p>Music types accepted:
</p>
<p><a href="apply_002doutput_002devent.html">apply-output-event</a>
</p>



</dd>
<dt> <code><a href="piano_005fpedal_005fengraver.html">Piano_pedal_engraver</a></code></dt>
<dd><p>Engrave piano pedal symbols and brackets.
</p>
<p>Music types accepted:
</p>
<p><a href="sostenuto_002devent.html">sostenuto-event</a>, <a href="sustain_002devent.html">sustain-event</a> and <a href="una_002dcorda_002devent.html">una-corda-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p></dd>
<dt> <code>pedalSostenutoStrings</code> (list)</dt>
<dd><p>See <code>pedalSustainStrings</code>.
</p></dd>
<dt> <code>pedalSostenutoStyle</code> (symbol)</dt>
<dd><p>See <code>pedalSustainStyle</code>.
</p></dd>
<dt> <code>pedalSustainStrings</code> (list)</dt>
<dd><p>A list of strings to print for
sustain-pedal.  Format is <code>(<var>up</var> <var>updown</var> <var>down</var>)</code>,
where each of the three is the string to print when this is done with
the pedal.
</p></dd>
<dt> <code>pedalSustainStyle</code> (symbol)</dt>
<dd><p>A symbol that indicates how to print
sustain pedals: <code>text</code>, <code>bracket</code> or <code>mixed</code> (both).
</p></dd>
<dt> <code>pedalUnaCordaStrings</code> (list)</dt>
<dd><p>See <code>pedalSustainStrings</code>.
</p></dd>
<dt> <code>pedalUnaCordaStyle</code> (symbol)</dt>
<dd><p>See <code>pedalSustainStyle</code>.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="pianopedalbracket.html">PianoPedalBracket</a>, <a href="sostenutopedal.html">SostenutoPedal</a>, <a href="sustainpedal.html">SustainPedal</a> and <a href="unacordapedal.html">UnaCordaPedal</a>.
</p>

</dd>
<dt> <code><a href="script_005fengraver.html">Script_engraver</a></code></dt>
<dd><p>Handle note scripted articulations.
</p>
<p>Music types accepted:
</p>
<p><a href="articulation_002devent.html">articulation-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>scriptDefinitions</code> (list)</dt>
<dd><p>The description of scripts.  This is
used by the <code>Script_engraver</code> for typesetting note-superscripts
and subscripts.  See &lsquo;<tt>scm/script.scm</tt>&rsquo; for more information.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="script.html">Script</a>.
</p>

</dd>
<dt> <code><a href="text_005fengraver.html">Text_engraver</a></code></dt>
<dd><p>Create text scripts.
</p>
<p>Music types accepted:
</p>
<p><a href="text_002dscript_002devent.html">text-script-event</a>
</p>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="textscript.html">TextScript</a>.
</p>

</dd>
<dt> <code><a href="text_005fspanner_005fengraver.html">Text_spanner_engraver</a></code></dt>
<dd><p>Create text spanner from an event.
</p>
<p>Music types accepted:
</p>
<p><a href="text_002dspan_002devent.html">text-span-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentMusicalColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
non-breakable items (note heads, lyrics, etc.).
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="textspanner.html">TextSpanner</a>.
</p>

</dd>
<dt> <code><a href="tweak_005fengraver.html">Tweak_engraver</a></code></dt>
<dd><p>Read the <code>tweaks</code> property from the originating event, and set properties.
</p>





</dd>
</dl>
</blockquote>



<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="translation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="indices.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="backend.html" title="Next chapter">&nbsp;Backend &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="drumvoice.html" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; DrumVoice&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="contexts.html" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="figuredbass.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;FiguredBass &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /build/buildd/lilypond-2.16.2/scripts/build/out/www_post -->
<p class="footer_version">
This page is for LilyPond-2.16.2 (stable-branch).
</p>
<p class="footer_report">
We welcome your aid; please <a href="http://lilypond.org/help-us.html">help us</a> by reporting errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.html"
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html" title="Start of the manual">Internals Reference</a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Music-definitions-1" href="music-definitions.html">1. Music definitions</a>
  <ul class="toc">
    <li class=""><a name="toc-Music-expressions-1" href="music-expressions.html">1.1 Music expressions</a>    </li>
    <li class=""><a name="toc-Music-classes-1" href="music-classes.html">1.2 Music classes</a>    </li>
    <li class=""><a name="toc-Music-properties-1" href="music-properties.html">1.3 Music properties</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Translation-1" href="translation.html">2. Translation</a>
  <ul class="toc">
    <li class=" toc_current"><a name="toc-Contexts-1" href="contexts.html">2.1 Contexts</a>
    <ul class="toc">
      <li class=""><a name="toc-ChoirStaff-1" href="choirstaff.html">2.1.1 ChoirStaff</a>      </li>
      <li class=""><a name="toc-ChordNames-1" href="chordnames.html">2.1.2 ChordNames</a>      </li>
      <li class=""><a name="toc-CueVoice-1" href="cuevoice.html">2.1.3 CueVoice</a>      </li>
      <li class=""><a name="toc-Devnull-1" href="devnull.html">2.1.4 Devnull</a>      </li>
      <li class=""><a name="toc-DrumStaff-1" href="drumstaff.html">2.1.5 DrumStaff</a>      </li>
      <li class=""><a name="toc-DrumVoice-1" href="drumvoice.html">2.1.6 DrumVoice</a>      </li>
      <li class=" toc_current"><a name="toc-Dynamics-1" href="dynamics.html">2.1.7 Dynamics</a>      </li>
      <li class=""><a name="toc-FiguredBass-1" href="figuredbass.html">2.1.8 FiguredBass</a>      </li>
      <li class=""><a name="toc-FretBoards-1" href="fretboards.html">2.1.9 FretBoards</a>      </li>
      <li class=""><a name="toc-Global-1" href="global.html">2.1.10 Global</a>      </li>
      <li class=""><a name="toc-GrandStaff-1" href="grandstaff.html">2.1.11 GrandStaff</a>      </li>
      <li class=""><a name="toc-GregorianTranscriptionStaff-1" href="gregoriantranscriptionstaff.html">2.1.12 GregorianTranscriptionStaff</a>      </li>
      <li class=""><a name="toc-GregorianTranscriptionVoice-1" href="gregoriantranscriptionvoice.html">2.1.13 GregorianTranscriptionVoice</a>      </li>
      <li class=""><a name="toc-KievanStaff-1" href="kievanstaff.html">2.1.14 KievanStaff</a>      </li>
      <li class=""><a name="toc-KievanVoice-1" href="kievanvoice.html">2.1.15 KievanVoice</a>      </li>
      <li class=""><a name="toc-Lyrics-1" href="lyrics.html">2.1.16 Lyrics</a>      </li>
      <li class=""><a name="toc-MensuralStaff-1" href="mensuralstaff.html">2.1.17 MensuralStaff</a>      </li>
      <li class=""><a name="toc-MensuralVoice-1" href="mensuralvoice.html">2.1.18 MensuralVoice</a>      </li>
      <li class=""><a name="toc-NoteNames-1" href="notenames.html">2.1.19 NoteNames</a>      </li>
      <li class=""><a name="toc-PetrucciStaff-1" href="petruccistaff.html">2.1.20 PetrucciStaff</a>      </li>
      <li class=""><a name="toc-PetrucciVoice-1" href="petruccivoice.html">2.1.21 PetrucciVoice</a>      </li>
      <li class=""><a name="toc-PianoStaff-1" href="pianostaff.html">2.1.22 PianoStaff</a>      </li>
      <li class=""><a name="toc-RhythmicStaff-1" href="rhythmicstaff.html">2.1.23 RhythmicStaff</a>      </li>
      <li class=""><a name="toc-Score-1" href="score.html">2.1.24 Score</a>      </li>
      <li class=""><a name="toc-Staff-1" href="staff.html">2.1.25 Staff</a>      </li>
      <li class=""><a name="toc-StaffGroup-1" href="staffgroup.html">2.1.26 StaffGroup</a>      </li>
      <li class=""><a name="toc-TabStaff-1" href="tabstaff.html">2.1.27 TabStaff</a>      </li>
      <li class=""><a name="toc-TabVoice-1" href="tabvoice.html">2.1.28 TabVoice</a>      </li>
      <li class=""><a name="toc-VaticanaStaff-1" href="vaticanastaff.html">2.1.29 VaticanaStaff</a>      </li>
      <li class=""><a name="toc-VaticanaVoice-1" href="vaticanavoice.html">2.1.30 VaticanaVoice</a>      </li>
      <li class=""><a name="toc-Voice-1" href="voice.html">2.1.31 Voice</a>      </li>
    </ul>
    </li>
    <li class=""><a name="toc-Engravers-and-Performers-1" href="engravers-and-performers.html">2.2 Engravers and Performers</a>    </li>
    <li class=""><a name="toc-Tunable-context-properties-1" href="tunable-context-properties.html">2.3 Tunable context properties</a>    </li>
    <li class=""><a name="toc-Internal-context-properties-1" href="internal-context-properties.html">2.4 Internal context properties</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Backend-1" href="backend.html">3. Backend</a>
  <ul class="toc">
    <li class=""><a name="toc-All-layout-objects-1" href="all-layout-objects.html">3.1 All layout objects</a>    </li>
    <li class=""><a name="toc-Graphical-Object-Interfaces-1" href="graphical-object-interfaces.html">3.2 Graphical Object Interfaces</a>    </li>
    <li class=""><a name="toc-User-backend-properties-1" href="user-backend-properties.html">3.3 User backend properties</a>    </li>
    <li class=""><a name="toc-Internal-backend-properties-1" href="internal-backend-properties.html">3.4 Internal backend properties</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Scheme-functions-1" href="scheme-functions.html">4. Scheme functions</a>  </li>
  <li class=""><a name="toc-Indices-1" href="indices.html">A. Indices</a>
  <ul class="toc">
    <li class=""><a name="toc-Concept-index" href="indices.html">A.1 Concept index</a>    </li>
    <li class=""><a name="toc-Function-index" href="indices.html">A.2 Function index</a>    </li>
  </ul>
  </li>
<li>
<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.16.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.16" in the
search for a while and have a redirection from "v2.16" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.16 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.16 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.16 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Google Search">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Search">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
