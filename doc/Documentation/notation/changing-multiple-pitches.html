<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2012 by the authors.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on January 1, 2014 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond Notation Reference: 1.1.2 Changing multiple pitches</title>

<meta name="description" content="LilyPond Notation Reference: 1.1.2 Changing multiple pitches">
<meta name="keywords" content="LilyPond Notation Reference: 1.1.2 Changing multiple pitches">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#index" rel="start" title="LilyPond &mdash; Notation Reference">
<link href="lilypond-command-index.html#lilypond-command-index" rel="index" title="E. LilyPond command index">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="pitches.html#pitches" rel="up" title="1.1 Pitches">
<link href="lilypond-index.html#lilypond-index" rel="next" title="F. LilyPond index">
<link href="writing-pitches.html#writing-pitches" rel="previous" title="1.1.1 Writing pitches">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Changing-multiple-pitches"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="musical-notation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-command-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="specialist-notation.html" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="writing-pitches.html#note-names-in-other-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Note names in other languages&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="pitches.html" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#octave-checks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Octave checks &gt; </a>]</td></tr></table>
<a name="changing-multiple-pitches"></a>
<h3 class="subsection">1.1.2 Changing multiple pitches</h3>

<p>This section discusses how to modify pitches.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#octave-checks" accesskey="1">Octave checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#transpose" accesskey="2">Transpose</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#inversion" accesskey="3">Inversion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#retrograde" accesskey="4">Retrograde</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#modal-transformations" accesskey="5">Modal transformations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Octave-checks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="musical-notation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-command-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="specialist-notation.html" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#changing-multiple-pitches" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing multiple pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#changing-multiple-pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Changing multiple pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#transpose" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Transpose &gt; </a>]</td></tr></table>
<a name="octave-checks"></a>
<h4 class="unnumberedsubsubsec">Octave checks</h4>

<a name="index-octave-correction"></a>
<a name="index-octave-check"></a>
<a name="index-control-pitch"></a>

<a name="index-_003d"></a>
<a name="index-_003d-1"></a>
<a name="index-_005coctaveCheck"></a>
<a name="index-_005coctaveCheck-1"></a>
<a name="index-octaveCheck"></a>
<a name="index-octaveCheck-1"></a>
<a name="index-controlpitch"></a>
<a name="index-controlpitch-1"></a>

<p>In relative mode, it is easy to forget an octave changing mark.
Octave checks make such errors easier to find by displaying a
warning and correcting the octave if a note is found in an
unexpected octave.
</p>
<p>To check the octave of a note, specify the absolute octave after
the <code>=</code>&nbsp;symbol.  This example will generate a warning
(and change the pitch) because the second note is the absolute
octave <code>d''</code> instead of <code>d'</code> as indicated by the octave
correction.
</p>
<blockquote><pre class="verbatim">\relative c'' {
  c2 d='4 d
  e2 f
}
</pre><p>
 <a href="../55/lily-8357f33a.ly">
  <img align="middle"
       border="0"
       src="../55/lily-8357f33a.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The octave of notes may also be checked with the
<code>\octaveCheck&nbsp;<var>controlpitch</var></code> command.
<code><var>controlpitch</var></code> is specified in absolute mode.  This
checks that the interval between the previous note and the
<code><var>controlpitch</var></code> is within a fourth (i.e., the normal
calculation of relative mode).  If this check fails, a warning is
printed, but the previous note is not changed.  Future notes are
relative to the <code><var>controlpitch</var></code>.
</p>
<blockquote><pre class="verbatim">\relative c'' {
  c2 d
  \octaveCheck c'
  e2 f
}
</pre><p>
 <a href="../c9/lily-19d4f615.ly">
  <img align="middle"
       border="0"
       src="../c9/lily-19d4f615.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Compare the two bars below.  The first and third <code>\octaveCheck</code>
checks fail, but the second one does not fail.
</p>
<blockquote><pre class="verbatim">\relative c'' {
  c4 f g f

  c4
  \octaveCheck c'
  f
  \octaveCheck c'
  g
  \octaveCheck c'
  f
}
</pre><p>
 <a href="../6a/lily-be24006f.ly">
  <img align="middle"
       border="0"
       src="../6a/lily-be24006f.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="See-also-80"></a>
<h4 class="subsubheading">See also</h4>
<p>Snippets:
<a href="../snippets/pitches.html">Pitches</a>.
</p>
<p>Internals Reference:
<a name="index-RelativeOctaveCheck"></a>
<a href="../internals/relativeoctavecheck.html">RelativeOctaveCheck</a>.
</p>

<hr size="6">
<a name="Transpose"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="musical-notation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-command-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="specialist-notation.html" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#octave-checks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Octave checks&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#changing-multiple-pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Changing multiple pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#inversion" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Inversion &gt; </a>]</td></tr></table>
<a name="transpose"></a>
<h4 class="unnumberedsubsubsec">Transpose</h4>

<a name="index-transpose-2"></a>
<a name="index-transposing"></a>
<a name="index-transposition"></a>
<a name="index-transposition-of-pitches"></a>
<a name="index-transposition-of-notes"></a>
<a name="index-pitches_002c-transposition-of"></a>
<a name="index-notes_002c-transposition-of"></a>

<a name="index-_005ctranspose-2"></a>
<a name="index-_005ctranspose-3"></a>
<a name="index-transpose-3"></a>
<a name="index-transpose-4"></a>

<p>A music expression can be transposed with <code>\transpose</code>.  The
syntax is
</p>
<blockquote><pre class="example">\transpose <var>frompitch</var> <var>topitch</var> <var>musicexpr</var>
</pre></blockquote>

<p>This means that <code><var>musicexpr</var></code> is transposed by the
interval between the pitches <code><var>frompitch</var></code> and
<code><var>topitch</var></code>: any note with pitch <code><var>frompitch</var></code>
is changed to <code><var>topitch</var></code> and any other note is
transposed by the same interval.  Both pitches are entered in
absolute mode.
</p>
<div class="warning"><p><strong>Note:</strong> Music inside a <code>\transpose</code> block is absolute
unless a <code>\relative</code> is included in the block.
</p>
</div>
<p>Consider a piece written in the key of D-major.  It can be
transposed up to E-major; note that the key signature is
automatically transposed as well.
</p>
<blockquote><pre class="verbatim">\transpose d e {
  \relative c' {
    \key d \major
    d4 fis a d
  }
}
</pre><p>
 <a href="../18/lily-f2d6a704.ly">
  <img align="middle"
       border="0"
       src="../18/lily-f2d6a704.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="index-transposing-instruments"></a>
<a name="index-instruments_002c-transposing"></a>

<p>If a part written in C (normal <var>concert pitch</var>) is to be
played on the A clarinet (for which an A is notated as a C and
thus sounds a minor third lower than notated), the appropriate
part will be produced with:
</p>
<blockquote><pre class="verbatim">\transpose a c' {
  \relative c' {
    \key c \major
    c4 d e g
  }
}
</pre><p>
 <a href="../90/lily-d815a756.ly">
  <img align="middle"
       border="0"
       src="../90/lily-d815a756.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Note that we specify <code>\key c \major</code> explicitly.  If we
do not specify a key signature, the notes will be transposed but
no key signature will be printed.
</p>
<p><code>\transpose</code> distinguishes between enharmonic pitches: both
<code>\transpose c cis</code> or <code>\transpose c des</code> will
transpose up a semitone.  The first version will print sharps and
the notes will remain on the same scale step, the second version
will print flats on the scale step above.
</p>
<blockquote><pre class="verbatim">music = \relative c' { c d e f }
\new Staff {
  \transpose c cis { \music }
  \transpose c des { \music }
}
</pre><p>
 <a href="../90/lily-4878e326.ly">
  <img align="middle"
       border="0"
       src="../90/lily-4878e326.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<p><code>\transpose</code> may also be used in a different way, to input
written notes for a transposing instrument.  The previous examples
show how to enter pitches in C (or <var>concert pitch</var>) and
typeset them for a transposing instrument, but the opposite is
also possible if you for example have a set of instrumental parts
and want to print a conductor&rsquo;s score.  For example, when entering
music for a B-flat trumpet that begins on a notated E (concert D),
one would write:
</p>
<blockquote><pre class="example">musicInBflat = { e4 &hellip; }
\transpose c bes, \musicInBflat
</pre></blockquote>

<p>To print this music in F (e.g., rearranging to a French horn) you
could wrap the existing music with another <code>\transpose</code>:
</p>
<blockquote><pre class="example">musicInBflat = { e4 &hellip; }
\transpose f c' { \transpose c bes, \musicInBflat }
</pre></blockquote>

<p>For more information about transposing instruments,
see <a href="displaying-pitches.html#instrument-transpositions">Instrument transpositions</a>.
</p>

<a name="Selected-Snippets-63"></a>
<h4 class="subsubheading">Selected Snippets</h4>


<p><em> Transposing pitches with minimum accidentals (&quot;Smart&quot; transpose)</em>
</p>

<p>This example uses some Scheme code to enforce enharmonic modifications
for notes in order to have the minimum number of accidentals.  In this
case, the following rules apply:
</p>
<p>Double accidentals should be removed
</p>

<p>B sharp -&gt; C
</p>

<p>E sharp -&gt; F
</p>

<p>C flat -&gt; B
</p>

<p>F flat -&gt; E
</p>

<p>In this manner, the most natural enharmonic notes are chosen.
</p>

<blockquote><pre class="verbatim">#(define (naturalize-pitch p)
   (let ((o (ly:pitch-octave p))
         (a (* 4 (ly:pitch-alteration p)))
         ;; alteration, a, in quarter tone steps,
         ;; for historical reasons
         (n (ly:pitch-notename p)))
     (cond
      ((and (&gt; a 1) (or (eq? n 6) (eq? n 2)))
       (set! a (- a 2))
       (set! n (+ n 1)))
      ((and (&lt; a -1) (or (eq? n 0) (eq? n 3)))
       (set! a (+ a 2))
       (set! n (- n 1))))
     (cond
      ((&gt; a 2) (set! a (- a 4)) (set! n (+ n 1)))
      ((&lt; a -2) (set! a (+ a 4)) (set! n (- n 1))))
     (if (&lt; n 0) (begin (set! o (- o 1)) (set! n (+ n 7))))
     (if (&gt; n 6) (begin (set! o (+ o 1)) (set! n (- n 7))))
     (ly:make-pitch o n (/ a 4))))

#(define (naturalize music)
   (let ((es (ly:music-property music 'elements))
         (e (ly:music-property music 'element))
         (p (ly:music-property music 'pitch)))
     (if (pair? es)
         (ly:music-set-property!
          music 'elements
          (map (lambda (x) (naturalize x)) es)))
     (if (ly:music? e)
         (ly:music-set-property!
          music 'element
          (naturalize e)))
     (if (ly:pitch? p)
         (begin
           (set! p (naturalize-pitch p))
           (ly:music-set-property! music 'pitch p)))
     music))

naturalizeMusic =
#(define-music-function (parser location m)
   (ly:music?)
   (naturalize m))

music = \relative c' { c4 d e g }

\score {
  \new Staff {
    \transpose c ais { \music }
    \naturalizeMusic \transpose c ais { \music }
    \transpose c deses { \music }
    \naturalizeMusic \transpose c deses { \music }
  }
  \layout { }
}
</pre><p>
 <a href="../74/lily-fa88d495.ly">
  <img align="middle"
       border="0"
       src="../74/lily-fa88d495.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="See-also-106"></a>
<h4 class="subsubheading">See also</h4>
<p>Notation Reference:
<a href="displaying-pitches.html#instrument-transpositions">Instrument transpositions</a>,
<a href="#inversion">Inversion</a>,
<a href="#modal-transformations">Modal transformations</a>,
<a href="writing-pitches.html#relative-octave-entry">Relative octave entry</a>,
<a href="#retrograde">Retrograde</a>.
</p>
<p>Snippets:
<a href="../snippets/pitches.html">Pitches</a>.
</p>
<p>Internals Reference:
<a name="index-TransposedMusic"></a>
<a href="../internals/transposedmusic.html">TransposedMusic</a>.
</p>
<a name="index-_005ctranspose-4"></a>
<a name="index-_005ctranspose-5"></a>
<a name="index-transpose-5"></a>
<a name="index-transpose-6"></a>
<a name="index-_005cchordmode-2"></a>
<a name="index-_005cchordmode-3"></a>
<a name="index-chordmode-2"></a>
<a name="index-chordmode-3"></a>
<a name="index-_005crelative-4"></a>
<a name="index-_005crelative-5"></a>
<a name="index-relative-5"></a>
<a name="index-relative-6"></a>

<a name="Known-issues-and-warnings-16"></a>
<h4 class="subsubheading">Known issues and warnings</h4>
<p>The relative conversion will not affect <code>\transpose</code>,
<code>\chordmode</code> or <code>\relative</code> sections in its argument.  To use
relative mode within transposed music, an additional <code>\relative</code>
must be placed inside <code>\transpose</code>.
</p>
<p>Triple accidentals will not be printed if using <code>\transpose</code>. An
&lsquo;enharmonically equivalent&rsquo; pitch will be used instead (e.g. d-flat
rather than e-triple-flat).
</p>

<hr size="6">
<a name="Inversion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="musical-notation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-command-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="specialist-notation.html" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#transpose" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Transpose&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#changing-multiple-pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Changing multiple pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#retrograde" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Retrograde &gt; </a>]</td></tr></table>
<a name="inversion"></a>
<h4 class="unnumberedsubsubsec">Inversion</h4>

<a name="index-inversion"></a>
<a name="index-operation_002c-inversion"></a>
<a name="index-_005cinversion"></a>
<a name="index-_005cinversion-1"></a>

<p>A music expression can be inverted and transposed in a single
operation with:
</p>
<blockquote><pre class="example">\inversion <var>around-pitch</var> <var>to-pitch</var> <var>musicexpr</var>
</pre></blockquote>

<p>The <code><var>musicexpr</var></code> is inverted interval-by-interval around
<code><var>around-pitch</var></code>, and then transposed so that
<code><var>around-pitch</var></code> is mapped to <code><var>to-pitch</var></code>.
</p>
<blockquote><pre class="verbatim">music = \relative c' { c d e f }
\new Staff {
  \music
  \inversion d' d' \music
  \inversion d' ees' \music
}
</pre><p>
 <a href="../49/lily-8743c843.ly">
  <img align="middle"
       border="0"
       src="../49/lily-8743c843.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<div class="warning"><p><strong>Note:</strong> Motifs to be inverted should be expressed in absolute form
or be first converted to absolute form by enclosing them in a 
<code>relative</code> block.
</p>
</div>
<a name="See-also-190"></a>
<h4 class="subsubheading">See also</h4>
<p>Notation Reference:
<a href="#modal-transformations">Modal transformations</a>,
<a href="#retrograde">Retrograde</a>,
<a href="#transpose">Transpose</a>.
</p>

<hr size="6">
<a name="Retrograde"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="musical-notation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-command-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="specialist-notation.html" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#inversion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Inversion&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#changing-multiple-pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Changing multiple pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#modal-transformations" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Modal transformations &gt; </a>]</td></tr></table>
<a name="retrograde"></a>
<h4 class="unnumberedsubsubsec">Retrograde</h4>

<a name="index-retrograde-transformation"></a>
<a name="index-transformation_002c-retrograde"></a>
<a name="index-operation_002c-retrograde"></a>
<a name="index-_005cretrograde"></a>
<a name="index-_005cretrograde-1"></a>
<a name="index-retrograde"></a>
<a name="index-retrograde-1"></a>

<p>A music expression can be reversed to produce its retrograde:
</p>
<blockquote><pre class="verbatim">music = \relative c' { c8. ees16( fis8. a16 b8.) gis16 f8. d16 }

\new Staff {
  \music
  \retrograde \music
}
</pre><p>
 <a href="../cf/lily-404d175c.ly">
  <img align="middle"
       border="0"
       src="../cf/lily-404d175c.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="Known-issues-and-warnings-80"></a>
<h4 class="subsubheading">Known issues and warnings</h4>
<p>Manual ties inside <code>\retrograde</code> will be broken and
generate warnings.  Some ties can be generated automatically
by enabling <a href="displaying-rhythms.html#automatic-note-splitting">Automatic note splitting</a>.
</p>
<a name="See-also-98"></a>
<h4 class="subsubheading">See also</h4>
<p>Notation Reference:
<a href="#inversion">Inversion</a>,
<a href="#modal-transformations">Modal transformations</a>,
<a href="#transpose">Transpose</a>.
</p>

<hr size="6">
<a name="Modal-transformations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="musical-notation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-command-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="specialist-notation.html" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#retrograde" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Retrograde&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#changing-multiple-pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Changing multiple pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="displaying-pitches.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Displaying pitches &gt; </a>]</td></tr></table>
<a name="modal-transformations"></a>
<h4 class="unnumberedsubsubsec">Modal transformations</h4>

<a name="index-modal-transformations"></a>
<a name="index-transformations_002c-modal"></a>
<a name="index-operations_002c-modal"></a>

<p>In a musical composition that is based on a scale, a motif is
frequently transformed in various ways.  It may be
<var>transposed</var> to start at different places in the scale or
it may be <var>inverted</var> around a pivot point in the scale.
It may also be reversed to produce its <var>retrograde</var>, see
<a href="#retrograde">Retrograde</a>.
</p>
<div class="warning"><p><strong>Note:</strong> Any note that does not lie within the given scale will be
left untransformed.
</p>
</div>
<a name="-Modal-transposition"></a>
<h4 class="subsubheading"><i> Modal transposition</i></h4>

<a name="index-modal-transposition"></a>
<a name="index-transposition_002c-modal"></a>
<a name="index-operation_002c-transposition"></a>
<a name="index-_005cmodalTranspose"></a>
<a name="index-_005cmodalTranspose-1"></a>
<a name="index-modalTranspose"></a>
<a name="index-modalTranspose-1"></a>

<p>A motif can be transposed within a given scale with:
</p>
<blockquote><pre class="example">\modalTranspose <var>from-pitch</var> <var>to-pitch</var> <var>scale</var> <var>motif</var>
</pre></blockquote>

<p>The notes of <var>motif</var> are shifted within the <var>scale</var> by the
number of scale degrees given by the interval between <var>to-pitch</var>
and <var>from-pitch</var>:
</p>
<blockquote><pre class="verbatim">diatonicScale = \relative c' { c d e f g a b }
motif = \relative c' { c8 d e f g a b c }

\new Staff {
  \motif
  \modalTranspose c f \diatonicScale \motif
  \modalTranspose c b, \diatonicScale \motif
}
</pre><p>
 <a href="../3b/lily-730bde55.ly">
  <img align="middle"
       border="0"
       src="../3b/lily-730bde55.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>An ascending scale of any length and with any intervals may be
specified:
</p>
<blockquote><pre class="verbatim">pentatonicScale = \relative c' { ges aes bes des ees }
motif = \relative c' { ees8 des ges,4 &lt;ges' bes,&gt; &lt;ges bes,&gt; }

\new Staff {
  \motif
  \modalTranspose ges ees' \pentatonicScale \motif
}
</pre><p>
 <a href="../54/lily-e2eebb67.ly">
  <img align="middle"
       border="0"
       src="../54/lily-e2eebb67.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>When used with a chromatic scale <code>\modalTranspose</code> has a
similar effect to <code>\transpose</code>, but with the ability to
specify the names of the notes to be used:
</p>
<blockquote><pre class="verbatim">chromaticScale = \relative c' { c cis d dis e f fis g gis a ais b }
motif = \relative c' { c8 d e f g a b c }

\new Staff {
  \motif
  \transpose c f \motif
  \modalTranspose c f \chromaticScale \motif
}
</pre><p>
 <a href="../fe/lily-eaeb61f8.ly">
  <img align="middle"
       border="0"
       src="../fe/lily-eaeb61f8.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="-Modal-inversion"></a>
<h4 class="subsubheading"><i> Modal inversion</i></h4>

<a name="index-modal-inversion"></a>
<a name="index-inversion_002c-modal"></a>
<a name="index-operation_002c-modal-inversion"></a>
<a name="index-_005cmodalInversion"></a>
<a name="index-_005cmodalInversion-1"></a>
<a name="index-modalInversion"></a>
<a name="index-modalInversion-1"></a>

<p>A motif can be inverted within a given scale around a given pivot
note and transposed in a single operation with:
</p>
<blockquote><pre class="example">\modalInversion <var>around-pitch</var> <var>to-pitch</var> <var>scale</var> <var>motif</var>
</pre></blockquote>

<p>The notes of <var>motif</var> are placed the same number of scale degrees
from the <var>around-pitch</var> note within the <var>scale</var>, but in the
opposite direction, and the result is then shifted within the
<var>scale</var> by the number of scale degrees given by the interval between
<var>to-pitch</var> and <var>around-pitch</var>.
</p>
<p>So to simply invert around a note in the scale use the same value for
<var>around-pitch</var> and <var>to-pitch</var>:
</p>
<blockquote><pre class="verbatim">octatonicScale = \relative c' { ees f fis gis a b c d }
motif = \relative c' { c8. ees16 fis8. a16 b8. gis16 f8. d16 }

\new Staff {
  \motif
  \modalInversion fis' fis' \octatonicScale \motif
}
</pre><p>
 <a href="../5e/lily-34071abf.ly">
  <img align="middle"
       border="0"
       src="../5e/lily-34071abf.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>To invert around a pivot between two notes in the scale, invert around
one of the notes and then transpose by one scale degree.  The two notes
specified can be interpreted as bracketing the pivot point:
</p>
<blockquote><pre class="verbatim">scale = \relative c' { c g' }
motive = \relative c' { c c g' c, }

\new Staff {
  \motive
  \modalInversion c' g' \scale \motive
}
</pre><p>
 <a href="../ac/lily-9f4c63e1.ly">
  <img align="middle"
       border="0"
       src="../ac/lily-9f4c63e1.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The combined operation of inversion and retrograde produce the
retrograde-inversion:
</p>
<blockquote><pre class="verbatim">octatonicScale = \relative c' { ees f fis gis a b c d }
motif = \relative c' { c8. ees16 fis8. a16 b8. gis16 f8. d16 }

\new Staff {
  \motif
  \retrograde \modalInversion c' c' \octatonicScale \motif
}
</pre><p>
 <a href="../7c/lily-8924f35d.ly">
  <img align="middle"
       border="0"
       src="../7c/lily-8924f35d.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="See-also-1"></a>
<h4 class="subsubheading">See also</h4>
<p>Notation Reference:
<a href="#inversion">Inversion</a>,
<a href="#retrograde">Retrograde</a>,
<a href="#transpose">Transpose</a>.
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="musical-notation.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-command-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="specialist-notation.html" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#retrograde" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Retrograde&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#changing-multiple-pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Changing multiple pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="displaying-pitches.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Displaying pitches &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /build/buildd/lilypond-2.16.2/scripts/build/out/www_post -->
<p class="footer_version">
This page is for LilyPond-2.16.2 (stable-branch).
</p>
<p class="footer_report">
We welcome your aid; please <a href="http://lilypond.org/help-us.html">help us</a> by reporting errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /build/buildd/lilypond-2.16.2/scripts/build/out/www_post -->
 Other languages: <a href="changing-multiple-pitches.de.html">deutsch</a>, <a href="changing-multiple-pitches.es.html">español</a>, <a href="changing-multiple-pitches.fr.html">français</a>, <a href="changing-multiple-pitches.it.html">italiano</a>, <a href="changing-multiple-pitches.ja.html">日本語</a>.
 <br>
 About <a href="http://www.lilypond.org/website/misc/browser-language">automatic language selection</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.html"
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html" title="Start of the manual">LilyPond &mdash; Notation Reference</a></h4>
<div class="contents">
<ul class="toc">
  <li class=" toc_current"><a name="toc-Musical-notation-1" href="musical-notation.html">1. Musical notation</a>
  <ul class="toc">
    <li class=" toc_current"><a name="toc-Pitches-1" href="pitches.html">1.1 Pitches</a>
    <ul class="toc">
      <li class=""><a name="toc-Writing-pitches-1" href="writing-pitches.html">1.1.1 Writing pitches</a>      </li>
      <li class=" toc_current"><a name="toc-Changing-multiple-pitches-1" href="changing-multiple-pitches.html">1.1.2 Changing multiple pitches</a>
      <ul class="toc">
        <li class=""><a name="toc-Octave-checks-1" href="changing-multiple-pitches.html#octave-checks">Octave checks</a>        </li>
        <li class=""><a name="toc-Transpose-1" href="changing-multiple-pitches.html#transpose">Transpose</a>        </li>
        <li class=""><a name="toc-Inversion-1" href="changing-multiple-pitches.html#inversion">Inversion</a>        </li>
        <li class=""><a name="toc-Retrograde-1" href="changing-multiple-pitches.html#retrograde">Retrograde</a>        </li>
        <li class=""><a name="toc-Modal-transformations-1" href="changing-multiple-pitches.html#modal-transformations">Modal transformations</a>        </li>
      </ul>
      </li>
      <li class=""><a name="toc-Displaying-pitches-1" href="displaying-pitches.html">1.1.3 Displaying pitches</a>      </li>
      <li class=""><a name="toc-Note-heads-1" href="note-heads.html">1.1.4 Note heads</a>      </li>
    </ul>
    </li>
    <li class=""><a name="toc-Rhythms-1" href="rhythms.html">1.2 Rhythms</a>    </li>
    <li class=""><a name="toc-Expressive-marks-1" href="expressive-marks.html">1.3 Expressive marks</a>    </li>
    <li class=""><a name="toc-Repeats-1" href="repeats.html">1.4 Repeats</a>    </li>
    <li class=""><a name="toc-Simultaneous-notes-1" href="simultaneous-notes.html">1.5 Simultaneous notes</a>    </li>
    <li class=""><a name="toc-Staff-notation-1" href="staff-notation.html">1.6 Staff notation</a>    </li>
    <li class=""><a name="toc-Editorial-annotations-1" href="editorial-annotations.html">1.7 Editorial annotations</a>    </li>
    <li class=""><a name="toc-Text-1" href="text.html">1.8 Text</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Specialist-notation-1" href="specialist-notation.html">2. Specialist notation</a>
  <ul class="toc">
    <li class=""><a name="toc-Vocal-music-1" href="vocal-music.html">2.1 Vocal music</a>    </li>
    <li class=""><a name="toc-Keyboard-and-other-multi_002dstaff-instruments-1" href="keyboard-and-other-multi_002dstaff-instruments.html">2.2 Keyboard and other multi-staff instruments</a>    </li>
    <li class=""><a name="toc-Unfretted-string-instruments-1" href="unfretted-string-instruments.html">2.3 Unfretted string instruments</a>    </li>
    <li class=""><a name="toc-Fretted-string-instruments-1" href="fretted-string-instruments.html">2.4 Fretted string instruments</a>    </li>
    <li class=""><a name="toc-Percussion-1" href="percussion.html">2.5 Percussion</a>    </li>
    <li class=""><a name="toc-Wind-instruments-1" href="wind-instruments.html">2.6 Wind instruments</a>    </li>
    <li class=""><a name="toc-Chord-notation-1" href="chord-notation.html">2.7 Chord notation</a>    </li>
    <li class=""><a name="toc-Contemporary-music-1" href="contemporary-music.html">2.8 Contemporary music</a>    </li>
    <li class=""><a name="toc-Ancient-notation-1" href="ancient-notation.html">2.9 Ancient notation</a>    </li>
    <li class=""><a name="toc-World-music-1" href="world-music.html">2.10 World music</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-General-input-and-output-1" href="general-input-and-output.html">3. General input and output</a>
  <ul class="toc">
    <li class=""><a name="toc-Input-structure-1" href="input-structure.html">3.1 Input structure</a>    </li>
    <li class=""><a name="toc-Titles-and-headers-1" href="titles-and-headers.html">3.2 Titles and headers</a>    </li>
    <li class=""><a name="toc-Working-with-input-files-1" href="working-with-input-files.html">3.3 Working with input files</a>    </li>
    <li class=""><a name="toc-Controlling-output-1" href="controlling-output.html">3.4 Controlling output</a>    </li>
    <li class=""><a name="toc-MIDI-output-1" href="midi-output.html">3.5 MIDI output</a>    </li>
    <li class=""><a name="toc-Extracting-musical-information-1" href="extracting-musical-information.html">3.6 Extracting musical information</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Spacing-issues-1" href="spacing-issues.html">4. Spacing issues</a>
  <ul class="toc">
    <li class=""><a name="toc-Page-layout-1" href="page-layout.html">4.1 Page layout</a>    </li>
    <li class=""><a name="toc-Score-layout-1" href="score-layout.html">4.2 Score layout</a>    </li>
    <li class=""><a name="toc-Breaks-1" href="breaks.html">4.3 Breaks</a>    </li>
    <li class=""><a name="toc-Vertical-spacing-1" href="vertical-spacing.html">4.4 Vertical spacing</a>    </li>
    <li class=""><a name="toc-Horizontal-spacing-1" href="horizontal-spacing.html">4.5 Horizontal spacing</a>    </li>
    <li class=""><a name="toc-Fitting-music-onto-fewer-pages-1" href="fitting-music-onto-fewer-pages.html">4.6 Fitting music onto fewer pages</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Changing-defaults-1" href="changing-defaults.html">5. Changing defaults</a>
  <ul class="toc">
    <li class=""><a name="toc-Interpretation-contexts-1" href="interpretation-contexts.html">5.1 Interpretation contexts</a>    </li>
    <li class=""><a name="toc-Explaining-the-Internals-Reference-1" href="explaining-the-internals-reference.html">5.2 Explaining the Internals Reference</a>    </li>
    <li class=""><a name="toc-Modifying-properties-1" href="modifying-properties.html">5.3 Modifying properties</a>    </li>
    <li class=""><a name="toc-Useful-concepts-and-properties-1" href="useful-concepts-and-properties.html">5.4 Useful concepts and properties</a>    </li>
    <li class=""><a name="toc-Advanced-tweaks-1" href="advanced-tweaks.html">5.5 Advanced tweaks</a>    </li>
    <li class=""><a name="toc-Using-music-functions-1" href="using-music-functions.html">5.6 Using music functions</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Notation-manual-tables-1" href="notation-manual-tables.html">A. Notation manual tables</a>
  <ul class="toc">
    <li class=""><a name="toc-Chord-name-chart-1" href="chord-name-chart.html">A.1 Chord name chart</a>    </li>
    <li class=""><a name="toc-Common-chord-modifiers-1" href="common-chord-modifiers.html">A.2 Common chord modifiers</a>    </li>
    <li class=""><a name="toc-Predefined-string-tunings-1" href="predefined-string-tunings.html">A.3 Predefined string tunings</a>    </li>
    <li class=""><a name="toc-Predefined-fretboard-diagrams-1" href="predefined-fretboard-diagrams.html">A.4 Predefined fretboard diagrams</a>    </li>
    <li class=""><a name="toc-Predefined-paper-sizes-1" href="predefined-paper-sizes.html">A.5 Predefined paper sizes</a>    </li>
    <li class=""><a name="toc-MIDI-instruments-1" href="midi-instruments.html">A.6 MIDI instruments</a>    </li>
    <li class=""><a name="toc-List-of-colors-1" href="list-of-colors.html">A.7 List of colors</a>    </li>
    <li class=""><a name="toc-The-Feta-font-1" href="the-feta-font.html">A.8 The Feta font</a>    </li>
    <li class=""><a name="toc-Note-head-styles-1" href="note-head-styles.html">A.9 Note head styles</a>    </li>
    <li class=""><a name="toc-Text-markup-commands-1" href="text-markup-commands.html">A.10 Text markup commands</a>    </li>
    <li class=""><a name="toc-Text-markup-list-commands-1" href="text-markup-list-commands.html">A.11 Text markup list commands</a>    </li>
    <li class=""><a name="toc-List-of-special-characters-1" href="list-of-special-characters.html">A.12 List of special characters</a>    </li>
    <li class=""><a name="toc-List-of-articulations-1" href="list-of-articulations.html">A.13 List of articulations</a>    </li>
    <li class=""><a name="toc-Percussion-notes-1" href="percussion-notes.html">A.14 Percussion notes</a>    </li>
    <li class=""><a name="toc-Technical-glossary-1" href="technical-glossary.html">A.15 Technical glossary</a>    </li>
    <li class=""><a name="toc-All-context-properties-1" href="all-context-properties.html">A.16 All context properties</a>    </li>
    <li class=""><a name="toc-Layout-properties-1" href="layout-properties.html">A.17 Layout properties</a>    </li>
    <li class=""><a name="toc-Available-music-functions-1" href="available-music-functions.html">A.18 Available music functions</a>    </li>
    <li class=""><a name="toc-Context-modification-identifiers-1" href="context-modification-identifiers.html">A.19 Context modification identifiers</a>    </li>
    <li class=""><a name="toc-Predefined-type-predicates-1" href="predefined-type-predicates.html">A.20 Predefined type predicates</a>    </li>
    <li class=""><a name="toc-Scheme-functions-1" href="scheme-functions.html">A.21 Scheme functions</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Cheat-sheet-1" href="cheat-sheet.html">B. Cheat sheet</a>  </li>
  <li class=""><a name="toc-LilyPond-grammar-1" href="lilypond-grammar.html">C. LilyPond grammar</a>  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.html">D. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-LilyPond-command-index-1" href="lilypond-command-index.html">E. LilyPond command index</a>  </li>
  <li class=""><a name="toc-LilyPond-index-1" href="lilypond-index.html">F. LilyPond index</a>  </li>
<li>
<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.16.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.16" in the
search for a while and have a redirection from "v2.16" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.16 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.16 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.16 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Google Search">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Search">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
