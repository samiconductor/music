<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This document has been placed in the public domain.
 -->
<!-- Created on January 1, 2014 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond snippets: Tweaks and overrides</title>

<meta name="description" content="LilyPond snippets: Tweaks and overrides">
<meta name="keywords" content="LilyPond snippets: Tweaks and overrides">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#index" rel="start" title="LilyPond &mdash; Snippets">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="index.html#index" rel="up" title="LilyPond &mdash; Snippets">
<link href="templates.html#templates-vocal-ensemble-template" rel="next" title="Vocal ensemble template">
<link href="contexts-and-engravers.html#contexts-and-engravers" rel="previous" title="Contexts and engravers">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="contexts-and-engravers.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="contexts-and-engravers.html#contexts-and-engravers-vocal-ensemble-template-with-verse-and-refrain" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Contexts and engravers: Vocal ensemble template with verse and refrain&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="index.html" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-adjusting-grace-note-spacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Adjusting grace note spacing &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides"></a>
<h1 class="unnumbered">Tweaks and overrides</h1>

<a name="index-Changing-defaults-1"></a>
<p><a href="../notation/changing-defaults.html">Changing defaults</a>
</p>
<a name="index-Tweaking-output"></a>
<p><a href="../learning/tweaking-output.html">Tweaking output</a>
</p>

<a name="adjusting-grace-note-spacing.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Adjusting-grace-note-spacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-altering-the-length-of-beamed-stems" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Altering the length of beamed stems &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-adjusting-grace-note-spacing"></a>
<h2 class="unnumberedsec">Adjusting grace note spacing</h2>


<p>The space given to grace notes can be adjusted using the
<code>spacing-increment</code> property of <code>Score.GraceSpacing</code>.
</p>

<pre class="verbatim">graceNotes = {
  \grace { c4 c8 c16 c32 }
  c8
}

\relative c'' {
  c8
  \graceNotes
  \override Score.GraceSpacing #'spacing-increment = #2.0
  \graceNotes
  \revert Score.GraceSpacing #'spacing-increment
  \graceNotes
}
</pre><p>
 <a href="../54/lily-6466b8d8.ly">
  <img align="middle"
       border="0"
       src="../54/lily-6466b8d8.png"
       alt="[image of music]">
 </a>
</p>




<a name="altering-the-length-of-beamed-stems.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Altering-the-length-of-beamed-stems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-adjusting-grace-note-spacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Adjusting grace note spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-alternative-bar-numbering" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Alternative bar numbering &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-altering-the-length-of-beamed-stems"></a>
<h2 class="unnumberedsec">Altering the length of beamed stems</h2>


<p>Stem lengths on beamed notes can be varied by overriding the
<code>beamed-lengths</code> property of the <code>details</code> of the
<code>Stem</code>.  If a single value is used as an argument, the length
applies to all stems.  When multiple arguments are used, the first
applies to eighth notes, the second to sixteenth notes and so on.  The
final argument also applies to all notes shorter than the note length
of the final argument.  Non-integer arguments may also be used.
</p>

<pre class="verbatim">\relative c'' {
  \override Stem #'(details beamed-lengths) = #'(2)
  a8[ a] a16[ a] a32[ a]
  \override Stem #'(details beamed-lengths) = #'(8 10 12)
  a8[ a] a16[ a] a32[ a] r8
  \override Stem #'(details beamed-lengths) = #'(8)
  a8[ a]
  \override Stem #'(details beamed-lengths) = #'(8.5)
  a8[ a]
  \revert Stem #'details
  a8[ a] a16[ a] a32[ a] r16
}
</pre><p>
 <a href="../9c/lily-cf639939.ly">
  <img align="middle"
       border="0"
       src="../9c/lily-cf639939.png"
       alt="[image of music]">
 </a>
</p>




<a name="alternative-bar-numbering.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Alternative-bar-numbering"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-altering-the-length-of-beamed-stems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Altering the length of beamed stems&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-analysis-brackets-above-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Analysis brackets above the staff &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-alternative-bar-numbering"></a>
<h2 class="unnumberedsec">Alternative bar numbering</h2>

<p>Two alternative methods for bar numbering can be set,
  especially for when using repeated music.
</p><pre class="verbatim">\relative c'{
  \set Score.alternativeNumberingStyle = #'numbers
  \repeat volta 3 { c4 d e f | }
    \alternative {
      { c4 d e f | c2 d \break }
      { f4 g a b | f4 g a b | f2 a | \break }
      { c4 d e f | c2 d }
    }
  c1 \break
  \set Score.alternativeNumberingStyle = #'numbers-with-letters
  \repeat volta 3 { c,4 d e f | }
    \alternative {
      { c4 d e f | c2 d \break }
      { f4 g a b | f4 g a b | f2 a | \break }
      { c4 d e f | c2 d }
    }
  c1
}
</pre><p>
 <a href="../af/lily-5e9a5e6c.ly">
  <img align="middle"
       border="0"
       src="../af/lily-5e9a5e6c.png"
       alt="[image of music]">
 </a>
</p>




<a name="analysis-brackets-above-the-staff.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Analysis-brackets-above-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-alternative-bar-numbering" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Alternative bar numbering&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-asymmetric-slurs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Asymmetric slurs &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-analysis-brackets-above-the-staff"></a>
<h2 class="unnumberedsec">Analysis brackets above the staff</h2>


<p>Simple horizontal analysis brackets are added below the staff by
default. The following example shows a way to place them above the
staff instead.
</p>

<pre class="verbatim">\layout {
  \context {
    \Voice
    \consists &quot;Horizontal_bracket_engraver&quot;
  }
}
\relative c'' {
  \once \override HorizontalBracket #'direction = #UP
  c2\startGroup
  d2\stopGroup
}
</pre><p>
 <a href="../56/lily-d0a035e0.ly">
  <img align="middle"
       border="0"
       src="../56/lily-d0a035e0.png"
       alt="[image of music]">
 </a>
</p>




<a name="asymmetric-slurs.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Asymmetric-slurs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-analysis-brackets-above-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Analysis brackets above the staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-avoiding-collisions-with-chord-fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Avoiding collisions with chord fingerings &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-asymmetric-slurs"></a>
<h2 class="unnumberedsec">Asymmetric slurs</h2>


<p>Slurs can be made asymmetric to match an asymmetric pattern of notes
better.
</p>

<pre class="verbatim">slurNotes = { d,8( a' d f a f' d, a) }

\relative c' {
  \stemDown
  \slurUp
  \slurNotes
  \once \override Slur #'eccentricity = #3.0
  \slurNotes
}
</pre><p>
 <a href="../e2/lily-01966611.ly">
  <img align="middle"
       border="0"
       src="../e2/lily-01966611.png"
       alt="[image of music]">
 </a>
</p>




<a name="avoiding-collisions-with-chord-fingerings.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Avoiding-collisions-with-chord-fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-asymmetric-slurs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Asymmetric slurs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-caesura-_0028_0022railtracks_0022_0029-with-fermata" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Caesura (&quot;railtracks&quot;) with fermata &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-avoiding-collisions-with-chord-fingerings"></a>
<h2 class="unnumberedsec">Avoiding collisions with chord fingerings</h2>


<p>Fingerings and string numbers applied to individual notes will
automatically avoid beams and stems, but this is not true by default
for fingerings and string numbers applied to the individual notes of
chords.  The following example shows how this default behavior can be
overridden.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(up)
  \set stringNumberOrientations = #'(up)
  \set strokeFingerOrientations = #'(up)

  % Default behavior
  r8
  &lt;f c'-5&gt;8
  &lt;f c'\5&gt;8
  &lt;f c'-\rightHandFinger #2 &gt;8

  % Corrected to avoid collisions
  r8
  \override Fingering #'add-stem-support = ##t
  &lt;f c'-5&gt;8
  \override StringNumber #'add-stem-support = ##t
  &lt;f c'\5&gt;8
  \override StrokeFinger #'add-stem-support = ##t
  &lt;f c'-\rightHandFinger #2 &gt;8
}
</pre><p>
 <a href="../06/lily-1b3963f7.ly">
  <img align="middle"
       border="0"
       src="../06/lily-1b3963f7.png"
       alt="[image of music]">
 </a>
</p>




<a name="caesura-railtracks-with-fermata.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Caesura-_0028_0022railtracks_0022_0029-with-fermata"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-avoiding-collisions-with-chord-fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Avoiding collisions with chord fingerings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-centering-markup-on-note-heads-automatically" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Centering markup on note heads automatically &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-caesura-_0028_0022railtracks_0022_0029-with-fermata"></a>
<h2 class="unnumberedsec">Caesura (&quot;railtracks&quot;) with fermata</h2>


<p>A caesura is sometimes denoted by a double &ldquo;railtracks&rdquo; breath mark
with a fermata sign positioned above. This snippet shows an optically
pleasing combination of railtracks and fermata.
</p>

<pre class="verbatim">\relative c'' {
  c2.
  % construct the symbol
  \override BreathingSign #'text = \markup {
    \line {
      \musicglyph #&quot;scripts.caesura.curved&quot;
      \translate #'(-1.75 . 1.6)
      \musicglyph #&quot;scripts.ufermata&quot;
    }
  }
  \breathe c4
  % set the breathe mark back to normal
  \revert BreathingSign #'text
  c2. \breathe c4
  \bar &quot;|.&quot;
}
</pre><p>
 <a href="../99/lily-faf9089f.ly">
  <img align="middle"
       border="0"
       src="../99/lily-faf9089f.png"
       alt="[image of music]">
 </a>
</p>




<a name="centering-markup-on-note-heads-automatically.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Centering-markup-on-note-heads-automatically"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-caesura-_0028_0022railtracks_0022_0029-with-fermata" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Caesura (&quot;railtracks&quot;) with fermata&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-changing-a-single-note_0027s-size-in-a-chord" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Changing a single note's size in a chord &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-centering-markup-on-note-heads-automatically"></a>
<h2 class="unnumberedsec">Centering markup on note heads automatically</h2>


<p>For technical reasons, text scripts attached to note heads cannot
easily be centered on a note head&rsquo;s width, unlike articulations.
</p>
<p>Instead of using trial-and-error offset tweaks, this snippet uses a
Scheme engraver to reset the horizontal parent of each markup to a
<code>NoteColumn</code>.  This also allows text to follow note heads which have
been shifted via <code>force-hshift</code>.
</p>
<pre class="verbatim">#(define (Text_align_engraver ctx)
  (let ((scripts '())
        (note-column #f))
    (make-engraver
     (acknowledgers
      ((note-column-interface trans grob source)
       ;; cache NoteColumn in this Voice context
       (set! note-column grob))
      ((text-script-interface trans grob source)
       ;; whenever a TextScript is acknowledged,
       ;; add it to `scripts' list
       (set! scripts (cons grob scripts))))
     ((stop-translation-timestep trans)
      ;; if any TextScript grobs exist,
      ;; set NoteColumn as X-parent
      (for-each (lambda (script)
		  (set! (ly:grob-parent script X) note-column))
		scripts)
      ;; clear scripts ready for next timestep
      (set! scripts '())))))

\layout {
  \context {
    \Voice
    \consists #Text_align_engraver
    \override TextScript #'X-offset =
      #ly:self-alignment-interface::aligned-on-x-parent
    \override TextScript #'self-alignment-X = #CENTER
  }
}

\new Staff &lt;&lt;
  \relative c'' {
    \override NoteColumn #'force-hshift = #3
    c1-\markup { \arrow-head #Y #DOWN ##t }
  }
  \\
  \relative c' {
    a4 a-\markup { \huge ^ } a a
  }
&gt;&gt;
</pre><p>
 <a href="../9c/lily-b40b80cc.ly">
  <img align="middle"
       border="0"
       src="../9c/lily-b40b80cc.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-a-single-notes-size-in-a-chord.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Changing-a-single-note_0027s-size-in-a-chord"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-centering-markup-on-note-heads-automatically" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Centering markup on note heads automatically&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-changing-form-of-multi_002dmeasure-rests" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Changing form of multi-measure rests &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-changing-a-single-note_0027s-size-in-a-chord"></a>
<h2 class="unnumberedsec">Changing a single note&rsquo;s size in a chord</h2>


<p>Individual note heads in a chord can be modified with the
<code>\tweak</code> command inside a chord, by altering the <code>font-size</code>
property.
</p>

<p>Inside the chord (within the brackets <code>&lt; &gt;</code>), before the note to
be altered, place the <code>\tweak</code> command, followed by
<code>#'font-size</code> and define the proper size like <code>#-2</code> (a tiny
note head).
</p>



<pre class="verbatim">\relative c' {
  &lt;\tweak #'font-size #+2 c e g c \tweak #'font-size #-2 e&gt;1^\markup { A tiny e }_\markup { A big c }
}
</pre><p>
 <a href="../3b/lily-4255bfa1.ly">
  <img align="middle"
       border="0"
       src="../3b/lily-4255bfa1.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-form-of-multi-measure-rests.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Changing-form-of-multi_002dmeasure-rests"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-changing-a-single-note_0027s-size-in-a-chord" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Changing a single note's size in a chord&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Changing properties for individual grobs &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-changing-form-of-multi_002dmeasure-rests"></a>
<h2 class="unnumberedsec">Changing form of multi-measure rests</h2>


<p>If there are ten or fewer measures of rests, a series of longa and
breve rests (called in German &ldquo;Kirchenpausen&rdquo; - church rests) is
printed within the staff; otherwise a simple line is shown. This
default number of ten may be changed by overriding the
<code>expand-limit</code> property.
</p>

<pre class="verbatim">\relative c'' {
  \compressFullBarRests
  R1*2 | R1*5 | R1*9
  \override MultiMeasureRest #'expand-limit = #3
  R1*2 | R1*5 | R1*9
}
</pre><p>
 <a href="../ff/lily-f588cd7f.ly">
  <img align="middle"
       border="0"
       src="../ff/lily-f588cd7f.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-properties-for-individual-grobs.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-changing-form-of-multi_002dmeasure-rests" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Changing form of multi-measure rests&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-changing-text-and-spanner-styles-for-text-dynamics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Changing text and spanner styles for text dynamics &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-changing-properties-for-individual-grobs"></a>
<h2 class="unnumberedsec">Changing properties for individual grobs</h2>


<p>The <code>\applyOutput</code> command allows the tuning of any layout
object, in any context. It requires a Scheme function with three
arguments.
</p>

<pre class="verbatim">#(define (mc-squared grob grob-origin context)
  (let ((sp (ly:grob-property grob 'staff-position)))
    (if (grob::has-interface grob 'note-head-interface)
      (begin
        (ly:grob-set-property! grob 'stencil
          (grob-interpret-markup grob
            (make-lower-markup 0.5
              (case sp
                ((-5) &quot;m&quot;)
                ((-3) &quot;c &quot;)
                ((-2) (make-smaller-markup (make-bold-markup &quot;2&quot;)))
                (else &quot;bla&quot;)))))))))

\relative c' {
  &lt;d f g b&gt;2
  \applyOutput #'Voice #mc-squared
  &lt;d f g b&gt;2
}
</pre><p>
 <a href="../10/lily-d33b7a1b.ly">
  <img align="middle"
       border="0"
       src="../10/lily-d33b7a1b.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-text-and-spanner-styles-for-text-dynamics.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Changing-text-and-spanner-styles-for-text-dynamics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Changing properties for individual grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-changing-the-default-text-font-family" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Changing the default text font family &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-changing-text-and-spanner-styles-for-text-dynamics"></a>
<h2 class="unnumberedsec">Changing text and spanner styles for text dynamics</h2>


<p>The text used for crescendos and decrescendos can be changed by
modifying the context properties <code>crescendoText</code> and
<code>decrescendoText</code>.
</p>
<p>The style of the spanner line can be changed by modifying the
<code>'style</code> property of <code>DynamicTextSpanner</code>.  The default value
is <code>'dashed-line</code>, and other possible values include <code>'line</code>,
<code>'dotted-line</code> and <code>'none</code>.
</p>

<pre class="verbatim">\relative c'' {
  \set crescendoText = \markup { \italic { cresc. poco } }
  \set crescendoSpanner = #'text
  \override DynamicTextSpanner #'style = #'dotted-line
  a2\&lt; a
  a2 a
  a2 a
  a2 a\mf
}
</pre><p>
 <a href="../51/lily-90f0ffe1.ly">
  <img align="middle"
       border="0"
       src="../51/lily-90f0ffe1.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-default-text-font-family.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Changing-the-default-text-font-family"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-changing-text-and-spanner-styles-for-text-dynamics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Changing text and spanner styles for text dynamics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-changing-the-staff-size" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Changing the staff size &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-changing-the-default-text-font-family"></a>
<h2 class="unnumberedsec">Changing the default text font family</h2>


<p>The default font families for text can be overridden with
<code>make-pango-font-tree</code>.
</p>

<pre class="verbatim">\paper {
  % change for other default global staff size.
  myStaffSize = #20
  %{
     run
         lilypond -dshow-available-fonts blabla
     to show all fonts available in the process log.
  %}

  #(define fonts
    (make-pango-font-tree &quot;Times New Roman&quot;
                          &quot;Nimbus Sans&quot;
                          &quot;Luxi Mono&quot;
;;                        &quot;Helvetica&quot;
;;                        &quot;Courier&quot;
     (/ myStaffSize 20)))
}

\relative c'' {
  c4^\markup {
    roman: foo \bold bla \italic bar \italic \bold baz
  }
  c'4_\markup {
    \override #'(font-family . sans)
    {
      sans: foo \bold bla \italic bar \italic \bold baz
    }
  }
  c'2^\markup {
    \override #'(font-family . typewriter)
    {
      mono: foo \bold bla \italic bar \italic \bold baz
    }
  }
}
</pre><p>
 <a href="../78/lily-d0a222aa.ly">
  <img align="middle"
       border="0"
       src="../78/lily-d0a222aa.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-staff-size.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Changing-the-staff-size"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-changing-the-default-text-font-family" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Changing the default text font family&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-changing-the-tempo-without-a-metronome-mark" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Changing the tempo without a metronome mark &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-changing-the-staff-size"></a>
<h2 class="unnumberedsec">Changing the staff size</h2>


<p>Though the simplest way to resize staves is to use
<code>#(set-global-staff-size xx)</code>, an individual staff&rsquo;s size can be
changed by scaling the properties <code>'staff-space</code> and
<code>fontSize</code>.
</p>

<pre class="verbatim">&lt;&lt;
  \new Staff {
    \relative c'' {
      \dynamicDown
      c8\ff c c c c c c c
    }
  }
  \new Staff \with {
    fontSize = #-3
    \override StaffSymbol #'staff-space = #(magstep -3)
  } {
    \clef bass
    c8 c c c c\f c c c
  }
&gt;&gt;
</pre><p>
 <a href="../35/lily-1909e4c6.ly">
  <img align="middle"
       border="0"
       src="../35/lily-1909e4c6.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-tempo-without-a-metronome-mark.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Changing-the-tempo-without-a-metronome-mark"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-changing-the-staff-size" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Changing the staff size&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-changing-the-text-for-sustain-markings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Changing the text for sustain markings &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-changing-the-tempo-without-a-metronome-mark"></a>
<h2 class="unnumberedsec">Changing the tempo without a metronome mark</h2>


<p>To change the tempo in MIDI output without printing anything, make the
metronome mark invisible.
</p>

<pre class="verbatim">\score {
  \new Staff \relative c' {
    \tempo 4 = 160
    c4 e g b
    c4 b d c
    \set Score.tempoHideNote = ##t
    \tempo 4 = 96
    d,4 fis a cis
    d4 cis e d
  }
  \layout { }
  \midi { }
}
</pre><p>
 <a href="../40/lily-078abf7b.ly">
  <img align="middle"
       border="0"
       src="../40/lily-078abf7b.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-text-for-sustain-markings.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Changing-the-text-for-sustain-markings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-changing-the-tempo-without-a-metronome-mark" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Changing the tempo without a metronome mark&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-controlling-spanner-visibility-after-a-line-break" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Controlling spanner visibility after a line break &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-changing-the-text-for-sustain-markings"></a>
<h2 class="unnumberedsec">Changing the text for sustain markings</h2>


<p><code>Staff.pedalSustainStrings</code> can be used to set the text used for
pedal down and up.  Note that the only valid strings are those found in
the list of pedal glyphs - the values used this snippet constitute an
exhaustive list.
</p>

<pre class="verbatim">sustainNotes = { c4\sustainOn d e\sustainOff\sustainOn f\sustainOff }

\relative c' {
  \sustainNotes
  \set Staff.pedalSustainStrings = #'(&quot;P&quot; &quot;P-&quot; &quot;-&quot;)
  \sustainNotes
  \set Staff.pedalSustainStrings = #'(&quot;d&quot; &quot;de&quot; &quot;e&quot;)
  \sustainNotes
  \set Staff.pedalSustainStrings = #'(&quot;M&quot; &quot;M-&quot; &quot;-&quot;)
  \sustainNotes
  \set Staff.pedalSustainStrings = #'(&quot;Ped&quot; &quot;*Ped&quot; &quot;*&quot;)
  \sustainNotes
}
</pre><p>
 <a href="../3b/lily-de45f1ec.ly">
  <img align="middle"
       border="0"
       src="../3b/lily-de45f1ec.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-spanner-visibility-after-a-line-break.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Controlling-spanner-visibility-after-a-line-break"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-changing-the-text-for-sustain-markings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Changing the text for sustain markings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-controlling-the-vertical-ordering-of-scripts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Controlling the vertical ordering of scripts &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-controlling-spanner-visibility-after-a-line-break"></a>
<h2 class="unnumberedsec">Controlling spanner visibility after a line break</h2>


<p>The visibility of spanners which end on the first note following a line
break is controlled by the <code>after-line-breaking</code> callback
<code>ly:spanner::kill-zero-spanned-time</code>.
</p>
<p>For objects such as glissandos and hairpins, the default behaviour is
to hide the spanner after a break; disabling the callback will allow
the left-broken span to be shown.
</p>
<p>Conversely, spanners which are usually visible, such as text spans, can
be hidden by enabling the callback.
</p>

<pre class="verbatim">\paper { ragged-right = ##t }

\relative c'' {
  \override Hairpin #'to-barline = ##f
  \override Glissando #'breakable = ##t
  % show hairpin
  \override Hairpin #'after-line-breaking = ##t
  % hide text span
  \override TextSpanner #'after-line-breaking =
    #ly:spanner::kill-zero-spanned-time
  e2\&lt;\startTextSpan
  % show glissando
  \override Glissando #'after-line-breaking = ##t
  f2\glissando
  \break
  f,1\!\stopTextSpan
}
</pre><p>
 <a href="../c2/lily-0e0ba5db.ly">
  <img align="middle"
       border="0"
       src="../c2/lily-0e0ba5db.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-the-vertical-ordering-of-scripts.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Controlling-the-vertical-ordering-of-scripts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-controlling-spanner-visibility-after-a-line-break" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Controlling spanner visibility after a line break&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-controlling-tuplet-bracket-visibility" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Controlling tuplet bracket visibility &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-controlling-the-vertical-ordering-of-scripts"></a>
<h2 class="unnumberedsec">Controlling the vertical ordering of scripts</h2>


<p>The vertical ordering of scripts is controlled with the
<code>'script-priority</code> property. The lower this number, the closer it
will be put to the note. In this example, the <code>TextScript</code> (the
sharp symbol) first has the lowest priority, so it is put lowest in the
first example. In the second, the prall trill (the <code>Script</code>) has
the lowest, so it is on the inside. When two objects have the same
priority, the order in which they are entered determines which one
comes first.
</p>

<pre class="verbatim">\relative c''' {
  \once \override TextScript #'script-priority = #-100
  a2^\prall^\markup { \sharp }

  \once \override Script #'script-priority = #-100
  a2^\prall^\markup { \sharp }
}
</pre><p>
 <a href="../4d/lily-6dbd2ba7.ly">
  <img align="middle"
       border="0"
       src="../4d/lily-6dbd2ba7.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-tuplet-bracket-visibility.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Controlling-tuplet-bracket-visibility"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-controlling-the-vertical-ordering-of-scripts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Controlling the vertical ordering of scripts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-creating-a-delayed-turn" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Creating a delayed turn &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-controlling-tuplet-bracket-visibility"></a>
<h2 class="unnumberedsec">Controlling tuplet bracket visibility</h2>


<p>The default behavior of tuplet-bracket visibility is to print a bracket
unless there is a beam of the same length as the tuplet. To control the
visibility of tuplet brackets, set the property
<code>'bracket-visibility</code> to either <code>#t</code> (always print a
bracket), <code>#f</code> (never print a bracket) or <code>#'if-no-beam</code>
(only print a bracket if there is no beam).
</p>

<pre class="verbatim">music = \relative c'' {
  \times 2/3 { c16[ d e } f8]
  \times 2/3 { c8 d e }
  \times 2/3 { c4 d e }
}

\new Voice {
  \relative c' {
    &lt;&lt; \music s4^&quot;default&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = #'if-no-beam
    &lt;&lt; \music s4^&quot;'if-no-beam&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##t
    &lt;&lt; \music s4^&quot;#t&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##f
    &lt;&lt; \music s4^&quot;#f&quot; &gt;&gt;
  }
}
</pre><p>
 <a href="../d7/lily-336e5a14.ly">
  <img align="middle"
       border="0"
       src="../d7/lily-336e5a14.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-a-delayed-turn.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Creating-a-delayed-turn"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-controlling-tuplet-bracket-visibility" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Controlling tuplet bracket visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-creating-double_002ddigit-fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Creating double-digit fingerings &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-creating-a-delayed-turn"></a>
<h2 class="unnumberedsec">Creating a delayed turn</h2>


<p>Creating a delayed turn, where the lower note of the turn uses the
accidental, requires several overrides.  The
<code>outside-staff-priority</code> property must be set to <code>#f</code>, as
otherwise this would take precedence over the <code>avoid-slur
property</code>.  The value of <code>halign</code> is used to position the turn
horizontally.
</p>

<pre class="verbatim">\relative c'' {
  \once \override TextScript #'avoid-slur = #'inside
  \once \override TextScript #'outside-staff-priority = ##f
  c2(^\markup \tiny \override #'(baseline-skip . 1) {
    \halign #-4
    \center-column {
      \sharp
      \musicglyph #&quot;scripts.turn&quot;
    }
  }
  d4.) c8
}
</pre><p>
 <a href="../0a/lily-bf9c63e8.ly">
  <img align="middle"
       border="0"
       src="../0a/lily-bf9c63e8.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-double-digit-fingerings.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Creating-double_002ddigit-fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-creating-a-delayed-turn" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Creating a delayed turn&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-creating-simultaneous-rehearsal-marks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Creating simultaneous rehearsal marks &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-creating-double_002ddigit-fingerings"></a>
<h2 class="unnumberedsec">Creating double-digit fingerings</h2>


<p>By default you cannot make double-digit fingering notation (i.e.
numbers larger than 9). This is a hard coded limitation.
</p>
<p>This snippet shows two methods of creating fingerings larger than 9.
</p>

<pre class="verbatim">ten =
#(make-music 'FingeringEvent
             'digit 10)

fifty =
#(make-music 'FingeringEvent
             'digit 50)

finger =
#(define-music-function (parser location digit) (integer?)
   (make-music 'FingeringEvent
               'digit digit))

#(define (calc-finger-without-warning grob)
   (let* ((event (event-cause grob))
	  (digit (ly:event-property event 'digit)))
     (number-&gt;string digit 10)))

\relative c' {
  % optional override to remove warnings for fingerings larger than 5
  \override Fingering #'text = #calc-finger-without-warning
  c1\ten
  c1\fifty
  c1-\finger #36
  c1-\finger #29
}
</pre><p>
 <a href="../7a/lily-dc4c7f84.ly">
  <img align="middle"
       border="0"
       src="../7a/lily-dc4c7f84.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-simultaneous-rehearsal-marks.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Creating-simultaneous-rehearsal-marks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-creating-double_002ddigit-fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Creating double-digit fingerings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-creating-text-spanners" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Creating text spanners &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-creating-simultaneous-rehearsal-marks"></a>
<h2 class="unnumberedsec">Creating simultaneous rehearsal marks</h2>


<p>Unlike text scripts, rehearsal marks cannot be stacked at a particular
point in a score: only one <code>RehearsalMark</code> object is created.
Using an invisible measure and bar line, an extra rehearsal mark can be
added, giving the appearance of two marks in the same column. This
method may also prove useful for placing rehearsal marks at both the
end of one system and the start of the following system.
</p>

<pre class="verbatim">{
  \key a \major
  \set Score.markFormatter = #format-mark-box-letters
  \once \override Score.RehearsalMark #'outside-staff-priority = #5000
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \once \override Score.RehearsalMark #'break-align-symbols = #'(key-signature)
  \mark \markup { \bold { Senza denti } }

  % the hidden measure and bar line
  % \cadenzaOn turns off automatic calculation of bar numbers
  \cadenzaOn
  \once \override Score.TimeSignature #'stencil = ##f
  \time 1/16
  s16 \bar &quot;&quot;
  \cadenzaOff

  \time 4/4
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \mark \markup { \box \bold Intro }
  d'1
  \mark \default
  d'1
}
</pre><p>
 <a href="../73/lily-395f1759.ly">
  <img align="middle"
       border="0"
       src="../73/lily-395f1759.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-text-spanners.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Creating-text-spanners"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-creating-simultaneous-rehearsal-marks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Creating simultaneous rehearsal marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-cross_002dstaff-chords-_002d-beaming-problems-workaround" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Cross-staff chords - beaming problems workaround &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-creating-text-spanners"></a>
<h2 class="unnumberedsec">Creating text spanners</h2>


<p>The <code>\startTextSpan</code> and <code>\stopTextSpan</code> commands allow the
creation of text spanners as easily as pedal indications or
octavations. Override some properties of the <code>TextSpanner</code> object
to modify its output.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }

\relative c'' {
  \override TextSpanner #'(bound-details left text) = #&quot;bla&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;blu&quot;
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan

  \override TextSpanner #'style = #'line
  \once \override TextSpanner
    #'(bound-details left stencil-align-dir-y) = #CENTER
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan

  \override TextSpanner #'style = #'dashed-line
  \override TextSpanner #'(bound-details left text) =
    \markup { \draw-line #'(0 . 1) }
  \override TextSpanner #'(bound-details right text) =
    \markup { \draw-line #'(0 . -2) }
  \once \override TextSpanner #'(bound-details right padding) = #-2

  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan

  \set Staff.middleCPosition = #-13
  \override TextSpanner #'dash-period = #10
  \override TextSpanner #'dash-fraction = #0.5
  \override TextSpanner #'thickness = #10
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
}
</pre><p>
 <a href="../24/lily-06121c02.ly">
  <img align="middle"
       border="0"
       src="../24/lily-06121c02.png"
       alt="[image of music]">
 </a>
</p>




<a name="cross-staff-chords---beaming-problems-workaround.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Cross_002dstaff-chords-_002d-beaming-problems-workaround"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-creating-text-spanners" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Creating text spanners&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-cross-staff-stems" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Cross staff stems &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-cross_002dstaff-chords-_002d-beaming-problems-workaround"></a>
<h2 class="unnumberedsec">Cross-staff chords - beaming problems workaround</h2>


<p>Sometimes it is better to use stems from the upper staff for creating
cross-staff chords, because no problems with automatic beam collision
avoidance then arise.  If the stems from the lower staff were used in
the following example, it would be necessary to change the automatic
beam collision avoidance settings so that it doesn&rsquo;t detect collisions
between staves using <code>\override Staff.Beam #'collision-voice-only
= ##t</code>
</p>

<pre class="verbatim">\new PianoStaff &lt;&lt;
  \new Staff = up
    \relative c' {
      &lt;&lt;
        { r4
          \override Stem #'cross-staff = ##t
          \override Stem #'length = #19 % this is in half-spaces,
              % so it makes stems 9.5 staffspaces long
          \override Stem #'Y-offset = #-6 % stems are normally lengthened
              % upwards, so here we must lower the stem by the amount
              % equal to the lengthening - in this case (19 - 7) / 2
              % (7 is default stem length)
          e e e }
        { s4
          \change Staff = &quot;bottom&quot;
          \override NoteColumn #'ignore-collision = ##t
          c, c c
        }
      &gt;&gt;
    }
  \new Staff = bottom
    \relative c' {
      \clef bass
      \voiceOne
      g8 a g a g a g a
    }
&gt;&gt;
</pre><p>
 <a href="../f3/lily-29f8025d.ly">
  <img align="middle"
       border="0"
       src="../f3/lily-29f8025d.png"
       alt="[image of music]">
 </a>
</p>




<a name="cross-staff-stems.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Cross-staff-stems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-cross_002dstaff-chords-_002d-beaming-problems-workaround" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Cross-staff chords - beaming problems workaround&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-custodes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Custodes &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-cross-staff-stems"></a>
<h2 class="unnumberedsec">Cross staff stems</h2>


<p>This snippet shows the use of the <code>Span_stem_engraver</code>
and <code>\crossStaff</code> to connect stems across staves automatically.
The stem length need not be specified, as the variable distance
between noteheads and staves is calculated automatically.
</p>
<pre class="verbatim">\layout {
  \context {
    \PianoStaff
    \consists #Span_stem_engraver
  }
}

{
  \new PianoStaff &lt;&lt;
    \new Staff {
      &lt;b d'&gt;4 r d'16\&gt; e'8. g8 r\!
      e'8 f' g'4 e'2
    }
    \new Staff {
      \clef bass
      \voiceOne
      \autoBeamOff
      \crossStaff { &lt;e g&gt;4 e, g16 a8. c8} d
      \autoBeamOn
      g8 f g4 c2
    }
  &gt;&gt;
}
</pre><p>
 <a href="../df/lily-872f5a97.ly">
  <img align="middle"
       border="0"
       src="../df/lily-872f5a97.png"
       alt="[image of music]">
 </a>
</p>




<a name="custodes.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Custodes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-cross-staff-stems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Cross staff stems&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-customizing-fretboard-fret-diagrams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Customizing fretboard fret diagrams &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-custodes"></a>
<h2 class="unnumberedsec">Custodes</h2>


<p>Custodes may be engraved in various styles.
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

\new Staff \with { \consists &quot;Custos_engraver&quot; } \relative c' {
  \override Staff.Custos #'neutral-position = #4

  \override Staff.Custos #'style = #'hufnagel
  c1^&quot;hufnagel&quot; \break
  &lt;d a' f'&gt;1

  \override Staff.Custos #'style = #'medicaea
  c1^&quot;medicaea&quot; \break
  &lt;d a' f'&gt;1

  \override Staff.Custos #'style = #'vaticana
  c1^&quot;vaticana&quot; \break
  &lt;d a' f'&gt;1

  \override Staff.Custos #'style = #'mensural
  c1^&quot;mensural&quot; \break
  &lt;d a' f'&gt;1
}
</pre><p>
 <a href="../a6/lily-f8808f0f.ly">
  <img align="middle"
       border="0"
       src="../a6/lily-f8808f0f.png"
       alt="[image of music]">
 </a>
</p>




<a name="customizing-fretboard-fret-diagrams.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Customizing-fretboard-fret-diagrams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-custodes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Custodes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-customizing-markup-fret-diagrams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Customizing markup fret diagrams &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-customizing-fretboard-fret-diagrams"></a>
<h2 class="unnumberedsec">Customizing fretboard fret diagrams</h2>


<p>Fret diagram properties can be set through
<code>'fret-diagram-details</code>.  For FretBoard fret diagrams, overrides
are applied to the <code>FretBoards.FretBoard</code> object. Like
<code>Voice</code>, <code>FretBoards</code> is a bottom level context, therefore
can be omitted in property overrides.
</p>

<pre class="verbatim">\include &quot;predefined-guitar-fretboards.ly&quot;
\storePredefinedDiagram #default-fret-table \chordmode { c' }
                        #guitar-tuning
                        #&quot;x;1-1-(;3-2;3-3;3-4;1-1-);&quot;
&lt;&lt;
  \new ChordNames {
    \chordmode { c1 | c | c | d }
  }
  \new FretBoards {
    % Set global properties of fret diagram
    \override FretBoards.FretBoard #'size = #'1.2
    \override FretBoard
      #'(fret-diagram-details finger-code) = #'in-dot
    \override FretBoard
      #'(fret-diagram-details dot-color) = #'white
    \chordmode {
      c
      \once \override FretBoard #'size = #'1.0
      \once \override FretBoard
        #'(fret-diagram-details barre-type) = #'straight
      \once \override FretBoard
        #'(fret-diagram-details dot-color) = #'black
      \once \override FretBoard
        #'(fret-diagram-details finger-code) = #'below-string
      c'
      \once \override FretBoard
        #'(fret-diagram-details barre-type) = #'none
      \once \override FretBoard
        #'(fret-diagram-details number-type) = #'arabic
      \once \override FretBoard
        #'(fret-diagram-details orientation) = #'landscape
      \once \override FretBoard
        #'(fret-diagram-details mute-string) = #&quot;M&quot;
      \once \override FretBoard
        #'(fret-diagram-details label-dir) = #LEFT
      \once \override FretBoard
        #'(fret-diagram-details dot-color) = #'black
      c'
      \once \override FretBoard
        #'(fret-diagram-details finger-code) = #'below-string
      \once \override FretBoard
        #'(fret-diagram-details dot-radius) = #0.35
      \once \override FretBoard
        #'(fret-diagram-details dot-position) = #0.5
      \once \override FretBoard
        #'(fret-diagram-details fret-count) = #3
      d
    }
  }
  \new Voice {
    c'1 | c' | c' | d'
  }
&gt;&gt;
</pre><p>
 <a href="../f1/lily-ed443122.ly">
  <img align="middle"
       border="0"
       src="../f1/lily-ed443122.png"
       alt="[image of music]">
 </a>
</p>




<a name="customizing-markup-fret-diagrams.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Customizing-markup-fret-diagrams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-customizing-fretboard-fret-diagrams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Customizing fretboard fret diagrams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-display-bracket-with-only-one-staff-in-a-system" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Display bracket with only one staff in a system &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-customizing-markup-fret-diagrams"></a>
<h2 class="unnumberedsec">Customizing markup fret diagrams</h2>


<p>Fret diagram properties can be set through
<code>'fret-diagram-details</code>.  For markup fret diagrams, overrides can
be applied to the <code>Voice.TextScript</code> object or directly to the
markup.
</p>

<pre class="verbatim">&lt;&lt;
  \chords { c1 | c | c | d }

  \new Voice = &quot;mel&quot; {
    \textLengthOn
    % Set global properties of fret diagram
    \override TextScript #'size = #'1.2
    \override TextScript
      #'(fret-diagram-details finger-code) = #'in-dot
    \override TextScript
      #'(fret-diagram-details dot-color) = #'white

    %% C major for guitar, no barre, using defaults
       % terse style
    c'1^\markup { \fret-diagram-terse #&quot;x;3-3;2-2;o;1-1;o;&quot; }

    %% C major for guitar, barred on third fret
       % verbose style
       % size 1.0
       % roman fret label, finger labels below string, straight barre
    c'1^\markup {
      % standard size
      \override #'(size . 1.0) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . in-dot)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, barred on third fret
       % verbose style
       % landscape orientation, arabic numbers, M for mute string
       % no barre, fret label down or left, small mute label font
    c'1^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (number-type . arabic)
                   (label-dir . -1)
                   (mute-string . &quot;M&quot;)
                   (orientation . landscape)
                   (barre-type . none)
                   (xo-font-magnification . 0.4)
                   (xo-padding . 0.3))) {
        \fret-diagram-verbose #'((mute 6)
                                 (place-fret 5 3 1)
                                 (place-fret 4 5 2)
                                 (place-fret 3 5 3)
                                 (place-fret 2 5 4)
                                 (place-fret 1 3 1)
                                 (barre 5 1 3))
      }
    }

    %% simple D chord
       % terse style
       % larger dots, centered dots, fewer frets
       % label below string
    d'1^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }
  }
&gt;&gt;
</pre><p>
 <a href="../e1/lily-987ac279.ly">
  <img align="middle"
       border="0"
       src="../e1/lily-987ac279.png"
       alt="[image of music]">
 </a>
</p>




<a name="display-bracket-with-only-one-staff-in-a-system.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Display-bracket-with-only-one-staff-in-a-system"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-customizing-markup-fret-diagrams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Customizing markup fret diagrams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-displaying-grob-ancestry" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Displaying grob ancestry &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-display-bracket-with-only-one-staff-in-a-system"></a>
<h2 class="unnumberedsec">Display bracket with only one staff in a system</h2>


<p>If there is only one staff in one of the staff types <code>ChoirStaff</code>
or <code>StaffGroup</code>, the bracket and the starting bar line will not be
displayed as standard behavior.  This can be changed by overriding the
relevant properties.
</p>
<p>Note that in contexts such as <code>PianoStaff</code> and <code>GrandStaff</code>
where the systems begin with a brace instead of a bracket, another
property has to be set, as shown on the second system in the example.
</p>

<pre class="verbatim">\markup \left-column {
  \score {
    \new StaffGroup &lt;&lt;
      % Must be lower than the actual number of staff lines
      \override StaffGroup.SystemStartBracket #'collapse-height = #1
      \override Score.SystemStartBar #'collapse-height = #1
      \new Staff {
        c'1
      }
    &gt;&gt;
    \layout { }
  }
  \null
  \score {
    \new PianoStaff &lt;&lt;
      \override PianoStaff.SystemStartBrace #'collapse-height = #1
      \override Score.SystemStartBar #'collapse-height = #1
      \new Staff {
        c'1
      }
    &gt;&gt;
    \layout { }
  }
}
</pre><p>
 <a href="../ba/lily-bb16dd55.ly">
  <img align="middle"
       border="0"
       src="../ba/lily-bb16dd55.png"
       alt="[image of music]">
 </a>
</p>




<a name="displaying-grob-ancestry.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Displaying-grob-ancestry"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-display-bracket-with-only-one-staff-in-a-system" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Display bracket with only one staff in a system&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-dotted-harmonics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Dotted harmonics &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-displaying-grob-ancestry"></a>
<h2 class="unnumberedsec">Displaying grob ancestry</h2>


<p>When working with grob callbacks, it can be helpful to understand a
grob&rsquo;s &ldquo;ancestry&rdquo;. Most grobs have &ldquo;parents&rdquo; which influence the
positioning of the grob. X- and Y-parents influence the horizontal and
vertical positions for the grob, respectively. Additionally, each
parent may have parents of its own.
</p>

<p>Unfortunately, there are several aspects of a grob&rsquo;s ancestry that can
lead to confusion:
</p>
<p>* The types of parents a grob has may depend on context. * For some
grobs, the X- and Y-parents are the same. * A particular &ldquo;ancestor&rdquo;
may be related to a grob in multiple ways. * The concept of
&ldquo;generations&rdquo; is misleading.
</p>

<p>For example, the <code>System</code> grob can be both parent (on the Y-side)
and grandparent (twice on the X-side) to a <code>VerticalAlignment</code>
grob.
</p>

<p>This macro prints (to the console) a textual representation of a grob&rsquo;s
ancestry.
</p>

<p>When called this way
</p>

<p>{
 \once \override NoteHead #&rsquo;before-line-breaking = #display-ancestry
 c }
</p>

<p>The following output is generated:
</p>

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;
</p>
<p>NoteHead X,Y: NoteColumn
    X: PaperColumn
       X,Y: System
    Y: VerticalAxisGroup
       X: NonMusicalPaperColumn
          X,Y: System
       Y: VerticalAlignment
          X: NonMusicalPaperColumn
             X,Y: System
          Y: System
</p>



<pre class="verbatim">#(define (grob-name grob)
   (if (ly:grob? grob)
       (assoc-ref (ly:grob-property grob 'meta) 'name)
       #f))

#(define (get-ancestry grob)
   (if (not (null? (ly:grob-parent grob X)))
       (list (grob-name grob)
             (get-ancestry (ly:grob-parent grob X))
             (get-ancestry (ly:grob-parent grob Y)))
       (grob-name grob)))

#(define (format-ancestry lst padding)
   (string-append
    (symbol-&gt;string (car lst))
    &quot;\n&quot;
    (let ((X-ancestry
           (if (list? (cadr lst))
               (format-ancestry (cadr lst) (+ padding 3))
               (symbol-&gt;string (cadr lst))))
          (Y-ancestry
           (if (list? (caddr lst))
               (format-ancestry (caddr lst) (+ padding 3))
               (symbol-&gt;string (caddr lst)))))
      (if (equal? X-ancestry Y-ancestry)
          (string-append
           (format #f &quot;~&amp;&quot;)
           (make-string padding #\space)
           &quot;X,Y: &quot;
           (if (list? (cadr lst))
               (format-ancestry (cadr lst) (+ padding 5))
               (symbol-&gt;string (cadr lst))))
          (string-append
           (format #f &quot;~&amp;&quot;)
           (make-string padding #\space)
           &quot;X: &quot; X-ancestry
           &quot;\n&quot;
           (make-string padding #\space)
           &quot;Y: &quot; Y-ancestry
           (format #f &quot;~&amp;&quot;))))
    (format #f &quot;~&amp;&quot;)))

#(define (display-ancestry grob)
   (format (current-error-port)
      &quot;~3&amp;~a~2%~a~&amp;&quot;
      (make-string 36 #\-)
      (format-ancestry (get-ancestry grob) 0)))

\relative c' {
  \once \override NoteHead #'before-line-breaking = #display-ancestry
  f4
  \once \override Accidental #'before-line-breaking = #display-ancestry
  \once \override Arpeggio #'before-line-breaking = #display-ancestry
  &lt;f as c&gt;4\arpeggio
}
</pre><p>
 <a href="../ad/lily-fe628a51.ly">
  <img align="middle"
       border="0"
       src="../ad/lily-fe628a51.png"
       alt="[image of music]">
 </a>
</p>




<a name="dotted-harmonics.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Dotted-harmonics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-displaying-grob-ancestry" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Displaying grob ancestry&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-drawing-boxes-around-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Drawing boxes around grobs &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-dotted-harmonics"></a>
<h2 class="unnumberedsec">Dotted harmonics</h2>


<p>Artificial harmonics using <code>\harmonic</code> do not show dots.  To
override this behavior, set the context property <code>harmonicDots</code>.
</p>

<pre class="verbatim">\relative c''' {
  \time 3/4
  \key f \major
  \set harmonicDots = ##t
  &lt;bes f'\harmonic&gt;2. ~
  &lt;bes f'\harmonic&gt;4. &lt;a e'\harmonic&gt;8( &lt;gis dis'\harmonic&gt; &lt;g d'\harmonic&gt;)
  &lt;fis cis'\harmonic&gt;2.
  &lt;bes f'\harmonic&gt;2.
}
</pre><p>
 <a href="../9d/lily-c8a1fbb1.ly">
  <img align="middle"
       border="0"
       src="../9d/lily-c8a1fbb1.png"
       alt="[image of music]">
 </a>
</p>




<a name="drawing-boxes-around-grobs.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Drawing-boxes-around-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-dotted-harmonics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Dotted harmonics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-drawing-circles-around-various-objects" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Drawing circles around various objects &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-drawing-boxes-around-grobs"></a>
<h2 class="unnumberedsec">Drawing boxes around grobs</h2>


<p>The <code>print-function</code> can be overridden to draw a box around an
arbitrary grob.
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'stencil =
    #(make-stencil-boxer 0.1 0.3 ly:text-interface::print)
  c'4^&quot;foo&quot;

  \override Stem #'stencil =
    #(make-stencil-boxer 0.05 0.25 ly:stem::print)
  \override Score.RehearsalMark  #'stencil =
    #(make-stencil-boxer 0.15 0.3 ly:text-interface::print)
  b8

  \revert Stem #'stencil

  \revert Flag #'stencil
  c4. c4
  \mark &quot;F&quot;
  c1
}
</pre><p>
 <a href="../e8/lily-ad6963c3.ly">
  <img align="middle"
       border="0"
       src="../e8/lily-ad6963c3.png"
       alt="[image of music]">
 </a>
</p>




<a name="drawing-circles-around-various-objects.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Drawing-circles-around-various-objects"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-drawing-boxes-around-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Drawing boxes around grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-dynamics-custom-text-spanner-postfix" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Dynamics custom text spanner postfix &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-drawing-circles-around-various-objects"></a>
<h2 class="unnumberedsec">Drawing circles around various objects</h2>


<p>The <code>\circle</code> markup command draws circles around various
objects, for example fingering indications.  For other objects,
specific tweaks may be required: this example demonstrates two
strategies for rehearsal marks and measure numbers.
</p>

<pre class="verbatim">\relative c' {
  c1
  \set Score.markFormatter =
    #(lambda (mark context)
             (make-circle-markup (format-mark-numbers mark context)))
  \mark \default

  c2 d^\markup {
    \override #'(thickness . 3) {
      \circle \finger 2
    }
  }
  \override Score.BarNumber #'break-visibility = #all-visible
  \override Score.BarNumber #'stencil =
    #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
}
</pre><p>
 <a href="../d2/lily-e974bb41.ly">
  <img align="middle"
       border="0"
       src="../d2/lily-e974bb41.png"
       alt="[image of music]">
 </a>
</p>




<a name="dynamics-custom-text-spanner-postfix.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Dynamics-custom-text-spanner-postfix"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-drawing-circles-around-various-objects" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Drawing circles around various objects&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-dynamics-text-spanner-postfix" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Dynamics text spanner postfix &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-dynamics-custom-text-spanner-postfix"></a>
<h2 class="unnumberedsec">Dynamics custom text spanner postfix</h2>


<p>Postfix functions for custom crescendo text spanners.  The spanners
should start on the first note of the measure.  One has to use
-\mycresc, otherwise the spanner start will rather be assigned to the
next note.
</p>

<pre class="verbatim">% Two functions for (de)crescendo spanners where you can explicitly give the
% spanner text.
mycresc =
#(define-music-function (parser location mymarkup) (markup?)
   (make-music 'CrescendoEvent
               'span-direction START
               'span-type 'text
               'span-text mymarkup))
mydecresc =
#(define-music-function (parser location mymarkup) (markup?)
   (make-music 'DecrescendoEvent
               'span-direction START
               'span-type 'text
               'span-text mymarkup))

\relative c' {
  c4-\mycresc &quot;custom cresc&quot; c4 c4 c4 |
  c4 c4 c4 c4 |
  c4-\mydecresc &quot;custom decresc&quot; c4 c4 c4 |
  c4 c4\! c4 c4
}
</pre><p>
 <a href="../39/lily-1cdbe605.ly">
  <img align="middle"
       border="0"
       src="../39/lily-1cdbe605.png"
       alt="[image of music]">
 </a>
</p>




<a name="dynamics-text-spanner-postfix.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Dynamics-text-spanner-postfix"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-dynamics-custom-text-spanner-postfix" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Dynamics custom text spanner postfix&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-fine_002dtuning-pedal-brackets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Fine-tuning pedal brackets &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-dynamics-text-spanner-postfix"></a>
<h2 class="unnumberedsec">Dynamics text spanner postfix</h2>


<p>Custom text spanners can be defined and used with hairpin and text
crescendos.  <code>\&lt;</code> and <code>\&gt;</code> produce hairpins by default,
<code>\cresc</code> etc. produce text spanners by default.
</p>

<pre class="verbatim">% Some sample text dynamic spanners, to be used as postfix operators
crpoco =
#(make-music 'CrescendoEvent
             'span-direction START
             'span-type 'text
             'span-text &quot;cresc. poco a poco&quot;)

\relative c' {
  c4\cresc d4 e4 f4 |
  g4 a4\! b4\crpoco c4 |
  c4 d4 e4 f4 |
  g4 a4\! b4\&lt; c4 |
  g4\dim a4 b4\decresc c4\!
}
</pre><p>
 <a href="../c7/lily-937a30bf.ly">
  <img align="middle"
       border="0"
       src="../c7/lily-937a30bf.png"
       alt="[image of music]">
 </a>
</p>




<a name="fine-tuning-pedal-brackets.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Fine_002dtuning-pedal-brackets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-dynamics-text-spanner-postfix" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Dynamics text spanner postfix&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-forcing-horizontal-shift-of-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Forcing horizontal shift of notes &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-fine_002dtuning-pedal-brackets"></a>
<h2 class="unnumberedsec">Fine-tuning pedal brackets</h2>


<p>The appearance of pedal brackets may be altered in different ways.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }
\relative c'' {
  c2\sostenutoOn c
  c2\sostenutoOff c
  \once \override Staff.PianoPedalBracket #'shorten-pair = #'(-7 . -2)
  c2\sostenutoOn c
  c2\sostenutoOff c
  \once \override Staff.PianoPedalBracket #'edge-height = #'(0 . 3)
  c2\sostenutoOn c
  c2\sostenutoOff c
}
</pre><p>
 <a href="../38/lily-bb476f1d.ly">
  <img align="middle"
       border="0"
       src="../38/lily-bb476f1d.png"
       alt="[image of music]">
 </a>
</p>




<a name="forcing-horizontal-shift-of-notes.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Forcing-horizontal-shift-of-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-fine_002dtuning-pedal-brackets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Fine-tuning pedal brackets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-fret-diagrams-explained-and-developed" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Fret diagrams explained and developed &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-forcing-horizontal-shift-of-notes"></a>
<h2 class="unnumberedsec">Forcing horizontal shift of notes</h2>


<p>When the typesetting engine cannot cope, the following syntax can be
used to override typesetting decisions. The units of measure used here
are staff spaces.
</p>

<pre class="verbatim">\relative c' &lt;&lt;
  {
    &lt;d g&gt;2 &lt;d g&gt;
  }
  \\
  {
    &lt;b f'&gt;2
    \once \override NoteColumn #'force-hshift = #1.7
    &lt;b f'&gt;2
  }
&gt;&gt;
</pre><p>
 <a href="../ed/lily-90c3384b.ly">
  <img align="middle"
       border="0"
       src="../ed/lily-90c3384b.png"
       alt="[image of music]">
 </a>
</p>




<a name="fret-diagrams-explained-and-developed.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Fret-diagrams-explained-and-developed"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-forcing-horizontal-shift-of-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Forcing horizontal shift of notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-generating-custom-flags" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Generating custom flags &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-fret-diagrams-explained-and-developed"></a>
<h2 class="unnumberedsec">Fret diagrams explained and developed</h2>


<p>This snippet shows many possibilities for obtaining and tweaking fret
diagrams.
</p>

<pre class="verbatim">&lt;&lt;
  \chords {
    a2 a
    \repeat unfold 3 {
      c c c d d
    }
  }

  \new Voice = &quot;mel&quot; {
    \textLengthOn
    % Set global properties of fret diagram
    \override TextScript #'size = #1.2
    \override TextScript
      #'fret-diagram-details #'finger-code = #'below-string
    \override TextScript #'fret-diagram-details #'dot-color = #'black

    %% A chord for ukulele
    a'2^\markup {
      \override #'(fret-diagram-details . (
                   (string-count . 4)
                   (dot-color . white)
                   (finger-code . in-dot))) {
        \fret-diagram #&quot;4-2-2;3-1-1;2-o;1-o;&quot;
      }
    }

    %% A chord for ukulele, with formatting defined in definition string
    %  1.2 * size, 4 strings, 4 frets, fingerings below string
    %  dot radius .35 of fret spacing, dot position 0.55 of fret spacing
    a'2^\markup {
      \override #'(fret-diagram-details . (
                   (dot-color . white)
                   (open-string . &quot;o&quot;))) {
        \fret-diagram #&quot;s:1.2;w:4;h:3;f:2;d:0.35;p:0.55;4-2-2;3-1-1;2-o;1-o;&quot;
      }
    }

      %% These chords will be in normal orientation

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }

    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (string-thickness-factor . 0.3)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup  {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

      % These chords will be in landscape orientation
    \override TextScript
       #'fret-diagram-details #'orientation = #'landscape

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }

    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

      % These chords will be in opposing-landscape orientation
    \override TextScript #'fret-diagram-details
                           #'orientation = #'opposing-landscape

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }

    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }
  }
&gt;&gt;
</pre><p>
 <a href="../d1/lily-a91d9bd6.ly">
  <img align="middle"
       border="0"
       src="../d1/lily-a91d9bd6.png"
       alt="[image of music]">
 </a>
</p>




<a name="generating-custom-flags.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Generating-custom-flags"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-fret-diagrams-explained-and-developed" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Fret diagrams explained and developed&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-glissandi-can-skip-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Glissandi can skip grobs &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-generating-custom-flags"></a>
<h2 class="unnumberedsec">Generating custom flags</h2>


<p>The <code>stencil</code> property of the Flag grob can be set to a custom scheme
function to generate the glyph for the flag.
</p>

<pre class="verbatim">#(define-public (weight-flag grob)
   (let* ((stem-grob (ly:grob-parent grob X))
          (log (- (ly:grob-property stem-grob 'duration-log) 2))
          (is-up? (eqv? (ly:grob-property stem-grob 'direction) UP))
          (yext (if is-up? (cons (* log -0.8) 0) (cons 0 (* log 0.8))))
          (flag-stencil (make-filled-box-stencil '(-0.4 . 0.4) yext))
          (stroke-style (ly:grob-property grob 'stroke-style))
          (stroke-stencil (if (equal? stroke-style &quot;grace&quot;)
                              (make-line-stencil 0.2 -0.9 -0.4 0.9 -0.4)
                              empty-stencil)))
     (ly:stencil-add flag-stencil stroke-stencil)))


% Create a flag stencil by looking up the glyph from the font
#(define (inverted-flag grob)
   (let* ((stem-grob (ly:grob-parent grob X))
          (dir (if (eqv? (ly:grob-property stem-grob 'direction) UP) &quot;d&quot; &quot;u&quot;))
          (flag (retrieve-glyph-flag &quot;&quot; dir &quot;&quot; grob))
          (line-thickness (ly:staff-symbol-line-thickness grob))
          (stem-thickness (ly:grob-property stem-grob 'thickness))
          (stem-width (* line-thickness stem-thickness))
          (stroke-style (ly:grob-property grob 'stroke-style))
          (stencil (if (null? stroke-style)
                       flag
                       (add-stroke-glyph flag stem-grob dir stroke-style &quot;&quot;)))
          (rotated-flag (ly:stencil-rotate-absolute stencil 180 0 0)))
     (ly:stencil-translate rotated-flag (cons (- (/ stem-width 2)) 0))))

snippetexamplenotes = { \autoBeamOff c'8 d'16 c'32 d'64 \acciaccatura {c'8} d'64 }

{
  \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \time 1/4
  \mark &quot;Normal flags&quot;
  \snippetexamplenotes

  \mark &quot;Custom flag: inverted&quot;
  \override Flag #'stencil = #inverted-flag
  \snippetexamplenotes

  \mark &quot;Custom flag: weight&quot;
  \override Flag #'stencil = #weight-flag
  \snippetexamplenotes

  \mark &quot;Revert to normal&quot;
  \revert Flag #'stencil
  \snippetexamplenotes
}
</pre><p>
 <a href="../3a/lily-f19b13a8.ly">
  <img align="middle"
       border="0"
       src="../3a/lily-f19b13a8.png"
       alt="[image of music]">
 </a>
</p>




<a name="glissandi-can-skip-grobs.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Glissandi-can-skip-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-generating-custom-flags" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Generating custom flags&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-hairpins-with-different-line-styles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Hairpins with different line styles &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-glissandi-can-skip-grobs"></a>
<h2 class="unnumberedsec">Glissandi can skip grobs</h2>

<p><code>NoteColumn</code> grobs can be skipped over by glissandi.
</p><pre class="verbatim">\relative c' {
  a2 \glissando
  \once \override NoteColumn #'glissando-skip = ##t
  f''4 d,
}
</pre><p>
 <a href="../c3/lily-23ab7c80.ly">
  <img align="middle"
       border="0"
       src="../c3/lily-23ab7c80.png"
       alt="[image of music]">
 </a>
</p>




<a name="hairpins-with-different-line-styles.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Hairpins-with-different-line-styles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-glissandi-can-skip-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Glissandi can skip grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022-_0022piu-f_0022-_0022subito-p_0022_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot; &quot;piu f&quot; &quot;subito p&quot;) &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-hairpins-with-different-line-styles"></a>
<h2 class="unnumberedsec">Hairpins with different line styles</h2>


<p>Hairpins can take any style from <code>line-interface</code> - dashed-line,
dotted-line, line, trill or zigzag.
</p>

<pre class="verbatim">\relative c' {
  c2\&lt; c\!
  \override Hairpin #'style = #'dashed-line
  c2\&lt; c\!
  \override Hairpin #'style = #'dotted-line
  c2\&lt; c\!
  \override Hairpin #'style = #'line
  c2\&lt; c\!
  \override Hairpin #'style = #'trill
  c2\&lt; c\!
  \override Hairpin #'style = #'zigzag
  c2\&lt; c\!
  \revert Hairpin #'style
  c2\&lt; c\!
}
</pre><p>
 <a href="../20/lily-7fe84c2e.ly">
  <img align="middle"
       border="0"
       src="../20/lily-7fe84c2e.png"
       alt="[image of music]">
 </a>
</p>




<a name="horizontally-aligning-custom-dynamics-e.g.-sempre-pp,-piu-f,-subito-p.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022-_0022piu-f_0022-_0022subito-p_0022_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-hairpins-with-different-line-styles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Hairpins with different line styles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-how-to-change-fret-diagram-position" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: How to change fret diagram position &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022-_0022piu-f_0022-_0022subito-p_0022_0029"></a>
<h2 class="unnumberedsec">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot; &quot;piu f&quot; &quot;subito p&quot;)</h2>


<p>Some dynamic expressions involve additional text, like &ldquo;sempre pp&rdquo;.
Since dynamics are usually centered under the note, the \pp would be
displayed way after the note it applies to.
</p>
<p>To correctly align the &ldquo;sempre pp&rdquo; horizontally, so that it is
aligned as if it were only the \pp, there are several approaches:
</p>
<p>* Simply use <code>\once\override DynamicText #'X-offset = #-9.2</code>
before the note with the dynamics to manually shift it to the correct
position. Drawback: This has to be done manually each time you use that
dynamic markup... * Add some padding (<code>#:hspace 7.1</code>) into the
definition of your custom dynamic mark, so that after lilypond
center-aligns it, it is already correctly aligned. Drawback: The
padding really takes up that space and does not allow any other markup
or dynamics to be shown in that position.
</p>
<p>* Shift the dynamic script <code>\once\override ... #'X-offset = ..</code>.
Drawback: <code>\once\override</code> is needed for every invocation!
</p>
<p>* Set the dimensions of the additional text to 0 (using
<code>#:with-dimensions '(0 . 0) '(0 . 0)</code>). Drawback: To LilyPond
&ldquo;sempre&rdquo; has no extent, so it might put other stuff there and create
collisions (which are not detected by the collision detection!). Also,
there seems to be some spacing, so it&rsquo;s not exactly the same alignment
as without the additional text
</p>
<p>* Add an explicit shifting directly inside the scheme function for the
dynamic-script.
</p>
<p>* Set an explicit alignment inside the dynamic-script. By default, this
won&rsquo;t have any effect, only if one sets X-offset! Drawback: One needs
to set <code>DynamicText #'X-offset</code>, which will apply to all dynamic
texts! Also, it is aligned at the right edge of the additional text,
not at the center of pp.
</p>




<pre class="verbatim">\header { title = &quot;Horizontally aligning custom dynamics&quot; }

\paper { ragged-right = ##f }

% Solution 1: Using a simple markup with a particular halign value
% Drawback: It's a markup, not a dynamic command, so \dynamicDown
%           etc. will have no effect
semppMarkup = \markup { \halign #1.4 \italic &quot;sempre&quot; \dynamic &quot;pp&quot; }

% Solution 2: Using a dynamic script &amp; shifting with
%             \once \override ... #'X-offset = ..
% Drawback: \once \override needed for every invocation
semppK =
#(make-dynamic-script
  (markup #:line
          (#:normal-text
           #:italic &quot;sempre&quot;
           #:dynamic &quot;pp&quot;)))

% Solution 3: Padding the dynamic script so the center-alignment
%             puts it at the correct position
% Drawback: the padding really reserves the space, nothing else can be there
semppT =
#(make-dynamic-script
  (markup #:line
          (#:normal-text
           #:italic &quot;sempre&quot;
           #:dynamic &quot;pp&quot;
           #:hspace 7.1)))

% Solution 4: Dynamic, setting the dimensions of the additional text to 0
% Drawback: To lilypond &quot;sempre&quot; has no extent, so it might put
%           other stuff there =&gt; collisions
% Drawback: Also, there seems to be some spacing, so it's not exactly the
%           same alignment as without the additional text
semppM =
#(make-dynamic-script
  (markup #:line
          (#:with-dimensions '(0 . 0) '(0 . 0)
                             #:right-align
                             #:normal-text
                             #:italic &quot;sempre&quot;
                             #:dynamic &quot;pp&quot;)))

% Solution 5: Dynamic with explicit shifting inside the scheme function
semppG =
#(make-dynamic-script
  (markup #:hspace 0
          #:translate '(-18.85 . 0)
          #:line (#:normal-text
                  #:italic &quot;sempre&quot;
                  #:dynamic &quot;pp&quot;)))

% Solution 6: Dynamic with explicit alignment. This has only effect
%             if one sets X-offset!
% Drawback: One needs to set DynamicText #'X-offset!
% Drawback: Aligned at the right edge of the additional text,
%           not at the center of pp
semppMII =
#(make-dynamic-script
  (markup #:line (#:right-align
                  #:normal-text
                  #:italic &quot;sempre&quot;
                  #:dynamic &quot;pp&quot;)))

\context StaffGroup &lt;&lt;
  \context Staff = &quot;s&quot; &lt;&lt;
    \set Staff.instrumentName = #&quot;Normal&quot;
    \relative c'' {
      \key es \major
      c4\pp c\p c c | c\ff c c\pp c
    }
  &gt;&gt;
  \context Staff = &quot;sMarkup&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Normal markup }
    \relative c'' {
      \key es \major
      c4-\semppMarkup c\p c c | c\ff c c-\semppMarkup c
    }
  &gt;&gt;
  \context Staff = &quot;sK&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Explicit shifting }
    \relative c'' {
      \key es \major
      \once \override DynamicText #'X-offset = #-9.2
      c4\semppK c\p c c
      c4\ff c
      \once \override DynamicText #'X-offset = #-9.2
      c4\semppK c
    }
  &gt;&gt;
  \context Staff = &quot;sT&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Right padding }
    \relative c'' {
      \key es \major
      c4\semppT c\p c c | c\ff c c\semppT c
    }
  &gt;&gt;
  \context Staff = &quot;sM&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Setting dimension &quot;to zero&quot; }
    \relative c'' {
      \key es \major
      c4\semppM c\p c c | c\ff c c\semppM c
    }
  &gt;&gt;
  \context Staff = &quot;sG&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Shifting inside dynamics }
    \relative c'' {
      \key es \major
      c4\semppG c\p c c | c\ff c c\semppG c
    }
  &gt;&gt;
  \context Staff = &quot;sMII&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Alignment inside dynamics }
    \relative c'' {
      \key es \major
      % Setting to ##f (false) gives the same result
      \override DynamicText #'X-offset = #0
      c4\semppMII c\p c c | c\ff c c\semppMII c
    }
  &gt;&gt;
&gt;&gt;
</pre><p>
 <a href="../fa/lily-c3551e82.ly">
  <img align="middle"
       border="0"
       src="../fa/lily-c3551e82.png"
       alt="[image of music]">
 </a>
</p>




<a name="how-to-change-fret-diagram-position.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-How-to-change-fret-diagram-position"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022-_0022piu-f_0022-_0022subito-p_0022_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot; &quot;piu f&quot; &quot;subito p&quot;)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: How to print two rehearsal marks above and below the same barline (method 1) &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-how-to-change-fret-diagram-position"></a>
<h2 class="unnumberedsec">How to change fret diagram position</h2>


<p>If you want to move the position of a fret diagram, for example, to
avoid collision, or to place it between two notes, you have various
possibilities:
</p>
<p>1) modify #&rsquo;padding or #&rsquo;extra-offset values (as shown in the first
snippet)
</p>
<p>2) you can add an invisible voice and attach the fret diagrams to the
invisible notes in that voice (as shown in the second example).
</p>
<p> If you need to move the fret according with a rythmic position inside
the bar (in the example, the third beat of the measure) the second
example is better, because the fret is aligned with the third beat
itself.
</p>

<pre class="verbatim">harmonies = \chordmode
{
  a8:13
% THE FOLLOWING IS THE COMMAND TO MOVE THE CHORD NAME
  \once \override ChordNames.ChordName #'extra-offset = #'(10 . 0)
  b8:13 s2.
% THIS LINE IS THE SECOND METHOD
    s4 s4  b4:13
}

\score
{
  &lt;&lt;
    \context ChordNames \harmonies
    \context Staff
    {a8^\markup { \fret-diagram  #&quot;6-x;5-0;4-2;3-0;2-0;1-2;&quot;  }
% THE FOLLOWING IS THE COMMAND TO MOVE THE FRET DIAGRAM
     \once \override TextScript #'extra-offset = #'(10 . 0)
     b4.~^\markup { \fret-diagram  #&quot;6-x;5-2;4-4;3-2;2-2;1-4;&quot;  } b4. a8\break
% HERE IS THE SECOND METHOD
     &lt;&lt;
       { a8 b4.~ b4. a8}
       { s4 s4 s4^\markup { \fret-diagram  #&quot;6-x;5-2;4-4;3-2;2-2;1-4;&quot;  }
       }
     &gt;&gt;
   }
  &gt;&gt;
}
</pre><p>
 <a href="../35/lily-2a7fe378.ly">
  <img align="middle"
       border="0"
       src="../35/lily-2a7fe378.png"
       alt="[image of music]">
 </a>
</p>




<a name="how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-method-1.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-how-to-change-fret-diagram-position" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: How to change fret diagram position&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: How to print two rehearsal marks above and below the same barline (method 2) &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029"></a>
<h2 class="unnumberedsec">How to print two rehearsal marks above and below the same barline (method 1)</h2>


<p>This method prints two &rsquo;rehearsal marks&rsquo;, one on top of the other. It
shifts the lower rehearsal mark below the staff and then adds padding
above it in order to place the upper rehearsal mark above the staff.
</p>
<p>By adjusting the extra-offset and baseline-skip values you can increase
or decrease the overall space between the rehearsal mark and the staff.
</p>
<p>Because nearly every type of glyph or string can be made to behave like
a rehearsal mark it is possible to centre those above and below a bar
line.
</p>
<p>Adding the appropriate &rsquo;break visibility&rsquo; as shown in snippet 1 will
allow you to position two marks at the end of a line as well.
</p>
<p>Note: Method 1 is less complex than Method 2 but does not really allow
for fine tuning of placement of one of the rehearsal marks without
affecting the other.  It may also give some problems with vertical
spacing, since using <code>extra-offset</code> does not change the bounding
box of the mark from its original value.
</p>



<pre class="verbatim">\relative c'{
    c d e f |
    \once \override Score.RehearsalMark #'extra-offset = #'(0 . -8.5)
    \once \override Score.RehearsalMark #'baseline-skip = #9
    \mark \markup \center-column { \circle 1 \box A }
    g f e d |
    \once \override Score.RehearsalMark #'extra-offset = #'(0 . -8.5)
    \once \override Score.RehearsalMark #'baseline-skip = #9
    \mark \markup \center-column { \flat { \bold \small \italic Fine. } }
    g f e d |
    \once \override Score.RehearsalMark #'extra-offset = #'(0 . -8.5)
    \once \override Score.RehearsalMark #'baseline-skip = #9
    \override Score.RehearsalMark #'break-visibility = #begin-of-line-invisible
    \mark \markup \center-column { \musicglyph #&quot;scripts.ufermata&quot; \box z }
}
</pre><p>
 <a href="../16/lily-c46c6849.ly">
  <img align="middle"
       border="0"
       src="../16/lily-c46c6849.png"
       alt="[image of music]">
 </a>
</p>




<a name="how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-method-2.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: How to print two rehearsal marks above and below the same barline (method 1)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-inserting-a-caesura" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Inserting a caesura &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029"></a>
<h2 class="unnumberedsec">How to print two rehearsal marks above and below the same barline (method 2)</h2>


<p>This method prints two &rsquo;rehearsal marks&rsquo; - one above the stave and one
below, by creating two voices, adding the Rehearsal Mark engraver to
each voice - without this no rehearsal mark is printed - and then
placing each rehearsal mark UP and DOWN in each voice respectively.
</p>
<p>This method (as opposed to method 1) is more complex, but allows for
more flexibility, should it be needed to tweak each rehearsal mark
independently of the other.
</p>

<pre class="verbatim">\score {
  \relative c'
  &lt;&lt;
    \new Staff {
      &lt;&lt;
        \new Voice \with {
          \consists &quot;Mark_engraver&quot;
          \consists &quot;Staff_collecting_engraver&quot;
        }
        { c4 d e f
          \mark \markup { \box A }
          c4 d e f
        }
        \new Voice \with {
          \consists &quot;Mark_engraver&quot;
          \consists &quot;Staff_collecting_engraver&quot;
          \override RehearsalMark #'direction = #DOWN
        }
        { s4 s s s
          \mark \markup { \circle 1 }
          s4 s s s
        }
      &gt;&gt;
    }
  &gt;&gt;
  \layout {
    \context {
      \Score
      \remove &quot;Mark_engraver&quot;
      \remove &quot;Staff_collecting_engraver&quot;
    }
  }
}
</pre><p>
 <a href="../b4/lily-d1e83483.ly">
  <img align="middle"
       border="0"
       src="../b4/lily-d1e83483.png"
       alt="[image of music]">
 </a>
</p>




<a name="inserting-a-caesura.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Inserting-a-caesura"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: How to print two rehearsal marks above and below the same barline (method 2)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-keep-change-clefs-full-sized" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Keep change clefs full sized &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-inserting-a-caesura"></a>
<h2 class="unnumberedsec">Inserting a caesura</h2>


<p>Caesura marks can be created by overriding the <code>'text</code> property of
the <code>BreathingSign</code> object. A curved caesura mark is also
available.
</p>

<pre class="verbatim">\relative c'' {
  \override BreathingSign #'text = \markup {
    \musicglyph #&quot;scripts.caesura.straight&quot;
  }
  c8 e4. \breathe g8. e16 c4

  \override BreathingSign #'text = \markup {
    \musicglyph #&quot;scripts.caesura.curved&quot;
  }
  g8 e'4. \breathe g8. e16 c4
}
</pre><p>
 <a href="../91/lily-1b5b73bf.ly">
  <img align="middle"
       border="0"
       src="../91/lily-1b5b73bf.png"
       alt="[image of music]">
 </a>
</p>




<a name="keep-change-clefs-full-sized.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Keep-change-clefs-full-sized"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-inserting-a-caesura" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Inserting a caesura&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-line-arrows" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Line arrows &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-keep-change-clefs-full-sized"></a>
<h2 class="unnumberedsec">Keep change clefs full sized</h2>


<p>When a clef is changed, the clef sign displayed is smaller than the
initial clef.  This can be overridden with <code>full-size-change</code>.
</p>

<pre class="verbatim">\relative c' {
  \clef &quot;treble&quot;
  c1
  \clef &quot;bass&quot;
  c1
  \clef &quot;treble&quot;
  c1
  \override Staff.Clef #'full-size-change = ##t
  \clef &quot;bass&quot;
  c1
  \clef &quot;treble&quot;
  c1
  \revert Staff.Clef #'full-size-change
  \clef &quot;bass&quot;
  c1
  \clef &quot;treble&quot;
  c1
}
</pre><p>
 <a href="../d4/lily-b4e252f3.ly">
  <img align="middle"
       border="0"
       src="../d4/lily-b4e252f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="line-arrows.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Line-arrows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-keep-change-clefs-full-sized" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Keep change clefs full sized&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-making-an-object-invisible-with-the-_0027transparent-property" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Making an object invisible with the 'transparent property &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-line-arrows"></a>
<h2 class="unnumberedsec">Line arrows</h2>


<p>Arrows can be applied to text-spanners and line-spanners (such as the
Glissando).
</p>

<pre class="verbatim">\relative c'' {
  \override TextSpanner #'bound-padding = #1.0
  \override TextSpanner #'style = #'line
  \override TextSpanner #'(bound-details right arrow) = ##t
  \override TextSpanner #'(bound-details left text) = #&quot;fof&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;gag&quot;
  \override TextSpanner #'(bound-details right padding) = #0.6

  \override TextSpanner #'(bound-details right stencil-align-dir-y) = #CENTER
  \override TextSpanner #'(bound-details left stencil-align-dir-y) = #CENTER

  \override Glissando #'(bound-details right arrow) = ##t
  \override Glissando #'arrow-length = #0.5
  \override Glissando #'arrow-width = #0.25

  a8\startTextSpan gis a4 b\glissando b,
  g'4 c\stopTextSpan c2
}
</pre><p>
 <a href="../da/lily-24c61f6b.ly">
  <img align="middle"
       border="0"
       src="../da/lily-24c61f6b.png"
       alt="[image of music]">
 </a>
</p>




<a name="making-an-object-invisible-with-the-transparent-property.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Making-an-object-invisible-with-the-_0027transparent-property"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-line-arrows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Line arrows&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-manually-controlling-beam-positions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Manually controlling beam positions &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-making-an-object-invisible-with-the-_0027transparent-property"></a>
<h2 class="unnumberedsec">Making an object invisible with the &rsquo;transparent property</h2>


<p>Setting the <code>transparent</code> property will cause an object to be
printed in &ldquo;invisible ink&rdquo;: the object is not printed, but all its
other behavior is retained.  The object still takes up space, it takes
part in collisions, and slurs, ties and beams can be attached to it.
</p>

<p>This snippet demonstrates how to connect different voices using ties.
Normally, ties only connect two notes in the same voice.  By
introducing a tie in a different voice, and blanking the first up-stem
in that voice, the tie appears to cross voices.
</p>

<pre class="verbatim">\relative c'' {
  \time 2/4
  &lt;&lt;
    {
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      b8 ~ b\noBeam
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      g8 ~ g\noBeam
    }
    \\
    {
      b8 g g e
    }
  &gt;&gt;
}
</pre><p>
 <a href="../b3/lily-8c01f769.ly">
  <img align="middle"
       border="0"
       src="../b3/lily-8c01f769.png"
       alt="[image of music]">
 </a>
</p>




<a name="manually-controlling-beam-positions.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Manually-controlling-beam-positions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-making-an-object-invisible-with-the-_0027transparent-property" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Making an object invisible with the 'transparent property&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-mensurstriche-layout-_0028bar-lines-between-the-staves_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Mensurstriche layout (bar lines between the staves) &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-manually-controlling-beam-positions"></a>
<h2 class="unnumberedsec">Manually controlling beam positions</h2>


<p>Beam positions may be controlled manually, by overriding the
<code>positions</code> setting of the <code>Beam</code> grob.
</p>




<pre class="verbatim">\relative c' {
  \time 2/4
  % from upper staff-line (position 2) to center (position 0)
  \override Beam #'positions = #'(2 . 0)
  c8 c
  % from center to one above center (position 1)
  \override Beam #'positions = #'(0 . 1)
  c8 c
}
</pre><p>
 <a href="../fc/lily-e74d8c81.ly">
  <img align="middle"
       border="0"
       src="../fc/lily-e74d8c81.png"
       alt="[image of music]">
 </a>
</p>




<a name="mensurstriche-layout-bar-lines-between-the-staves.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-manually-controlling-beam-positions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Manually controlling beam positions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-moving-dotted-notes-in-polyphony" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Moving dotted notes in polyphony &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-mensurstriche-layout-_0028bar-lines-between-the-staves_0029"></a>
<h2 class="unnumberedsec">Mensurstriche layout (bar lines between the staves)</h2>


<p>The mensurstriche-layout where the bar lines do not show on the staves
but between staves can be achieved with a <code>StaffGroup</code> instead of
a <code>ChoirStaff</code>.  The bar line on staves is blanked out by setting
the <code>transparent</code> property.
</p>

<pre class="verbatim">global = {
  \override Staff.BarLine #'transparent = ##t
  s1 s
  % the final bar line is not interrupted
  \revert Staff.BarLine #'transparent
  \bar &quot;|.&quot;
}
\new StaffGroup \relative c'' {
  &lt;&lt;
    \new Staff { &lt;&lt; \global { c1 c } &gt;&gt; }
    \new Staff { &lt;&lt; \global { c c } &gt;&gt; }
  &gt;&gt;
}
</pre><p>
 <a href="../ce/lily-66de95b8.ly">
  <img align="middle"
       border="0"
       src="../ce/lily-66de95b8.png"
       alt="[image of music]">
 </a>
</p>




<a name="moving-dotted-notes-in-polyphony.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Moving-dotted-notes-in-polyphony"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-mensurstriche-layout-_0028bar-lines-between-the-staves_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Mensurstriche layout (bar lines between the staves)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-moving-slur-positions-vertically" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Moving slur positions vertically &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-moving-dotted-notes-in-polyphony"></a>
<h2 class="unnumberedsec">Moving dotted notes in polyphony</h2>


<p>When a dotted note in the upper voice is moved to avoid a collision
with a note in another voice, the default is to move the upper note to
the right.  This behaviour can be over-ridden by using the
<code>prefer-dotted-right</code> property of <code>NoteCollision</code>.
</p>

<pre class="verbatim">\new Staff \relative c' &lt;&lt;
  { f2. f4
    \override Staff.NoteCollision #'prefer-dotted-right = ##f
    f2. f4
    \override Staff.NoteCollision #'prefer-dotted-right = ##t
    f2. f4
  }
  \\
  { e4 e e e e e e e e e e e}
&gt;&gt;
</pre><p>
 <a href="../1d/lily-79847adf.ly">
  <img align="middle"
       border="0"
       src="../1d/lily-79847adf.png"
       alt="[image of music]">
 </a>
</p>




<a name="moving-slur-positions-vertically.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Moving-slur-positions-vertically"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-moving-dotted-notes-in-polyphony" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Moving dotted notes in polyphony&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-nesting-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Nesting staves &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-moving-slur-positions-vertically"></a>
<h2 class="unnumberedsec">Moving slur positions vertically</h2>


<p>The vertical position of a slur can be adjusted using the
<code>positions</code> property of <code>Slur</code>.  The property has 2
parameters, the first referring to the left end of the slur and the
second to the right.  The values of the parameters are not used by
LilyPond to make an exact movement of the slur - instead it selects
what placement of the slur looks best, taking into account the
parameter values.  Positive values move the slur up, and are
appropriate for notes with stems down.  Negative values move downward
slurs further down.
</p>

<pre class="verbatim">\relative c' {
  \stemDown
  e4( a)
  \override Slur #'positions = #'(1 . 1)
  e4( a)
  \override Slur #'positions = #'(2 . 2)
  e4( a)
  \override Slur #'positions = #'(3 . 3)
  e4( a)
  \override Slur #'positions = #'(4 . 4)
  e4( a)
  \override Slur #'positions = #'(5 . 5)
  e4( a)
  \override Slur #'positions = #'(0 . 5)
  e4( a)
  \override Slur #'positions = #'(5 . 0)
  e4( a)
  \stemUp
  \override Slur #'positions = #'(-5 . -5)
  e4( a)
  \stemDown
  \revert Slur #'positions
  e4( a)
}
</pre><p>
 <a href="../d6/lily-110cd6a5.ly">
  <img align="middle"
       border="0"
       src="../d6/lily-110cd6a5.png"
       alt="[image of music]">
 </a>
</p>




<a name="nesting-staves.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Nesting-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-moving-slur-positions-vertically" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Moving slur positions vertically&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-percent-repeat-count-visibility" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Percent repeat count visibility &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-nesting-staves"></a>
<h2 class="unnumberedsec">Nesting staves</h2>


<p>The property <code>systemStartDelimiterHierarchy</code> can be used to make
more complex nested staff groups. The command <code>\set
StaffGroup.systemStartDelimiterHierarchy</code> takes an alphabetical list of
the number of staves produced. Before each staff a system start
delimiter can be given. It has to be enclosed in brackets and takes as
much staves as the brackets enclose. Elements in the list can be
omitted, but the first bracket takes always the complete number of
staves. The possibilities are <code>SystemStartBar</code>,
<code>SystemStartBracket</code>, <code>SystemStartBrace</code>, and
<code>SystemStartSquare</code>.
</p>

<pre class="verbatim">\new StaffGroup
\relative c'' &lt;&lt;
  \set StaffGroup.systemStartDelimiterHierarchy
    = #'(SystemStartSquare (SystemStartBrace (SystemStartBracket a
                             (SystemStartSquare b)  ) c ) d)
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
&gt;&gt;
</pre><p>
 <a href="../63/lily-58be12b8.ly">
  <img align="middle"
       border="0"
       src="../63/lily-58be12b8.png"
       alt="[image of music]">
 </a>
</p>




<a name="percent-repeat-count-visibility.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Percent-repeat-count-visibility"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-nesting-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Nesting staves&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-positioning-arpeggios" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Positioning arpeggios &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-percent-repeat-count-visibility"></a>
<h2 class="unnumberedsec">Percent repeat count visibility</h2>


<p>Percent repeat counters can be shown at regular intervals by setting
the context property <code>repeatCountVisibility</code>.
</p>

<pre class="verbatim">\relative c'' {
  \set countPercentRepeats = ##t
  \set repeatCountVisibility = #(every-nth-repeat-count-visible 5)
  \repeat percent 10 { c1 } \break
  \set repeatCountVisibility = #(every-nth-repeat-count-visible 2)
  \repeat percent 6 { c1 d1 }
}
</pre><p>
 <a href="../56/lily-018b30cf.ly">
  <img align="middle"
       border="0"
       src="../56/lily-018b30cf.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-arpeggios.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Positioning-arpeggios"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-percent-repeat-count-visibility" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Percent repeat count visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-positioning-multi_002dmeasure-rests" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Positioning multi-measure rests &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-positioning-arpeggios"></a>
<h2 class="unnumberedsec">Positioning arpeggios</h2>


<p>If you need to extend or shorten an arpeggio, you can modify the upper
and lower start positions independently.
</p>

<pre class="verbatim">\relative c' {
  &lt;c e g b&gt;1\arpeggio
  \once \override Arpeggio #'positions = #'(-5 . 0)
  &lt;c e g b&gt;1\arpeggio
  \once \override Arpeggio #'positions = #'(0 . 5)
  &lt;c e g b&gt;1\arpeggio
  \once \override Arpeggio #'positions = #'(-5 . 5)
  &lt;c e g b&gt;1\arpeggio
}
</pre><p>
 <a href="../e3/lily-84bed9e1.ly">
  <img align="middle"
       border="0"
       src="../e3/lily-84bed9e1.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-multi-measure-rests.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Positioning-multi_002dmeasure-rests"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-positioning-arpeggios" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Positioning arpeggios&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-positioning-text-markups-inside-slurs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Positioning text markups inside slurs &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-positioning-multi_002dmeasure-rests"></a>
<h2 class="unnumberedsec">Positioning multi-measure rests</h2>


<p>Unlike ordinary rests, there is no predefined command to change the
staff position of a multi-measure rest symbol of either form by
attaching it to a note.  However, in polyphonic music multi-measure
rests in odd-numbered and even-numbered voices are vertically
separated. The positioning of multi-measure rests can be controlled as
follows:
</p>

<pre class="verbatim">\relative c'' {
  % Multi-measure rests by default are set under the fourth line
  R1
  % They can be moved using an override
  \override MultiMeasureRest #'staff-position = #-2
  R1
  \override MultiMeasureRest #'staff-position = #0
  R1
  \override MultiMeasureRest #'staff-position = #2
  R1
  \override MultiMeasureRest #'staff-position = #3
  R1
  \override MultiMeasureRest #'staff-position = #6
  R1
  \revert MultiMeasureRest #'staff-position
  \break

  % In two Voices, odd-numbered voices are under the top line
  &lt;&lt; { R1 } \\ { a1 } &gt;&gt;
  % Even-numbered voices are under the bottom line
  &lt;&lt; { a1 } \\ { R1 } &gt;&gt;
  % Multi-measure rests in both voices remain separate
  &lt;&lt; { R1 } \\ { R1 } &gt;&gt;

  % Separating multi-measure rests in more than two voices
  % requires an override
  &lt;&lt; { R1 } \\ { R1 } \\
     \once \override MultiMeasureRest #'staff-position = #0
     { R1 }
  &gt;&gt;

  % Using compressed bars in multiple voices requires another override
  % in all voices to avoid multiple instances being printed
  \compressFullBarRests
  &lt;&lt;
   \revert MultiMeasureRest #'staff-position
    { R1*3 }
    \\
   \revert MultiMeasureRest #'staff-position
    { R1*3 }
  &gt;&gt;
}
</pre><p>
 <a href="../87/lily-45b9747c.ly">
  <img align="middle"
       border="0"
       src="../87/lily-45b9747c.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-text-markups-inside-slurs.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Positioning-text-markups-inside-slurs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-positioning-multi_002dmeasure-rests" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Positioning multi-measure rests&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-printing-a-repeat-sign-at-the-beginning-of-a-piece" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Printing a repeat sign at the beginning of a piece &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-positioning-text-markups-inside-slurs"></a>
<h2 class="unnumberedsec">Positioning text markups inside slurs</h2>


<p>Text markups need to have the <code>outside-staff-priority</code> property
set to false in order to be printed inside slurs.
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'avoid-slur = #'inside
  \override TextScript #'outside-staff-priority = ##f
  c2(^\markup { \halign #-10 \natural } d4.) c8
}
</pre><p>
 <a href="../fb/lily-8174630f.ly">
  <img align="middle"
       border="0"
       src="../fb/lily-8174630f.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-a-repeat-sign-at-the-beginning-of-a-piece.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Printing-a-repeat-sign-at-the-beginning-of-a-piece"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-positioning-text-markups-inside-slurs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Positioning text markups inside slurs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-printing-bar-numbers-inside-boxes-or-circles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Printing bar numbers inside boxes or circles &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-printing-a-repeat-sign-at-the-beginning-of-a-piece"></a>
<h2 class="unnumberedsec">Printing a repeat sign at the beginning of a piece</h2>


<p>A <code>|:</code> bar line can be printed at the beginning of a piece, by
overriding the relevant property:
</p>

<pre class="verbatim">\relative c'' {
  \once \override Score.BreakAlignment #'break-align-orders =
    #(make-vector 3 '(instrument-name
                      left-edge
                      ambitus
                      breathing-sign
                      clef
                      key-signature
                      time-signature
                      staff-bar
                      custos))
  \once \override Staff.TimeSignature #'space-alist =
    #'((first-note . (fixed-space . 2.0))
       (right-edge . (extra-space . 0.5))
       ;; free up some space between time signature
       ;; and repeat bar line
       (staff-bar . (extra-space . 1)))
  \bar &quot;|:&quot;
  c1
  d1
  d4 e f g
}
</pre><p>
 <a href="../8a/lily-56eec78d.ly">
  <img align="middle"
       border="0"
       src="../8a/lily-56eec78d.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-bar-numbers-inside-boxes-or-circles.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Printing-bar-numbers-inside-boxes-or-circles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-printing-a-repeat-sign-at-the-beginning-of-a-piece" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Printing a repeat sign at the beginning of a piece&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-printing-metronome-and-rehearsal-marks-below-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Printing metronome and rehearsal marks below the staff &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-printing-bar-numbers-inside-boxes-or-circles"></a>
<h2 class="unnumberedsec">Printing bar numbers inside boxes or circles</h2>


<p>Bar numbers can also be printed inside boxes or circles.
</p>

<pre class="verbatim">\relative c' {
  % Prevent bar numbers at the end of a line and permit them elsewhere
  \override Score.BarNumber #'break-visibility = #end-of-line-invisible
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 4)

  % Increase the size of the bar number by 2
  \override Score.BarNumber #'font-size = #2

  % Draw a box round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-boxer 0.1 0.25 ly:text-interface::print)
  \repeat unfold 5 { c1 }

  % Draw a circle round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
  \repeat unfold 4 { c1 } \bar &quot;|.&quot;
}
</pre><p>
 <a href="../96/lily-bd44ffc1.ly">
  <img align="middle"
       border="0"
       src="../96/lily-bd44ffc1.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-metronome-and-rehearsal-marks-below-the-staff.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Printing-metronome-and-rehearsal-marks-below-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-printing-bar-numbers-inside-boxes-or-circles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Printing bar numbers inside boxes or circles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-printing-note-names-with-and-without-an-octave-marker" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Printing note names with and without an octave marker &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-printing-metronome-and-rehearsal-marks-below-the-staff"></a>
<h2 class="unnumberedsec">Printing metronome and rehearsal marks below the staff</h2>


<p>By default, metronome and rehearsal marks are printed above the staff.
To place them below the staff simply set the <code>direction</code> property
of <code>MetronomeMark</code> or <code>RehearsalMark</code> appropriately.
</p>

<pre class="verbatim">\layout { ragged-right = ##f }

{
  % Metronome marks below the staff
  \override Score.MetronomeMark #'direction = #DOWN
  \tempo 8. = 120
  c''1

  % Rehearsal marks below the staff
  \override Score.RehearsalMark #'direction = #DOWN
  \mark \default
  c''1
}
</pre><p>
 <a href="../a1/lily-51255d6f.ly">
  <img align="middle"
       border="0"
       src="../a1/lily-51255d6f.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-note-names-with-and-without-an-octave-marker.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Printing-note-names-with-and-without-an-octave-marker"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-printing-metronome-and-rehearsal-marks-below-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Printing metronome and rehearsal marks below the staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Proportional strict notespacing &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-printing-note-names-with-and-without-an-octave-marker"></a>
<h2 class="unnumberedsec">Printing note names with and without an octave marker</h2>


<p>The <code>NoteNames</code> context can be used to print the text value of
notes.  The <code>printOctaveNames</code> property turns on or off the
representation of the octave of the note.
</p>

<pre class="verbatim">scale = \relative c' {
  a4 b c d
  e4 f g a
}

\new Staff {
  &lt;&lt;
    \scale
    \context NoteNames {
      \set printOctaveNames = ##f
      \scale
    }
  &gt;&gt;
  R1
  &lt;&lt;
    \scale
    \context NoteNames {
      \set printOctaveNames = ##t
      \scale
    }
  &gt;&gt;
}
</pre><p>
 <a href="../00/lily-bc16b273.ly">
  <img align="middle"
       border="0"
       src="../00/lily-bc16b273.png"
       alt="[image of music]">
 </a>
</p>




<a name="proportional-strict-notespacing.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-printing-note-names-with-and-without-an-octave-marker" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Printing note names with and without an octave marker&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-removing-connecting-bar-lines-on-staffgroup-pianostaff-or-grandstaff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Removing connecting bar lines on StaffGroup PianoStaff or GrandStaff &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-proportional-strict-notespacing"></a>
<h2 class="unnumberedsec">Proportional strict notespacing</h2>


<p>If <code>strict-note-spacing</code> is set spacing of notes is not influenced
by bars or clefs within a system. Rather, they are placed just before
the note that occurs at the same time. This may cause collisions.
</p>

<pre class="verbatim">\relative c'' &lt;&lt;
  \override Score.SpacingSpanner #'strict-note-spacing = ##t
  \set Score.proportionalNotationDuration = #(ly:make-moment 1 16)
  \new Staff {
    c8[ c \clef alto c c \grace { d16 } c8 c] c4
    c2 \grace { c16[ c16] } c2
  }
  \new Staff {
    c2 \times 2/3 { c8 \clef bass cis,, c } c4
    c1
  }
&gt;&gt;
</pre><p>
 <a href="../6d/lily-fe9b797c.ly">
  <img align="middle"
       border="0"
       src="../6d/lily-fe9b797c.png"
       alt="[image of music]">
 </a>
</p>




<a name="removing-connecting-bar-lines-on-staffgroup,-pianostaff,-or-grandstaff.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Removing-connecting-bar-lines-on-StaffGroup-PianoStaff-or-GrandStaff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Proportional strict notespacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-removing-the-first-empty-line" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Removing the first empty line &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-removing-connecting-bar-lines-on-staffgroup-pianostaff-or-grandstaff"></a>
<h2 class="unnumberedsec">Removing connecting bar lines on StaffGroup PianoStaff or GrandStaff</h2>


<p>By default, bar lines in StaffGroup, PianoStaff, or GrandStaff groups
are connected between the staves.  This behaviour can be overridden on
a staff-by-staff basis.
</p>

<pre class="verbatim">\relative c' {
  \new StaffGroup &lt;&lt;
    \new Staff {
      e1 | e
      \once \override Staff.BarLine #'allow-span-bar = ##f
      e1 | e | e
    }
    \new Staff {
      c1 | c | c
      \once \override Staff.BarLine #'allow-span-bar = ##f
      c1 | c
    }
    \new Staff {
      a1 | a | a | a | a
    }
  &gt;&gt;
}
</pre><p>
 <a href="../cf/lily-3c059f72.ly">
  <img align="middle"
       border="0"
       src="../cf/lily-3c059f72.png"
       alt="[image of music]">
 </a>
</p>




<a name="removing-the-first-empty-line.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Removing-the-first-empty-line"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-removing-connecting-bar-lines-on-staffgroup-pianostaff-or-grandstaff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Removing connecting bar lines on StaffGroup PianoStaff or GrandStaff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-rest-styles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Rest styles &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-removing-the-first-empty-line"></a>
<h2 class="unnumberedsec">Removing the first empty line</h2>


<p>The first empty staff can also be removed from the score by setting the
<code>VerticalAxisGroup</code> property <code>remove-first</code>. This can be done
globally inside the <code>\layout</code> block, or locally inside the
specific staff that should be removed.  In the latter case, you have to
specify the context (<code>Staff</code> applies only to the current staff) in
front of the property.
</p>
<p>The lower staff of the second staff group is not removed, because the
setting applies only to the specific staff inside of which it is
written.
</p>

<pre class="verbatim">\layout {
  \context {
    \Staff \RemoveEmptyStaves
    % To use the setting globally, uncomment the following line:
    % \override VerticalAxisGroup #'remove-first = ##t
  }
}
\new StaffGroup &lt;&lt;
  \new Staff \relative c' {
    e4 f g a \break
    c1
  }
  \new Staff {
    % To use the setting globally, comment this line,
    % uncomment the line in the \layout block above
    \override Staff.VerticalAxisGroup #'remove-first = ##t
    R1 \break
    R
  }
&gt;&gt;
\new StaffGroup &lt;&lt;
  \new Staff \relative c' {
    e4 f g a \break
    c1
  }
  \new Staff {
    R1 \break
    R
  }
&gt;&gt;
</pre><p>
 <a href="../b6/lily-da32870b.ly">
  <img align="middle"
       border="0"
       src="../b6/lily-da32870b.png"
       alt="[image of music]">
 </a>
</p>




<a name="rest-styles.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Rest-styles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-removing-the-first-empty-line" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Removing the first empty line&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-rhythmic-slashes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Rhythmic slashes &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-rest-styles"></a>
<h2 class="unnumberedsec">Rest styles</h2>


<p>Rests may be used in various styles.
</p>




<pre class="verbatim">\layout {
  indent = 0
  \context {
    \Staff
    \remove &quot;Time_signature_engraver&quot;
  }
}

\new Staff \relative c {
  \cadenzaOn
  \override Staff.Rest #'style = #'mensural
  r\maxima^\markup \typewriter { mensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;

  \override Staff.Rest #'style = #'neomensural
  r\maxima^\markup \typewriter { neomensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;

  \override Staff.Rest #'style = #'classical
  r\maxima^\markup \typewriter { classical }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
  \bar &quot;&quot;

  \override Staff.Rest  #'style = #'default
  r\maxima^\markup \typewriter { default }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
}
</pre><p>
 <a href="../c4/lily-369f8e6b.ly">
  <img align="middle"
       border="0"
       src="../c4/lily-369f8e6b.png"
       alt="[image of music]">
 </a>
</p>




<a name="rhythmic-slashes.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Rhythmic-slashes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-rest-styles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Rest styles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-separating-key-cancellations-from-key-signature-changes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Separating key cancellations from key signature changes &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-rhythmic-slashes"></a>
<h2 class="unnumberedsec">Rhythmic slashes</h2>


<p>In &ldquo;simple&rdquo; lead-sheets, sometimes no actual notes are written,
instead only &ldquo;rhythmic patterns&rdquo; and chords above the measures are
notated giving the structure of a song. Such a feature is for example
useful while creating/transcribing the structure of a song and also
when sharing lead sheets with guitarists or jazz musicians. The
standard support for this using <code>\repeat percent</code> is unsuitable
here since the first beat has to be an ordinary note or rest. This
example shows two solutions to this problem, by redefining ordinary
rests to be printed as slashes. (If the duration of each beat is not a
quarter note, replace the <code>r4</code> in the definitions with a rest of
the appropriate duration).
</p>

<pre class="verbatim">% Macro to print single slash
rs = {
  \once \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
  \once \override Rest #'thickness = #0.48
  \once \override Rest #'slope = #1.7
  r4
}

% Function to print a specified number of slashes
comp = #(define-music-function (parser location count) (integer?)
  #{
    \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
    \override Rest #'thickness = #0.48
    \override Rest #'slope = #1.7
    \repeat unfold $count { r4 }
    \revert Rest #'stencil
  #}
)

\score {
  \relative c' {
    c4 d e f |
    \rs \rs \rs \rs |
    \comp #4 |
  }
}
</pre><p>
 <a href="../a1/lily-6c925a71.ly">
  <img align="middle"
       border="0"
       src="../a1/lily-6c925a71.png"
       alt="[image of music]">
 </a>
</p>




<a name="separating-key-cancellations-from-key-signature-changes.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Separating-key-cancellations-from-key-signature-changes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-rhythmic-slashes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Rhythmic slashes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-setting-hairpin-behavior-at-bar-lines" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Setting hairpin behavior at bar lines &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-separating-key-cancellations-from-key-signature-changes"></a>
<h2 class="unnumberedsec">Separating key cancellations from key signature changes</h2>


<p>By default, the accidentals used for key cancellations are placed
adjacent to those for key signature changes.  This behavior can be
changed by overriding the <code>'break-align-orders</code> property of the
<code>BreakAlignment</code> grob.
</p>

<p>The value of <code>'break-align-orders</code> is a vector of length 3, with
quoted lists of breakable items as elements.  This example only
modifies the second list, moving <code>key-cancellation</code> before
<code>staff-bar</code>; by modifying the second list, break alignment
behavior only changes in the middle of a system, not at the beginning
or the end.
</p>

<pre class="verbatim">\new Staff {
  \override Score.BreakAlignment #'break-align-orders =
    #'#((left-edge ambitus breathing-sign clef staff-bar
                   key-cancellation key-signature time-signature custos)

        (left-edge ambitus breathing-sign clef key-cancellation
                   staff-bar key-signature time-signature custos)

        (left-edge ambitus breathing-sign clef key-cancellation
                   key-signature staff-bar time-signature custos))

  \key des \major
  c'1
  \bar &quot;||&quot;
  \key bes \major
  c'1
}
</pre><p>
 <a href="../07/lily-d09be899.ly">
  <img align="middle"
       border="0"
       src="../07/lily-d09be899.png"
       alt="[image of music]">
 </a>
</p>




<a name="setting-hairpin-behavior-at-bar-lines.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Setting-hairpin-behavior-at-bar-lines"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-separating-key-cancellations-from-key-signature-changes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Separating key cancellations from key signature changes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-setting-system-separators" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Setting system separators &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-setting-hairpin-behavior-at-bar-lines"></a>
<h2 class="unnumberedsec">Setting hairpin behavior at bar lines</h2>


<p>If the note which ends a hairpin falls on a downbeat, the hairpin stops
at the bar line immediately preceding.  This behavior can be controlled
by overriding the <code>'to-barline</code> property.
</p>

<pre class="verbatim">\relative c'' {
  e4\&lt; e2.
  e1\!
  \override Hairpin #'to-barline = ##f
  e4\&lt; e2.
  e1\!
}
</pre><p>
 <a href="../ca/lily-a6651e22.ly">
  <img align="middle"
       border="0"
       src="../ca/lily-a6651e22.png"
       alt="[image of music]">
 </a>
</p>




<a name="setting-system-separators.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Setting-system-separators"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-setting-hairpin-behavior-at-bar-lines" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Setting hairpin behavior at bar lines&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-showing-the-same-articulation-above-and-below-a-note-or-chord" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Showing the same articulation above and below a note or chord &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-setting-system-separators"></a>
<h2 class="unnumberedsec">Setting system separators</h2>


<p>System separators can be inserted between systems.  Any markup can be
used, but <code>\slashSeparator</code> has been provided as a sensible
default.
</p>

<pre class="verbatim">\paper {
  system-separator-markup = \slashSeparator
}

notes = \relative c' {
  c1 | c \break
  c1 | c \break
  c1 | c
}

\book {
  \score {
    \new GrandStaff &lt;&lt;
      \new Staff \notes
      \new Staff \notes
    &gt;&gt;
  }
}
</pre><p>
 <a href="../b3/lily-c1361eae.ly">
  <img align="middle"
       border="0"
       src="../b3/lily-c1361eae.png"
       alt="[image of music]">
 </a>
</p>




<a name="showing-the-same-articulation-above-and-below-a-note-or-chord.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Showing-the-same-articulation-above-and-below-a-note-or-chord"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-setting-system-separators" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Setting system separators&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-string-number-extender-lines" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: String number extender lines &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-showing-the-same-articulation-above-and-below-a-note-or-chord"></a>
<h2 class="unnumberedsec">Showing the same articulation above and below a note or chord</h2>


<p>By default, LilyPond does not allow the same articulation (e.g., an
accent, a fermata, a flageolet, etc.) to be displayed above and below a
note. For example, c4_\fermata^\fermata will only show a fermata
below. The fermata above will simply be ignored. However, one can stick
scripts (just like fingerings) inside a chord, which means it is
possible to have as many articulations as desired. This approach has
the advantage that it ignores the stem and positions the articulation
relative to the note head. This can be seen in the case of the
flageolets in the snippet. To mimic the behaviour of scripts outside a
chord, &rsquo;add-stem-support would be required. So, the solution is to
write the note as a chord and add the articulations inside the &lt;...&gt;.
The direction will always be above, but one can tweak this via a
\tweak: <code>&lt;c-\tweak #'direction #DOWN-\fermata^\fermata&gt;</code>
</p>

<pre class="verbatim">% The same as \flageolet, just a little smaller
smallFlageolet =
#(let ((m (make-articulation &quot;flageolet&quot;)))
   (set! (ly:music-property m 'tweaks)
         (acons 'font-size -2
                (ly:music-property m 'tweaks)))
   m)

\relative c' {
  s4^&quot;Wrong:&quot;
  c4_\fermata^\fermata % The second fermata is ignored!
  &lt;e d'&gt;4^\smallFlageolet_\smallFlageolet

  s4^&quot;Works if written inside a chord:&quot;
  &lt;e_\smallFlageolet d'^\smallFlageolet&gt;4
  &lt;e_\flageolet d'^\flageolet&gt;4
  &lt;e_\smallFlageolet^\smallFlageolet&gt;4
  &lt;e_\fermata^\fermata&gt;4
}
</pre><p>
 <a href="../cf/lily-bb95eba0.ly">
  <img align="middle"
       border="0"
       src="../cf/lily-bb95eba0.png"
       alt="[image of music]">
 </a>
</p>




<a name="string-number-extender-lines.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-String-number-extender-lines"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-showing-the-same-articulation-above-and-below-a-note-or-chord" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Showing the same articulation above and below a note or chord&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-suppressing-warnings-for-clashing-note-columns" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Suppressing warnings for clashing note columns &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-string-number-extender-lines"></a>
<h2 class="unnumberedsec">String number extender lines</h2>


<p>Make an extender line for string number indications, showing that a
series of notes is supposed to be played all on the same string.
</p>

<pre class="verbatim">stringNumberSpanner =
#(define-music-function (parser location StringNumber) (string?)
  #{
    \override TextSpanner #'style = #'solid
    \override TextSpanner #'font-size = #-5
    \override TextSpanner #'(bound-details left stencil-align-dir-y) = #CENTER
    \override TextSpanner #'(bound-details left text) = \markup { \circle \number #StringNumber }
  #})


\relative c {
  \clef &quot;treble_8&quot;
  \stringNumberSpanner &quot;5&quot;
  \textSpannerDown
  a8\startTextSpan
  b c d e f\stopTextSpan
  \stringNumberSpanner &quot;4&quot;
  g\startTextSpan a
  bes4 a g2\stopTextSpan
}
</pre><p>
 <a href="../a7/lily-8d4b6f14.ly">
  <img align="middle"
       border="0"
       src="../a7/lily-8d4b6f14.png"
       alt="[image of music]">
 </a>
</p>




<a name="suppressing-warnings-for-clashing-note-columns.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Suppressing-warnings-for-clashing-note-columns"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-string-number-extender-lines" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: String number extender lines&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-time-signature-in-parentheses-_002d-method-3" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Time signature in parentheses - method 3 &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-suppressing-warnings-for-clashing-note-columns"></a>
<h2 class="unnumberedsec">Suppressing warnings for clashing note columns</h2>


<p>If notes from two voices with stems in the same direction are placed at
the same position, and both voices have no shift or the same shift
specified, the error message &lsquo;<samp>warning: ignoring too many clashing
note columns</samp>&rsquo; will appear when compiling the LilyPond file.  This
message can be suppressed by setting the <code>'ignore-collision</code>
property of the <code>NoteColumn</code> object to <code>#t</code>. Please note that
this does not just suppress warnings  but stops LilyPond trying to
resolve collisions at all and so may have  unintended results unless
used with care.
</p>

<pre class="verbatim">ignore = \override NoteColumn #'ignore-collision = ##t

\relative c' {
  &lt;&lt;
    \ignore
    { \stemDown f2 g }
    \\
    { c2 c, }
  &gt;&gt;
}
</pre><p>
 <a href="../4a/lily-a1964f39.ly">
  <img align="middle"
       border="0"
       src="../4a/lily-a1964f39.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-in-parentheses---method-3.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Time-signature-in-parentheses-_002d-method-3"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-suppressing-warnings-for-clashing-note-columns" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Suppressing warnings for clashing note columns&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-time-signature-in-parentheses" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Time signature in parentheses &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-time-signature-in-parentheses-_002d-method-3"></a>
<h2 class="unnumberedsec">Time signature in parentheses - method 3</h2>


<p>Another way to put the time signature in parenthesis
</p>

<pre class="verbatim">\relative c'' {
  \override Staff.TimeSignature #'stencil = #(lambda (grob)
    (parenthesize-stencil (ly:time-signature::print grob) 0.1 0.4 0.4 0.1 ))
  \time 2/4
  a4 b8 c
}
</pre><p>
 <a href="../b4/lily-8099de73.ly">
  <img align="middle"
       border="0"
       src="../b4/lily-8099de73.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-in-parentheses.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Time-signature-in-parentheses"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-time-signature-in-parentheses-_002d-method-3" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Time signature in parentheses - method 3&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Time signature printing only the numerator as a number (instead of the fraction) &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-time-signature-in-parentheses"></a>
<h2 class="unnumberedsec">Time signature in parentheses</h2>


<p>The time signature can be enclosed within parentheses.
</p>

<pre class="verbatim">\relative c'' {
  \override Staff.TimeSignature #'stencil = #(lambda (grob)
    (bracketify-stencil (ly:time-signature::print grob) Y 0.1 0.2 0.1))
  \time 2/4
  a4 b8 c
}
</pre><p>
 <a href="../1a/lily-f0605960.ly">
  <img align="middle"
       border="0"
       src="../1a/lily-f0605960.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-printing-only-the-numerator-as-a-number-instead-of-the-fraction.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-time-signature-in-parentheses" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Time signature in parentheses&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-transcription-of-ancient-music-with-incipit" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Transcription of Ancient music with incipit &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029"></a>
<h2 class="unnumberedsec">Time signature printing only the numerator as a number (instead of the fraction)</h2>


<p>Sometimes, a time signature should not print the whole fraction (e.g.
7/4), but only the numerator (7 in this case). This can be easily done
by using <code>\override Staff.TimeSignature #'style = #'single-digit</code>
to change the style permanently. By using <code>\revert
Staff.TimeSignature #'style</code>, this setting can be reversed. To apply
the single-digit style to only one time signature, use the
<code>\override</code> command and prefix it with a <code>\once</code>.
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  c4 c c
  % Change the style permanently
  \override Staff.TimeSignature #'style = #'single-digit
  \time 2/4
  c4 c
  \time 3/4
  c4 c c
  % Revert to default style:
  \revert Staff.TimeSignature #'style
  \time 2/4
  c4 c
  % single-digit style only for the next time signature
  \once \override Staff.TimeSignature #'style = #'single-digit
  \time 5/4
  c4 c c c c
  \time 2/4
  c4 c
}
</pre><p>
 <a href="../40/lily-b2fc90bb.ly">
  <img align="middle"
       border="0"
       src="../40/lily-b2fc90bb.png"
       alt="[image of music]">
 </a>
</p>




<a name="transcription-of-ancient-music-with-incipit.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Transcription-of-Ancient-music-with-incipit"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Time signature printing only the numerator as a number (instead of the fraction)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-tweaking-clef-properties" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Tweaking clef properties &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-transcription-of-ancient-music-with-incipit"></a>
<h2 class="unnumberedsec">Transcription of Ancient music with incipit</h2>


<p>As a workaround to get real incipits which are independent from the
main score these are included as a markup into the field normally used
for the instrument name. As for now lyrics can only be added as a
direct markup. It doesn&rsquo;t unfortunately conform with the spacing of the
main lyrics.
</p>

<pre class="verbatim">global = {
  \set Score.skipBars = ##t
  \key g \major
  \time 4/4
  %make the staff lines invisible on staves
  \override Staff.BarLine #'transparent = ##t
  \skip 1*8 % the actual music
  % let finis bar go through all staves
  \override Staff.BarLine #'transparent = ##f
  % finis bar
  \bar &quot;|.&quot;
}

discantusNotes = {
  \transpose c' c'' {
    \clef treble
    d'2. d'4 |
    b e' d'2 |
    c'4 e'4.( d'8 c' b |
    a4) b a2 |
    b4.( c'8 d'4) c'4 |
    \once \override NoteHead #'transparent = ##t c'1 |
    b\breve |
  }
}

discantusLyrics = \lyricmode {
  Ju -- bi -- |
  la -- te De -- |
  o, om --
  nis ter -- |
  ra, __ om- |
  &quot;...&quot; |
  -us. |
}

altusNotes = {
  \transpose c' c'' {
    \clef treble
    r2 g2. e4 fis g | % two bars
    a2 g4 e |
    fis g4.( fis16 e fis4) |
    g1 |
    \once \override NoteHead #'transparent = ##t g1 |
    g\breve |
  }
}

altusLyrics = \lyricmode {
  Ju -- bi -- la -- te | % two bars
  De -- o, om -- |
  nis ter -- ra, |
  &quot;...&quot; |
  -us. |
}

tenorNotes = {
  \transpose c' c' {
    \clef &quot;treble_8&quot;
    R1 |
    R1 |
    R1 |
    r2 d'2. d'4 b e' | % two bars
    \once \override NoteHead #'transparent = ##t e'1 |
    d'\breve |
  }
}

tenorLyrics = \lyricmode {
  Ju -- bi -- la -- te | % two bars
  &quot;...&quot; |
  -us.
}

bassusNotes = {
  \transpose c' c' {
    \clef bass
    R1 |
    R1 |
    R1 |
    R1 |
    g2. e4 |
    \once \override NoteHead #'transparent = ##t e1 |
    g\breve |
  }
}

bassusLyrics = \lyricmode {
  Ju -- bi- |
  &quot;...&quot; |
  -us.
}

incipitDiscantus = \markup {
  \score {
    {
      \set Staff.instrumentName = #&quot;Discantus &quot;
      \override NoteHead #'style = #'neomensural
      \override Rest #'style = #'neomensural
      \override Staff.TimeSignature #'style = #'neomensural
      \cadenzaOn
      \clef &quot;neomensural-c1&quot;
      \key f \major
      \time 2/2
      c''1._&quot;IV-&quot; s2  %two bars
      \skip 1*8 % eight bars
    }
    \layout {
      \context {
        \Voice
        \remove &quot;Ligature_bracket_engraver&quot;
        \consists &quot;Mensural_ligature_engraver&quot;
      }
      line-width = 4.5\cm
    }
  }
}

incipitAltus = \markup {
  \score {
    {
      \set Staff.instrumentName = #&quot;Altus &quot;
      \override NoteHead #'style = #'neomensural
      \override Rest #'style = #'neomensural
      \override Staff.TimeSignature #'style = #'neomensural
      \cadenzaOn
      \clef &quot;neomensural-c3&quot;
      \key f \major
      \time 2/2
      r1        % one bar
      f'1._&quot;IV-&quot; s2   % two bars
      \skip 1*7 % seven bars
    }
    \layout {
      \context {
        \Voice
        \remove &quot;Ligature_bracket_engraver&quot;
        \consists &quot;Mensural_ligature_engraver&quot;
      }
      line-width = 4.5\cm
    }
  }
}

incipitTenor = \markup {
  \score {
    {
      \set Staff.instrumentName = #&quot;Tenor  &quot;
      \override NoteHead #'style = #'neomensural
      \override Rest #'style = #'neomensural
      \override Staff.TimeSignature #'style = #'neomensural
      \cadenzaOn
      \clef &quot;neomensural-c4&quot;
      \key f \major
      \time 2/2
      r\longa   % four bars
      r\breve   % two bars
      r1        % one bar
      c'1._&quot;IV-&quot; s2   % two bars
      \skip 1   % one bar
    }
    \layout {
      \context {
        \Voice
        \remove &quot;Ligature_bracket_engraver&quot;
        \consists &quot;Mensural_ligature_engraver&quot;
      }
      line-width = 4.5\cm
    }
  }
}

incipitBassus = \markup {
  \score {
    {
      \set Staff.instrumentName = #&quot;Bassus  &quot;
      \override NoteHead #'style = #'neomensural
      \override Rest #'style = #'neomensural
      \override Staff.TimeSignature #'style = #'neomensural
      \cadenzaOn
      \clef &quot;bass&quot;
      \key f \major
      \time 2/2
      % incipit
      r\maxima  % eight bars
      f1._&quot;IV-&quot; s2    % two bars
    }
    \layout {
      \context {
        \Voice
        \remove &quot;Ligature_bracket_engraver&quot;
        \consists &quot;Mensural_ligature_engraver&quot;
      }
      line-width = 4.5\cm
    }
  }
}

%StaffGroup is used instead of ChoirStaff to get bar lines between systems
\score {
  &lt;&lt;
    \new StaffGroup = choirStaff &lt;&lt;
      \new Voice = &quot;discantusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = \incipitDiscantus
        \discantusNotes
      &gt;&gt;
      \new Lyrics = &quot;discantusLyrics&quot; \lyricsto discantusNotes { \discantusLyrics }

      \new Voice = &quot;altusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = \incipitAltus
        \altusNotes
      &gt;&gt;
      \new Lyrics = &quot;altusLyrics&quot; \lyricsto altusNotes { \altusLyrics }

      \new Voice = &quot;tenorNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = \incipitTenor
        \tenorNotes
      &gt;&gt;
      \new Lyrics = &quot;tenorLyrics&quot; \lyricsto tenorNotes { \tenorLyrics }

      \new Voice = &quot;bassusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = \incipitBassus
        \bassusNotes
      &gt;&gt;
    &gt;&gt;
    \new Lyrics = &quot;bassusLyrics&quot; \lyricsto bassusNotes { \bassusLyrics }
    %Keep the bass lyrics outside of the staff group to avoid bar lines
    %between the lyrics.
  &gt;&gt;

  \layout {
    \context {
      \Score
      % no bars in staves
      \override BarLine #'transparent = ##t
    }
    % the next three instructions keep the lyrics between the bar lines
    \context {
      \Lyrics
      \consists &quot;Bar_engraver&quot;
      \override BarLine #'transparent = ##t
    }
    \context {
      \StaffGroup
      \consists &quot;Separating_line_group_engraver&quot;
    }
    \context {
      \Voice
      % no slurs
      \override Slur #'transparent = ##t
      % Comment in the below &quot;\remove&quot; command to allow line
      % breaking also at those barlines where a note overlaps
      % into the next bar.  The command is commented out in this
      % short example score, but especially for large scores, you
      % will typically yield better line breaking and thus improve
      % overall spacing if you comment in the following command.
      %\remove &quot;Forbid_line_break_engraver&quot;
    }
    indent = 5\cm
  }
}
</pre><p>
 <a href="../21/lily-ddac34fc.ly">
  <img align="middle"
       border="0"
       src="../21/lily-ddac34fc.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-clef-properties.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Tweaking-clef-properties"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-transcription-of-ancient-music-with-incipit" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Transcription of Ancient music with incipit&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-tweaking-grace-layout-within-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Tweaking grace layout within music &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-tweaking-clef-properties"></a>
<h2 class="unnumberedsec">Tweaking clef properties</h2>


<p>The command <code>\clef &quot;treble_8&quot;</code> is equivalent to setting
<code>clefGlyph</code>, <code>clefPosition</code> (which controls the vertical
position of the clef), <code>middleCPosition</code> and
<code>clefOctavation</code>. A clef is printed when any of the properties
except <code>middleCPosition</code> are changed.
</p>

<p>Note that changing the glyph, the position of the clef, or the
octavation does not in itself change the position of subsequent notes
on the staff: the position of middle C must also be specified to do
this. The positional parameters are relative to the staff center line,
positive numbers displacing upwards, counting one for each line and
space. The <code>clefOctavation</code> value would normally be set to 7, -7,
15 or -15, but other values are valid.
</p>

<p>When a clef change takes place at a line break the new clef symbol is
printed at both the end of the previous line and the beginning of the
new line by default. If the warning clef at the end of the previous
line is not required it can be suppressed by setting the <code>Staff</code>
property <code>explicitClefVisibility</code> to the value
<code>end-of-line-invisible</code>. The default behavior can be recovered
with  <code>\unset Staff.explicitClefVisibility</code>.
</p>
<p>The following examples show the possibilities when setting these
properties manually. On the first line, the manual changes preserve the
standard relative positioning of clefs and notes, whereas on the second
line, they do not.
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

{
  % The default treble clef
  c'1
  % The standard bass clef
  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  \set Staff.middleCPosition = #6
  c'1
  % The baritone clef
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  \set Staff.clefPosition = #4
  \set Staff.middleCPosition = #4
  c'1
  % The standard choral tenor clef
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  \set Staff.clefPosition = #-2
  \set Staff.clefOctavation = #-7
  \set Staff.middleCPosition = #1
  c'1
  % A non-standard clef
  \set Staff.clefPosition = #0
  \set Staff.clefOctavation = #0
  \set Staff.middleCPosition = #-4
  c'1 \break

  % The following clef changes do not preserve
  % the normal relationship between notes and clefs:

  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  c'1
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  c'1
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  c'1
  \set Staff.clefOctavation = #7
  c'1
  \set Staff.clefOctavation = #0
  \set Staff.clefPosition = #0
  c'1

  % Return to the normal clef:

  \set Staff.middleCPosition = #0
  c'1
}
</pre><p>
 <a href="../92/lily-dd763fa5.ly">
  <img align="middle"
       border="0"
       src="../92/lily-dd763fa5.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-grace-layout-within-music.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Tweaking-grace-layout-within-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-tweaking-clef-properties" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Tweaking clef properties&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-using-alternative-flag-styles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Using alternative flag styles &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-tweaking-grace-layout-within-music"></a>
<h2 class="unnumberedsec">Tweaking grace layout within music</h2>


<p>The layout of grace expressions can be changed throughout the music
using the functions <code>add-grace-property</code> and
<code>remove-grace-property</code>. The following example undefines the
<code>Stem</code> direction for this grace, so that stems do not always point
up, and changes the default note heads to crosses.
</p>

<pre class="verbatim">\relative c'' {
  \new Staff {
    $(remove-grace-property 'Voice 'Stem 'direction)
    $(add-grace-property 'Voice 'NoteHead 'style 'cross)
    \new Voice {
       \acciaccatura { f16 } g4
       \grace { d16[ e] } f4
       \appoggiatura { f,32[ g a] } e2
    }
  }
}
</pre><p>
 <a href="../e6/lily-e6c4116a.ly">
  <img align="middle"
       border="0"
       src="../e6/lily-e6c4116a.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-alternative-flag-styles.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Using-alternative-flag-styles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-tweaking-grace-layout-within-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Tweaking grace layout within music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-using-ly_003agrob_002dobject-to-access-grobs-with-_005ctweak" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Using ly:grob-object to access grobs with \tweak &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-using-alternative-flag-styles"></a>
<h2 class="unnumberedsec">Using alternative flag styles</h2>


<p>Alternative styles of flag on eighth and shorter notes can be displayed
by overriding the <code>stencil</code> property of <code>Flag</code>.  Valid values
are <code>modern-straight-flag</code> and <code>old-straight-flag</code>.
</p>

<pre class="verbatim">testnotes = {
  \autoBeamOff
  c8 d16 c32 d64 \acciaccatura { c8 } d64 r4
}

\relative c' {
  \time 2/4
  \testnotes

  \override Flag #'stencil = #modern-straight-flag
  \testnotes

  \override Flag #'stencil = #old-straight-flag
  \testnotes

  \revert Flag #'stencil
  \testnotes
}
</pre><p>
 <a href="../f8/lily-24c255b8.ly">
  <img align="middle"
       border="0"
       src="../f8/lily-24c255b8.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-ly-grob-object-to-access-grobs-with--tweak.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Using-ly_003agrob_002dobject-to-access-grobs-with-_005ctweak"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-using-alternative-flag-styles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Using alternative flag styles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-using-postscript-to-generate-special-note-head-shapes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Using PostScript to generate special note head shapes &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-using-ly_003agrob_002dobject-to-access-grobs-with-_005ctweak"></a>
<h2 class="unnumberedsec">Using ly:grob-object to access grobs with \tweak</h2>


<p>Some grobs can be accessed &ldquo;laterally&rdquo; from within another grob&rsquo;s
callback. These are usually listed as &ldquo;layout objects&rdquo; in the
&ldquo;Internal properties&rdquo; section of a grob-interface. The function
<code>ly:grob-object</code> is used to access these grobs.
</p>

<p>Demonstrated below are some ways of accessing grobs from within a
NoteHead callback, but the technique is not limited to NoteHeads.
However, the NoteHead callback is particularly important, since it is
the implicit callback used by the <code>\tweak</code> command.
</p>

<p>The example function defined below (&quot;display-grobs&quot;) is probably not
that useful, but it demonstrates that the grobs are indeed being
accessed.
</p>

<p>Example console output:
</p>

<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; #-Grob Accidental - #-Grob Arpeggio - #-Grob Stem -
</p>



<pre class="verbatim">#(define (notehead-get-accidental notehead)
   ;; notehead is grob
   (ly:grob-object notehead 'accidental-grob))

#(define (notehead-get-arpeggio notehead)
   ;; notehead is grob
   (let ((notecolumn (notehead-get-notecolumn notehead)))
     (ly:grob-object notecolumn 'arpeggio)))

#(define (notehead-get-notecolumn notehead)
   ;; notehead is grob
   (ly:grob-parent notehead X))

#(define (notehead-get-stem notehead)
   ;; notehead is grob
   (let ((notecolumn (notehead-get-notecolumn notehead)))
     (ly:grob-object notecolumn 'stem)))

#(define (display-grobs notehead)
   ;; notehead is grob
   (let ((accidental (notehead-get-accidental notehead))
         (arpeggio (notehead-get-arpeggio notehead))
         (stem (notehead-get-stem notehead)))
     (format (current-error-port) &quot;~2&amp;~a\n&quot; (make-string 20 #\-))
     (for-each
      (lambda (x) (format (current-error-port) &quot;~a\n&quot; x))
      (list accidental arpeggio stem))))

\relative c' {
  %% display grobs for each note head:
  %\override NoteHead #'before-line-breaking = #display-grobs
  &lt;c
  %% or just for one:
  \tweak #'before-line-breaking #display-grobs
  es
  g&gt;1\arpeggio
}
</pre><p>
 <a href="../96/lily-c82c8efb.ly">
  <img align="middle"
       border="0"
       src="../96/lily-c82c8efb.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-postscript-to-generate-special-note-head-shapes.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Using-PostScript-to-generate-special-note-head-shapes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-using-ly_003agrob_002dobject-to-access-grobs-with-_005ctweak" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Using ly:grob-object to access grobs with \tweak&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-using-the-_005ctweak-command-to-tweak-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Using the \tweak command to tweak individual grobs &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-using-postscript-to-generate-special-note-head-shapes"></a>
<h2 class="unnumberedsec">Using PostScript to generate special note head shapes</h2>


<p>When a note head with a special shape cannot easily be generated with
graphic markup, PostScript code can be used to generate the shape.
This example shows how a parallelogram-shaped note head is generated.
</p>

<pre class="verbatim">parallelogram =
  #(ly:make-stencil (list 'embedded-ps
    &quot;gsave
      currentpoint translate
      newpath
      0 0.25 moveto
      1.3125 0.75 lineto
      1.3125 -0.25 lineto
      0 -0.75 lineto
      closepath
      fill
      grestore&quot; )
    (cons 0 1.3125)
    (cons -.75 .75))

myNoteHeads = \override NoteHead #'stencil = \parallelogram
normalNoteHeads = \revert NoteHead #'stencil

\relative c'' {
  \myNoteHeads
  g4 d'
  \normalNoteHeads
  &lt;f, \tweak #'stencil \parallelogram b e&gt;4 d
}
</pre><p>
 <a href="../be/lily-e436c60b.ly">
  <img align="middle"
       border="0"
       src="../be/lily-e436c60b.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-the--tweak-command-to-tweak-individual-grobs.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Using-the-_005ctweak-command-to-tweak-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-using-postscript-to-generate-special-note-head-shapes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Using PostScript to generate special note head shapes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-vertically-aligned-dynamics-and-textscripts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Vertically aligned dynamics and textscripts &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-using-the-_005ctweak-command-to-tweak-individual-grobs"></a>
<h2 class="unnumberedsec">Using the \tweak command to tweak individual grobs</h2>


<p>With the <code>\tweak</code> command, every grob can be tuned directly.
Here are some examples of available tweaks.
</p>

<pre class="verbatim">\relative c' {
  \time 2/4
  \set fingeringOrientations = #'(right)
  &lt;
    \tweak #'font-size #3 c
    \tweak #'color #red d-\tweak #'font-size #8 -4
    \tweak #'style #'cross g
    \tweak #'duration-log #2 a
  &gt;2
}
</pre><p>
 <a href="../ce/lily-959e5ae8.ly">
  <img align="middle"
       border="0"
       src="../ce/lily-959e5ae8.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligned-dynamics-and-textscripts.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Vertically-aligned-dynamics-and-textscripts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-using-the-_005ctweak-command-to-tweak-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Using the \tweak command to tweak individual grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-vertically-aligning-ossias-and-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Vertically aligning ossias and lyrics &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-vertically-aligned-dynamics-and-textscripts"></a>
<h2 class="unnumberedsec">Vertically aligned dynamics and textscripts</h2>


<p>By setting the <code>'Y-extent</code> property to a suitable value, all
<code>DynamicLineSpanner</code> objects (hairpins and dynamic texts) can be
aligned to a common reference point, regardless of their actual extent.
This way, every element will be vertically aligned, thus producing a
more pleasing output.
</p>
<p>The same idea is used to align the text scripts along their baseline.
</p>

<pre class="verbatim">music = \relative c' {
  a'2\p b\f
  e4\p f\f\&gt; g, b\p
  c2^\markup { \huge gorgeous } c^\markup { \huge fantastic }
}

{
  \music
  \break
  \override DynamicLineSpanner #'staff-padding = #2.0
  \override DynamicLineSpanner #'Y-extent = #'(-1.5 . 1.5)
  \override TextScript #'Y-extent = #'(-1.5 . 1.5)
  \music
}
</pre><p>
 <a href="../6b/lily-5f555e57.ly">
  <img align="middle"
       border="0"
       src="../6b/lily-5f555e57.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligning-ossias-and-lyrics.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Vertically-aligning-ossias-and-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-vertically-aligned-dynamics-and-textscripts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Vertically aligned dynamics and textscripts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#tweaks-and-overrides-vertically-centering-paired-figured-bass-extenders" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides: Vertically centering paired figured bass extenders &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-vertically-aligning-ossias-and-lyrics"></a>
<h2 class="unnumberedsec">Vertically aligning ossias and lyrics</h2>


<p>This snippet demonstrates the use of the context properties
<code>alignBelowContext</code> and <code>alignAboveContext</code> to control the
positioning of lyrics and ossias.
</p>

<pre class="verbatim">\paper {
  ragged-right = ##t
}

\relative c' &lt;&lt;
  \new Staff = &quot;1&quot; { c4 c s2 }
  \new Staff = &quot;2&quot; { c4 c s2 }
  \new Staff = &quot;3&quot; { c4 c s2 }
  { \skip 2
    &lt;&lt;
      \lyrics {
        \set alignBelowContext = #&quot;1&quot;
        lyrics4 below
      }
      \new Staff \with {
        alignAboveContext = #&quot;3&quot;
        fontSize = #-2
        \override StaffSymbol #'staff-space = #(magstep -2)
        \remove &quot;Time_signature_engraver&quot;
      } {
        \times 4/6 {
          \override TextScript #'padding = #3
          c8[^&quot;ossia above&quot; d e d e f]
        }
      }
    &gt;&gt;
  }
&gt;&gt;
</pre><p>
 <a href="../05/lily-97f0b55c.ly">
  <img align="middle"
       border="0"
       src="../05/lily-97f0b55c.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-centering-paired-figured-bass-extenders.ly"></a>

<hr size="6">
<a name="Tweaks-and-overrides_003a-Vertically-centering-paired-figured-bass-extenders"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-vertically-aligning-ossias-and-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Vertically aligning ossias and lyrics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="paper-and-layout.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Paper and layout &gt; </a>]</td></tr></table>
<a name="tweaks-and-overrides-vertically-centering-paired-figured-bass-extenders"></a>
<h2 class="unnumberedsec">Vertically centering paired figured bass extenders</h2>


<p>Where figured bass extender lines are being used by setting
<code>useBassFigureExtenders</code> to true, pairs of congruent figured bass
extender lines are vertically centered if
<code>figuredBassCenterContinuations</code> is set to true.
</p>

<pre class="verbatim">&lt;&lt;
  \relative c' {
    c8 c b b a a c16 c b b
    c8 c b b a a c16 c b b
    c8 c b b a a c c b b
  }
  \figures {
    \set useBassFigureExtenders = ##t
    &lt;6+ 4 3&gt;4 &lt;6 4 3&gt;8 r
    &lt;6+ 4 3&gt;4 &lt;6 4 3&gt;8 &lt;4 3+&gt;16 r
    \set figuredBassCenterContinuations = ##t
    &lt;6+ 4 3&gt;4 &lt;6 4 3&gt;8 r
    &lt;6+ 4 3&gt;4 &lt;6 4 3&gt;8 &lt;4 3+&gt;16 r
    \set figuredBassCenterContinuations = ##f
    &lt;6+ 4 3&gt;4 &lt;6 4 3&gt;8 r
    &lt;6+ 4 3&gt;4 &lt;6 4 3&gt;8 &lt;4 3+&gt;8
  }
&gt;&gt;
</pre><p>
 <a href="../ae/lily-a7cf3d81.ly">
  <img align="middle"
       border="0"
       src="../ae/lily-a7cf3d81.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="paper-and-layout.html" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#tweaks-and-overrides-vertically-aligning-ossias-and-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides: Vertically aligning ossias and lyrics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="paper-and-layout.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Paper and layout &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /build/buildd/lilypond-2.16.2/scripts/build/out/www_post -->
<p class="footer_version">
This page is for LilyPond-2.16.2 (stable-branch).
</p>
<p class="footer_report">
We welcome your aid; please <a href="http://lilypond.org/help-us.html">help us</a> by reporting errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.html"
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html" title="Start of the manual">LilyPond &mdash; Snippets</a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Pitches-1" href="pitches.html">Pitches</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-ambitus-per-voice-1" href="pitches.html#pitches-adding-ambitus-per-voice">Adding ambitus per voice</a>    </li>
    <li class=""><a name="toc-Altering-the-length-of-beamed-stems" href="pitches.html#pitches-altering-the-length-of-beamed-stems">Altering the length of beamed stems</a>    </li>
    <li class=""><a name="toc-Ambitus-with-multiple-voices" href="pitches.html#pitches-ambitus-with-multiple-voices">Ambitus with multiple voices</a>    </li>
    <li class=""><a name="toc-Ambitus" href="pitches.html#pitches-ambitus">Ambitus</a>    </li>
    <li class=""><a name="toc-Applying-note-head-styles-depending-on-the-step-of-the-scale" href="pitches.html#pitches-applying-note-head-styles-depending-on-the-step-of-the-scale">Applying note head styles depending on the step of the scale</a>    </li>
    <li class=""><a name="toc-Changing-the-ambitus-gap" href="pitches.html#pitches-changing-the-ambitus-gap">Changing the ambitus gap</a>    </li>
    <li class=""><a name="toc-Changing-the-interval-of-lines-on-the-stave" href="pitches.html#pitches-changing-the-interval-of-lines-on-the-stave">Changing the interval of lines on the stave</a>    </li>
    <li class=""><a name="toc-Clefs-can-be-transposed-by-arbitrary-amounts" href="pitches.html#pitches-clefs-can-be-transposed-by-arbitrary-amounts">Clefs can be transposed by arbitrary amounts</a>    </li>
    <li class=""><a name="toc-Coloring-notes-depending-on-their-pitch-1" href="pitches.html#pitches-coloring-notes-depending-on-their-pitch">Coloring notes depending on their pitch</a>    </li>
    <li class=""><a name="toc-Creating-a-sequence-of-notes-on-various-pitches" href="pitches.html#pitches-creating-a-sequence-of-notes-on-various-pitches">Creating a sequence of notes on various pitches</a>    </li>
    <li class=""><a name="toc-Forcing-a-clef-symbol-to-be-displayed" href="pitches.html#pitches-forcing-a-clef-symbol-to-be-displayed">Forcing a clef symbol to be displayed</a>    </li>
    <li class=""><a name="toc-Generating-random-notes" href="pitches.html#pitches-generating-random-notes">Generating random notes</a>    </li>
    <li class=""><a name="toc-Hiding-accidentals-on-tied-notes-at-the-start-of-a-new-system" href="pitches.html#pitches-hiding-accidentals-on-tied-notes-at-the-start-of-a-new-system">Hiding accidentals on tied notes at the start of a new system</a>    </li>
    <li class=""><a name="toc-Keep-change-clefs-full-sized" href="pitches.html#pitches-keep-change-clefs-full-sized">Keep change clefs full sized</a>    </li>
    <li class=""><a name="toc-Makam-example" href="pitches.html#pitches-makam-example">Makam example</a>    </li>
    <li class=""><a name="toc-Non_002dtraditional-key-signatures-1" href="pitches.html#pitches-non_002dtraditional-key-signatures">Non-traditional key signatures</a>    </li>
    <li class=""><a name="toc-Numbers-as-easy-note-heads" href="pitches.html#pitches-numbers-as-easy-note-heads">Numbers as easy note heads</a>    </li>
    <li class=""><a name="toc-Orchestra-choir-and-piano-template" href="pitches.html#pitches-orchestra-choir-and-piano-template">Orchestra choir and piano template</a>    </li>
    <li class=""><a name="toc-Ottava-text" href="pitches.html#pitches-ottava-text">Ottava text</a>    </li>
    <li class=""><a name="toc-Preventing-extra-naturals-from-being-automatically-added" href="pitches.html#pitches-preventing-extra-naturals-from-being-automatically-added">Preventing extra naturals from being automatically added</a>    </li>
    <li class=""><a name="toc-Preventing-natural-signs-from-being-printed-when-the-key-signature-changes" href="pitches.html#pitches-preventing-natural-signs-from-being-printed-when-the-key-signature-changes">Preventing natural signs from being printed when the key signature changes</a>    </li>
    <li class=""><a name="toc-Quoting-another-voice-with-transposition" href="pitches.html#pitches-quoting-another-voice-with-transposition">Quoting another voice with transposition</a>    </li>
    <li class=""><a name="toc-Separating-key-cancellations-from-key-signature-changes" href="pitches.html#pitches-separating-key-cancellations-from-key-signature-changes">Separating key cancellations from key signature changes</a>    </li>
    <li class=""><a name="toc-Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029" href="pitches.html#pitches-transposing-pitches-with-minimum-accidentals-_0028_0022smart_0022-transpose_0029">Transposing pitches with minimum accidentals (&quot;Smart&quot; transpose)</a>    </li>
    <li class=""><a name="toc-Tweaking-clef-properties-1" href="pitches.html#pitches-tweaking-clef-properties">Tweaking clef properties</a>    </li>
    <li class=""><a name="toc-Using-autochange-with-more-than-one-voice-1" href="pitches.html#pitches-using-autochange-with-more-than-one-voice">Using autochange with more than one voice</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Rhythms-1" href="rhythms.html">Rhythms</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-beams-slurs-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms-1" href="rhythms.html#rhythms-adding-beams-slurs-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms">Adding beams slurs ties etc. when using tuplet and non-tuplet rhythms</a>    </li>
    <li class=""><a name="toc-Adding-drum-parts" href="rhythms.html#rhythms-adding-drum-parts">Adding drum parts</a>    </li>
    <li class=""><a name="toc-Adjusting-grace-note-spacing" href="rhythms.html#rhythms-adjusting-grace-note-spacing">Adjusting grace note spacing</a>    </li>
    <li class=""><a name="toc-Aligning-bar-numbers" href="rhythms.html#rhythms-aligning-bar-numbers">Aligning bar numbers</a>    </li>
    <li class=""><a name="toc-Alternative-breve-note-1" href="rhythms.html#rhythms-alternative-breve-note">Alternative breve note</a>    </li>
    <li class=""><a name="toc-Automatic-beam-subdivisions" href="rhythms.html#rhythms-automatic-beam-subdivisions">Automatic beam subdivisions</a>    </li>
    <li class=""><a name="toc-Automatically-change-durations" href="rhythms.html#rhythms-automatically-change-durations">Automatically change durations</a>    </li>
    <li class=""><a name="toc-Avoiding-collisions-with-chord-fingerings-3" href="rhythms.html#rhythms-avoiding-collisions-with-chord-fingerings">Avoiding collisions with chord fingerings</a>    </li>
    <li class=""><a name="toc-Beam-endings-in-Score-context" href="rhythms.html#rhythms-beam-endings-in-score-context">Beam endings in Score context</a>    </li>
    <li class=""><a name="toc-Beam-grouping-in-7_002f8-time" href="rhythms.html#rhythms-beam-grouping-in-7_002f8-time">Beam grouping in 7/8 time</a>    </li>
    <li class=""><a name="toc-Beams-across-line-breaks" href="rhythms.html#rhythms-beams-across-line-breaks">Beams across line breaks</a>    </li>
    <li class=""><a name="toc-Changing-beam-knee-gap" href="rhythms.html#rhythms-changing-beam-knee-gap">Changing beam knee gap</a>    </li>
    <li class=""><a name="toc-Changing-form-of-multi_002dmeasure-rests-1" href="rhythms.html#rhythms-changing-form-of-multi_002dmeasure-rests">Changing form of multi-measure rests</a>    </li>
    <li class=""><a name="toc-Changing-the-number-of-augmentation-dots-per-note" href="rhythms.html#rhythms-changing-the-number-of-augmentation-dots-per-note">Changing the number of augmentation dots per note</a>    </li>
    <li class=""><a name="toc-Changing-the-tempo-without-a-metronome-mark-2" href="rhythms.html#rhythms-changing-the-tempo-without-a-metronome-mark">Changing the tempo without a metronome mark</a>    </li>
    <li class=""><a name="toc-Changing-the-tuplet-number" href="rhythms.html#rhythms-changing-the-tuplet-number">Changing the tuplet number</a>    </li>
    <li class=""><a name="toc-Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations" href="rhythms.html#rhythms-changing-time-signatures-inside-a-polymetric-section-using-_005cscaledurations">Changing time signatures inside a polymetric section using \scaleDurations</a>    </li>
    <li class=""><a name="toc-Chant-or-psalms-notation-3" href="rhythms.html#rhythms-chant-or-psalms-notation">Chant or psalms notation</a>    </li>
    <li class=""><a name="toc-Compound-time-signatures" href="rhythms.html#rhythms-compound-time-signatures">Compound time signatures</a>    </li>
    <li class=""><a name="toc-Conducting-signs-measure-grouping-signs" href="rhythms.html#rhythms-conducting-signs-measure-grouping-signs">Conducting signs measure grouping signs</a>    </li>
    <li class=""><a name="toc-Consistently-left-aligned-bar-numbers" href="rhythms.html#rhythms-consistently-left-aligned-bar-numbers">Consistently left aligned bar numbers</a>    </li>
    <li class=""><a name="toc-Controlling-tuplet-bracket-visibility-1" href="rhythms.html#rhythms-controlling-tuplet-bracket-visibility">Controlling tuplet bracket visibility</a>    </li>
    <li class=""><a name="toc-Creating-metronome-marks-in-markup-mode" href="rhythms.html#rhythms-creating-metronome-marks-in-markup-mode">Creating metronome marks in markup mode</a>    </li>
    <li class=""><a name="toc-Engraving-ties-manually" href="rhythms.html#rhythms-engraving-ties-manually">Engraving ties manually</a>    </li>
    <li class=""><a name="toc-Engraving-tremolos-with-floating-beams" href="rhythms.html#rhythms-engraving-tremolos-with-floating-beams">Engraving tremolos with floating beams</a>    </li>
    <li class=""><a name="toc-Entering-several-tuplets-using-only-one-_005ctimes-command" href="rhythms.html#rhythms-entering-several-tuplets-using-only-one-_005ctimes-command">Entering several tuplets using only one \times command</a>    </li>
    <li class=""><a name="toc-Flat-flags-and-beam-nibs" href="rhythms.html#rhythms-flat-flags-and-beam-nibs">Flat flags and beam nibs</a>    </li>
    <li class=""><a name="toc-Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number" href="rhythms.html#rhythms-forcing-rehearsal-marks-to-start-from-a-given-letter-or-number">Forcing rehearsal marks to start from a given letter or number</a>    </li>
    <li class=""><a name="toc-Generating-custom-flags" href="rhythms.html#rhythms-generating-custom-flags">Generating custom flags</a>    </li>
    <li class=""><a name="toc-Guitar-strum-rhythms" href="rhythms.html#rhythms-guitar-strum-rhythms">Guitar strum rhythms</a>    </li>
    <li class=""><a name="toc-Heavily-customized-polymetric-time-signatures" href="rhythms.html#rhythms-heavily-customized-polymetric-time-signatures">Heavily customized polymetric time signatures</a>    </li>
    <li class=""><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-1" href="rhythms.html#rhythms-making-an-object-invisible-with-the-_0027transparent-property">Making an object invisible with the &rsquo;transparent property</a>    </li>
    <li class=""><a name="toc-Making-slurs-with-complex-dash-structure-1" href="rhythms.html#rhythms-making-slurs-with-complex-dash-structure">Making slurs with complex dash structure</a>    </li>
    <li class=""><a name="toc-Manually-controlling-beam-positions-1" href="rhythms.html#rhythms-manually-controlling-beam-positions">Manually controlling beam positions</a>    </li>
    <li class=""><a name="toc-Merging-multi_002dmeasure-rests-in-a-polyphonic-part" href="rhythms.html#rhythms-merging-multi_002dmeasure-rests-in-a-polyphonic-part">Merging multi-measure rests in a polyphonic part</a>    </li>
    <li class=""><a name="toc-Modifying-tuplet-bracket-length" href="rhythms.html#rhythms-modifying-tuplet-bracket-length">Modifying tuplet bracket length</a>    </li>
    <li class=""><a name="toc-Moving-dotted-notes-in-polyphony-2" href="rhythms.html#rhythms-moving-dotted-notes-in-polyphony">Moving dotted notes in polyphony</a>    </li>
    <li class=""><a name="toc-Multi_002dmeasure-rest-markup" href="rhythms.html#rhythms-multi_002dmeasure-rest-markup">Multi-measure rest markup</a>    </li>
    <li class=""><a name="toc-Non_002ddefault-tuplet-numbers" href="rhythms.html#rhythms-non_002ddefault-tuplet-numbers">Non-default tuplet numbers</a>    </li>
    <li class=""><a name="toc-Partcombine-and-autoBeamOff" href="rhythms.html#rhythms-partcombine-and-autobeamoff">Partcombine and autoBeamOff</a>    </li>
    <li class=""><a name="toc-Permitting-line-breaks-within-beamed-tuplets" href="rhythms.html#rhythms-permitting-line-breaks-within-beamed-tuplets">Permitting line breaks within beamed tuplets</a>    </li>
    <li class=""><a name="toc-Positioning-grace-note-beams-at-the-height-of-normal-note-beams" href="rhythms.html#rhythms-positioning-grace-note-beams-at-the-height-of-normal-note-beams">Positioning grace note beams at the height of normal note beams</a>    </li>
    <li class=""><a name="toc-Positioning-grace-notes-with-floating-space" href="rhythms.html#rhythms-positioning-grace-notes-with-floating-space">Positioning grace notes with floating space</a>    </li>
    <li class=""><a name="toc-Positioning-multi_002dmeasure-rests-1" href="rhythms.html#rhythms-positioning-multi_002dmeasure-rests">Positioning multi-measure rests</a>    </li>
    <li class=""><a name="toc-Preventing-final-mark-from-removing-final-tuplet" href="rhythms.html#rhythms-preventing-final-mark-from-removing-final-tuplet">Preventing final mark from removing final tuplet</a>    </li>
    <li class=""><a name="toc-Printing-bar-numbers-at-regular-intervals" href="rhythms.html#rhythms-printing-bar-numbers-at-regular-intervals">Printing bar numbers at regular intervals</a>    </li>
    <li class=""><a name="toc-Printing-bar-numbers-inside-boxes-or-circles-1" href="rhythms.html#rhythms-printing-bar-numbers-inside-boxes-or-circles">Printing bar numbers inside boxes or circles</a>    </li>
    <li class=""><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-2" href="rhythms.html#rhythms-printing-metronome-and-rehearsal-marks-below-the-staff">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li class=""><a name="toc-Printing-music-with-different-time-signatures" href="rhythms.html#rhythms-printing-music-with-different-time-signatures">Printing music with different time signatures</a>    </li>
    <li class=""><a name="toc-Printing-the-bar-number-for-the-first-measure" href="rhythms.html#rhythms-printing-the-bar-number-for-the-first-measure">Printing the bar number for the first measure</a>    </li>
    <li class=""><a name="toc-Redefining-grace-note-global-defaults" href="rhythms.html#rhythms-redefining-grace-note-global-defaults">Redefining grace note global defaults</a>    </li>
    <li class=""><a name="toc-Removing-bar-numbers-from-a-score" href="rhythms.html#rhythms-removing-bar-numbers-from-a-score">Removing bar numbers from a score</a>    </li>
    <li class=""><a name="toc-Removing-connecting-bar-lines-on-StaffGroup-PianoStaff-or-GrandStaff-1" href="rhythms.html#rhythms-removing-connecting-bar-lines-on-staffgroup-pianostaff-or-grandstaff">Removing connecting bar lines on StaffGroup PianoStaff or GrandStaff</a>    </li>
    <li class=""><a name="toc-Rest-styles" href="rhythms.html#rhythms-rest-styles">Rest styles</a>    </li>
    <li class=""><a name="toc-Reverting-default-beam-endings" href="rhythms.html#rhythms-reverting-default-beam-endings">Reverting default beam endings</a>    </li>
    <li class=""><a name="toc-Rhythmic-slashes" href="rhythms.html#rhythms-rhythmic-slashes">Rhythmic slashes</a>    </li>
    <li class=""><a name="toc-Skips-in-lyric-mode-_00282_0029" href="rhythms.html#rhythms-skips-in-lyric-mode-_00282_0029">Skips in lyric mode (2)</a>    </li>
    <li class=""><a name="toc-Skips-in-lyric-mode-1" href="rhythms.html#rhythms-skips-in-lyric-mode">Skips in lyric mode</a>    </li>
    <li class=""><a name="toc-Stemlets" href="rhythms.html#rhythms-stemlets">Stemlets</a>    </li>
    <li class=""><a name="toc-Strict-beat-beaming" href="rhythms.html#rhythms-strict-beat-beaming">Strict beat beaming</a>    </li>
    <li class=""><a name="toc-Subdividing-beams" href="rhythms.html#rhythms-subdividing-beams">Subdividing beams</a>    </li>
    <li class=""><a name="toc-Three_002dsided-box-1" href="rhythms.html#rhythms-three_002dsided-box">Three-sided box</a>    </li>
    <li class=""><a name="toc-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029-1" href="rhythms.html#rhythms-time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029">Time signature printing only the numerator as a number (instead of the fraction)</a>    </li>
    <li class=""><a name="toc-Tweaking-grace-layout-within-music" href="rhythms.html#rhythms-tweaking-grace-layout-within-music">Tweaking grace layout within music</a>    </li>
    <li class=""><a name="toc-Using-alternative-flag-styles-1" href="rhythms.html#rhythms-using-alternative-flag-styles">Using alternative flag styles</a>    </li>
    <li class=""><a name="toc-Using-grace-note-slashes-with-normal-heads" href="rhythms.html#rhythms-using-grace-note-slashes-with-normal-heads">Using grace note slashes with normal heads</a>    </li>
    <li class=""><a name="toc-Using-ties-with-arpeggios" href="rhythms.html#rhythms-using-ties-with-arpeggios">Using ties with arpeggios</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Expressive-marks-1" href="expressive-marks.html">Expressive marks</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-beams-slurs-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms" href="expressive-marks.html#expressive-marks-adding-beams-slurs-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms">Adding beams slurs ties etc. when using tuplet and non-tuplet rhythms</a>    </li>
    <li class=""><a name="toc-Adding-parentheses-around-an-expressive-mark-or-chordal-note" href="expressive-marks.html#expressive-marks-adding-parentheses-around-an-expressive-mark-or-chordal-note">Adding parentheses around an expressive mark or chordal note</a>    </li>
    <li class=""><a name="toc-Adjusting-the-shape-of-falls-and-doits" href="expressive-marks.html#expressive-marks-adjusting-the-shape-of-falls-and-doits">Adjusting the shape of falls and doits</a>    </li>
    <li class=""><a name="toc-Alternative-breve-note" href="expressive-marks.html#expressive-marks-alternative-breve-note">Alternative breve note</a>    </li>
    <li class=""><a name="toc-Asymmetric-slurs-1" href="expressive-marks.html#expressive-marks-asymmetric-slurs">Asymmetric slurs</a>    </li>
    <li class=""><a name="toc-Breathing-signs" href="expressive-marks.html#expressive-marks-breathing-signs">Breathing signs</a>    </li>
    <li class=""><a name="toc-Broken-Crescendo-Hairpin" href="expressive-marks.html#expressive-marks-broken-crescendo-hairpin">Broken Crescendo Hairpin</a>    </li>
    <li class=""><a name="toc-Caesura-_0028_0022railtracks_0022_0029-with-fermata-1" href="expressive-marks.html#expressive-marks-caesura-_0028_0022railtracks_0022_0029-with-fermata">Caesura (&quot;railtracks&quot;) with fermata</a>    </li>
    <li class=""><a name="toc-Center-text-below-hairpin-dynamics-1" href="expressive-marks.html#expressive-marks-center-text-below-hairpin-dynamics">Center text below hairpin dynamics</a>    </li>
    <li class=""><a name="toc-Changing-_005cflageolet-mark-size-1" href="expressive-marks.html#expressive-marks-changing-_005cflageolet-mark-size">Changing \flageolet mark size</a>    </li>
    <li class=""><a name="toc-Changing-text-and-spanner-styles-for-text-dynamics" href="expressive-marks.html#expressive-marks-changing-text-and-spanner-styles-for-text-dynamics">Changing text and spanner styles for text dynamics</a>    </li>
    <li class=""><a name="toc-Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed-1" href="expressive-marks.html#expressive-marks-changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed">Changing the appearance of a slur from solid to dotted or dashed</a>    </li>
    <li class=""><a name="toc-Changing-the-breath-mark-symbol" href="expressive-marks.html#expressive-marks-changing-the-breath-mark-symbol">Changing the breath mark symbol</a>    </li>
    <li class=""><a name="toc-Changing-the-number-of-augmentation-dots-per-note-1" href="expressive-marks.html#expressive-marks-changing-the-number-of-augmentation-dots-per-note">Changing the number of augmentation dots per note</a>    </li>
    <li class=""><a name="toc-Combining-dynamics-with-markup-texts" href="expressive-marks.html#expressive-marks-combining-dynamics-with-markup-texts">Combining dynamics with markup texts</a>    </li>
    <li class=""><a name="toc-Contemporary-glissando" href="expressive-marks.html#expressive-marks-contemporary-glissando">Contemporary glissando</a>    </li>
    <li class=""><a name="toc-Controlling-spanner-visibility-after-a-line-break-1" href="expressive-marks.html#expressive-marks-controlling-spanner-visibility-after-a-line-break">Controlling spanner visibility after a line break</a>    </li>
    <li class=""><a name="toc-Controlling-the-vertical-ordering-of-scripts-1" href="expressive-marks.html#expressive-marks-controlling-the-vertical-ordering-of-scripts">Controlling the vertical ordering of scripts</a>    </li>
    <li class=""><a name="toc-Creating-a-delayed-turn-1" href="expressive-marks.html#expressive-marks-creating-a-delayed-turn">Creating a delayed turn</a>    </li>
    <li class=""><a name="toc-Creating-arpeggios-across-notes-in-different-voices" href="expressive-marks.html#expressive-marks-creating-arpeggios-across-notes-in-different-voices">Creating arpeggios across notes in different voices</a>    </li>
    <li class=""><a name="toc-Creating-cross_002dstaff-arpeggios-in-a-piano-staff" href="expressive-marks.html#expressive-marks-creating-cross_002dstaff-arpeggios-in-a-piano-staff">Creating cross-staff arpeggios in a piano staff</a>    </li>
    <li class=""><a name="toc-Creating-cross_002dstaff-arpeggios-in-other-contexts" href="expressive-marks.html#expressive-marks-creating-cross_002dstaff-arpeggios-in-other-contexts">Creating cross-staff arpeggios in other contexts</a>    </li>
    <li class=""><a name="toc-Creating-double_002ddigit-fingerings-3" href="expressive-marks.html#expressive-marks-creating-double_002ddigit-fingerings">Creating double-digit fingerings</a>    </li>
    <li class=""><a name="toc-Creating-_0022real_0022-parenthesized-dynamics-1" href="expressive-marks.html#expressive-marks-creating-_0022real_0022-parenthesized-dynamics">Creating &quot;real&quot; parenthesized dynamics</a>    </li>
    <li class=""><a name="toc-Creating-simultaneous-rehearsal-marks-1" href="expressive-marks.html#expressive-marks-creating-simultaneous-rehearsal-marks">Creating simultaneous rehearsal marks</a>    </li>
    <li class=""><a name="toc-Creating-slurs-across-voices" href="expressive-marks.html#expressive-marks-creating-slurs-across-voices">Creating slurs across voices</a>    </li>
    <li class=""><a name="toc-Creating-text-spanners-1" href="expressive-marks.html#expressive-marks-creating-text-spanners">Creating text spanners</a>    </li>
    <li class=""><a name="toc-Double-glissando" href="expressive-marks.html#expressive-marks-double-glissando">Double glissando</a>    </li>
    <li class=""><a name="toc-Dynamics-custom-text-spanner-postfix" href="expressive-marks.html#expressive-marks-dynamics-custom-text-spanner-postfix">Dynamics custom text spanner postfix</a>    </li>
    <li class=""><a name="toc-Dynamics-text-spanner-postfix-1" href="expressive-marks.html#expressive-marks-dynamics-text-spanner-postfix">Dynamics text spanner postfix</a>    </li>
    <li class=""><a name="toc-Glissandi-can-skip-grobs-1" href="expressive-marks.html#expressive-marks-glissandi-can-skip-grobs">Glissandi can skip grobs</a>    </li>
    <li class=""><a name="toc-Hairpins-with-different-line-styles-1" href="expressive-marks.html#expressive-marks-hairpins-with-different-line-styles">Hairpins with different line styles</a>    </li>
    <li class=""><a name="toc-Hiding-the-extender-line-for-text-dynamics" href="expressive-marks.html#expressive-marks-hiding-the-extender-line-for-text-dynamics">Hiding the extender line for text dynamics</a>    </li>
    <li class=""><a name="toc-Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022-_0022piu-f_0022-_0022subito-p_0022_0029" href="expressive-marks.html#expressive-marks-horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022-_0022piu-f_0022-_0022subito-p_0022_0029">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot; &quot;piu f&quot; &quot;subito p&quot;)</a>    </li>
    <li class=""><a name="toc-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029-2" href="expressive-marks.html#expressive-marks-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029">How to print two rehearsal marks above and below the same barline (method 1)</a>    </li>
    <li class=""><a name="toc-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029-2" href="expressive-marks.html#expressive-marks-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029">How to print two rehearsal marks above and below the same barline (method 2)</a>    </li>
    <li class=""><a name="toc-Inserting-a-caesura" href="expressive-marks.html#expressive-marks-inserting-a-caesura">Inserting a caesura</a>    </li>
    <li class=""><a name="toc-Laissez-vibrer-ties-2" href="expressive-marks.html#expressive-marks-laissez-vibrer-ties">Laissez vibrer ties</a>    </li>
    <li class=""><a name="toc-Line-arrows" href="expressive-marks.html#expressive-marks-line-arrows">Line arrows</a>    </li>
    <li class=""><a name="toc-Making-slurs-with-complex-dash-structure" href="expressive-marks.html#expressive-marks-making-slurs-with-complex-dash-structure">Making slurs with complex dash structure</a>    </li>
    <li class=""><a name="toc-Modifying-default-values-for-articulation-shorthand-notation" href="expressive-marks.html#expressive-marks-modifying-default-values-for-articulation-shorthand-notation">Modifying default values for articulation shorthand notation</a>    </li>
    <li class=""><a name="toc-Moving-slur-positions-vertically-1" href="expressive-marks.html#expressive-marks-moving-slur-positions-vertically">Moving slur positions vertically</a>    </li>
    <li class=""><a name="toc-Positioning-arpeggios" href="expressive-marks.html#expressive-marks-positioning-arpeggios">Positioning arpeggios</a>    </li>
    <li class=""><a name="toc-Positioning-text-markups-inside-slurs-1" href="expressive-marks.html#expressive-marks-positioning-text-markups-inside-slurs">Positioning text markups inside slurs</a>    </li>
    <li class=""><a name="toc-Printing-hairpins-using-al-niente-notation" href="expressive-marks.html#expressive-marks-printing-hairpins-using-al-niente-notation">Printing hairpins using al niente notation</a>    </li>
    <li class=""><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff" href="expressive-marks.html#expressive-marks-printing-metronome-and-rehearsal-marks-below-the-staff">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li class=""><a name="toc-Setting-hairpin-behavior-at-bar-lines-1" href="expressive-marks.html#expressive-marks-setting-hairpin-behavior-at-bar-lines">Setting hairpin behavior at bar lines</a>    </li>
    <li class=""><a name="toc-Setting-the-minimum-length-of-hairpins" href="expressive-marks.html#expressive-marks-setting-the-minimum-length-of-hairpins">Setting the minimum length of hairpins</a>    </li>
    <li class=""><a name="toc-Showing-the-same-articulation-above-and-below-a-note-or-chord" href="expressive-marks.html#expressive-marks-showing-the-same-articulation-above-and-below-a-note-or-chord">Showing the same articulation above and below a note or chord</a>    </li>
    <li class=""><a name="toc-Snap_002dpizzicato-or-Bartok-pizzicato-1" href="expressive-marks.html#expressive-marks-snap_002dpizzicato-or-bartok-pizzicato">Snap-pizzicato or Bartok pizzicato</a>    </li>
    <li class=""><a name="toc-Using-arpeggioBracket-to-make-divisi-more-visible" href="expressive-marks.html#expressive-marks-using-arpeggiobracket-to-make-divisi-more-visible">Using arpeggioBracket to make divisi more visible</a>    </li>
    <li class=""><a name="toc-Using-double-slurs-for-legato-chords" href="expressive-marks.html#expressive-marks-using-double-slurs-for-legato-chords">Using double slurs for legato chords</a>    </li>
    <li class=""><a name="toc-Using-the-whiteout-property" href="expressive-marks.html#expressive-marks-using-the-whiteout-property">Using the whiteout property</a>    </li>
    <li class=""><a name="toc-Vertical-line-as-a-baroque-articulation-mark-1" href="expressive-marks.html#expressive-marks-vertical-line-as-a-baroque-articulation-mark">Vertical line as a baroque articulation mark</a>    </li>
    <li class=""><a name="toc-Vertically-aligning-dynamics-across-multiple-notes" href="expressive-marks.html#expressive-marks-vertically-aligning-dynamics-across-multiple-notes">Vertically aligning dynamics across multiple notes</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Repeats-1" href="repeats.html">Repeats</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-volta-brackets-to-additional-staves" href="repeats.html#repeats-adding-volta-brackets-to-additional-staves">Adding volta brackets to additional staves</a>    </li>
    <li class=""><a name="toc-Cross_002dstaff-tremolos" href="repeats.html#repeats-cross_002dstaff-tremolos">Cross-staff tremolos</a>    </li>
    <li class=""><a name="toc-Engraving-tremolos-with-floating-beams-1" href="repeats.html#repeats-engraving-tremolos-with-floating-beams">Engraving tremolos with floating beams</a>    </li>
    <li class=""><a name="toc-Isolated-percent-repeats" href="repeats.html#repeats-isolated-percent-repeats">Isolated percent repeats</a>    </li>
    <li class=""><a name="toc-Measure-counter" href="repeats.html#repeats-measure-counter">Measure counter</a>    </li>
    <li class=""><a name="toc-Percent-repeat-count-visibility" href="repeats.html#repeats-percent-repeat-count-visibility">Percent repeat count visibility</a>    </li>
    <li class=""><a name="toc-Percent-repeat-counter" href="repeats.html#repeats-percent-repeat-counter">Percent repeat counter</a>    </li>
    <li class=""><a name="toc-Positioning-segno-and-coda-_0028with-line-break_0029" href="repeats.html#repeats-positioning-segno-and-coda-_0028with-line-break_0029">Positioning segno and coda (with line break)</a>    </li>
    <li class=""><a name="toc-Printing-a-repeat-sign-at-the-beginning-of-a-piece-1" href="repeats.html#repeats-printing-a-repeat-sign-at-the-beginning-of-a-piece">Printing a repeat sign at the beginning of a piece</a>    </li>
    <li class=""><a name="toc-Setting-the-double-repeat-default-for-volte" href="repeats.html#repeats-setting-the-double-repeat-default-for-volte">Setting the double repeat default for volte</a>    </li>
    <li class=""><a name="toc-Shortening-volta-brackets" href="repeats.html#repeats-shortening-volta-brackets">Shortening volta brackets</a>    </li>
    <li class=""><a name="toc-Volta-below-chords" href="repeats.html#repeats-volta-below-chords">Volta below chords</a>    </li>
    <li class=""><a name="toc-Volta-multi-staff-1" href="repeats.html#repeats-volta-multi-staff">Volta multi staff</a>    </li>
    <li class=""><a name="toc-Volta-text-markup-using-repeatCommands-1" href="repeats.html#repeats-volta-text-markup-using-repeatcommands">Volta text markup using repeatCommands</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Simultaneous-notes-1" href="simultaneous-notes.html">Simultaneous notes</a>
  <ul class="toc">
    <li class=""><a name="toc-Additional-voices-to-avoid-collisions" href="simultaneous-notes.html#simultaneous-notes-additional-voices-to-avoid-collisions">Additional voices to avoid collisions</a>    </li>
    <li class=""><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-2" href="simultaneous-notes.html#simultaneous-notes-changing-a-single-note_0027s-size-in-a-chord">Changing a single note&rsquo;s size in a chord</a>    </li>
    <li class=""><a name="toc-Changing-partcombine-texts" href="simultaneous-notes.html#simultaneous-notes-changing-partcombine-texts">Changing partcombine texts</a>    </li>
    <li class=""><a name="toc-Clusters-2" href="simultaneous-notes.html#simultaneous-notes-clusters">Clusters</a>    </li>
    <li class=""><a name="toc-Combining-two-parts-on-the-same-staff" href="simultaneous-notes.html#simultaneous-notes-combining-two-parts-on-the-same-staff">Combining two parts on the same staff</a>    </li>
    <li class=""><a name="toc-Displaying-complex-chords" href="simultaneous-notes.html#simultaneous-notes-displaying-complex-chords">Displaying complex chords</a>    </li>
    <li class=""><a name="toc-Double-glissando-1" href="simultaneous-notes.html#simultaneous-notes-double-glissando">Double glissando</a>    </li>
    <li class=""><a name="toc-Forcing-horizontal-shift-of-notes" href="simultaneous-notes.html#simultaneous-notes-forcing-horizontal-shift-of-notes">Forcing horizontal shift of notes</a>    </li>
    <li class=""><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-2" href="simultaneous-notes.html#simultaneous-notes-making-an-object-invisible-with-the-_0027transparent-property">Making an object invisible with the &rsquo;transparent property</a>    </li>
    <li class=""><a name="toc-Moving-dotted-notes-in-polyphony-1" href="simultaneous-notes.html#simultaneous-notes-moving-dotted-notes-in-polyphony">Moving dotted notes in polyphony</a>    </li>
    <li class=""><a name="toc-Suppressing-warnings-for-clashing-note-columns" href="simultaneous-notes.html#simultaneous-notes-suppressing-warnings-for-clashing-note-columns">Suppressing warnings for clashing note columns</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Staff-notation-1" href="staff-notation.html">Staff notation</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-ambitus-per-voice" href="staff-notation.html#staff-notation-adding-ambitus-per-voice">Adding ambitus per voice</a>    </li>
    <li class=""><a name="toc-Adding-an-extra-staff-at-a-line-break-1" href="staff-notation.html#staff-notation-adding-an-extra-staff-at-a-line-break">Adding an extra staff at a line break</a>    </li>
    <li class=""><a name="toc-Adding-an-extra-staff-1" href="staff-notation.html#staff-notation-adding-an-extra-staff">Adding an extra staff</a>    </li>
    <li class=""><a name="toc-Adding-indicators-to-staves-which-get-split-after-a-break-1" href="staff-notation.html#staff-notation-adding-indicators-to-staves-which-get-split-after-a-break">Adding indicators to staves which get split after a break</a>    </li>
    <li class=""><a name="toc-Adding-orchestral-cues-to-a-vocal-score-1" href="staff-notation.html#staff-notation-adding-orchestral-cues-to-a-vocal-score">Adding orchestral cues to a vocal score</a>    </li>
    <li class=""><a name="toc-Alternative-bar-numbering" href="staff-notation.html#staff-notation-alternative-bar-numbering">Alternative bar numbering</a>    </li>
    <li class=""><a name="toc-Changing-the-number-of-lines-in-a-staff" href="staff-notation.html#staff-notation-changing-the-number-of-lines-in-a-staff">Changing the number of lines in a staff</a>    </li>
    <li class=""><a name="toc-Changing-the-staff-size-2" href="staff-notation.html#staff-notation-changing-the-staff-size">Changing the staff size</a>    </li>
    <li class=""><a name="toc-Creating-blank-staves-2" href="staff-notation.html#staff-notation-creating-blank-staves">Creating blank staves</a>    </li>
    <li class=""><a name="toc-Creating-double_002ddigit-fingerings-1" href="staff-notation.html#staff-notation-creating-double_002ddigit-fingerings">Creating double-digit fingerings</a>    </li>
    <li class=""><a name="toc-Cross-staff-stems" href="staff-notation.html#staff-notation-cross-staff-stems">Cross staff stems</a>    </li>
    <li class=""><a name="toc-Display-bracket-with-only-one-staff-in-a-system-1" href="staff-notation.html#staff-notation-display-bracket-with-only-one-staff-in-a-system">Display bracket with only one staff in a system</a>    </li>
    <li class=""><a name="toc-Forcing-measure-width-to-adapt-to-MetronomeMark_0027s-width" href="staff-notation.html#staff-notation-forcing-measure-width-to-adapt-to-metronomemark_0027s-width">Forcing measure width to adapt to MetronomeMark&rsquo;s width</a>    </li>
    <li class=""><a name="toc-Glissandi-can-skip-grobs-2" href="staff-notation.html#staff-notation-glissandi-can-skip-grobs">Glissandi can skip grobs</a>    </li>
    <li class=""><a name="toc-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029-1" href="staff-notation.html#staff-notation-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029">How to print two rehearsal marks above and below the same barline (method 1)</a>    </li>
    <li class=""><a name="toc-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029-1" href="staff-notation.html#staff-notation-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029">How to print two rehearsal marks above and below the same barline (method 2)</a>    </li>
    <li class=""><a name="toc-Incipit-1" href="staff-notation.html#staff-notation-incipit">Incipit</a>    </li>
    <li class=""><a name="toc-Inserting-score-fragments-above-a-staff-as-markups" href="staff-notation.html#staff-notation-inserting-score-fragments-above-a-staff-as-markups">Inserting score fragments above a staff as markups</a>    </li>
    <li class=""><a name="toc-Letter-tablature-formatting-1" href="staff-notation.html#staff-notation-letter-tablature-formatting">Letter tablature formatting</a>    </li>
    <li class=""><a name="toc-Making-some-staff-lines-thicker-than-the-others" href="staff-notation.html#staff-notation-making-some-staff-lines-thicker-than-the-others">Making some staff lines thicker than the others</a>    </li>
    <li class=""><a name="toc-Measure-counter-1" href="staff-notation.html#staff-notation-measure-counter">Measure counter</a>    </li>
    <li class=""><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-2" href="staff-notation.html#staff-notation-mensurstriche-layout-_0028bar-lines-between-the-staves_0029">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li class=""><a name="toc-Nesting-staves-2" href="staff-notation.html#staff-notation-nesting-staves">Nesting staves</a>    </li>
    <li class=""><a name="toc-Non_002dtraditional-key-signatures" href="staff-notation.html#staff-notation-non_002dtraditional-key-signatures">Non-traditional key signatures</a>    </li>
    <li class=""><a name="toc-Orchestra-choir-and-piano-template-1" href="staff-notation.html#staff-notation-orchestra-choir-and-piano-template">Orchestra choir and piano template</a>    </li>
    <li class=""><a name="toc-Putting-lyrics-inside-the-staff-2" href="staff-notation.html#staff-notation-putting-lyrics-inside-the-staff">Putting lyrics inside the staff</a>    </li>
    <li class=""><a name="toc-Quoting-another-voice-with-transposition-1" href="staff-notation.html#staff-notation-quoting-another-voice-with-transposition">Quoting another voice with transposition</a>    </li>
    <li class=""><a name="toc-Quoting-another-voice" href="staff-notation.html#staff-notation-quoting-another-voice">Quoting another voice</a>    </li>
    <li class=""><a name="toc-Removing-the-first-empty-line-1" href="staff-notation.html#staff-notation-removing-the-first-empty-line">Removing the first empty line</a>    </li>
    <li class=""><a name="toc-Setting-system-separators-2" href="staff-notation.html#staff-notation-setting-system-separators">Setting system separators</a>    </li>
    <li class=""><a name="toc-Tick-bar-lines" href="staff-notation.html#staff-notation-tick-bar-lines">Tick bar lines</a>    </li>
    <li class=""><a name="toc-Time-signature-in-parentheses-_002d-method-3" href="staff-notation.html#staff-notation-time-signature-in-parentheses-_002d-method-3">Time signature in parentheses - method 3</a>    </li>
    <li class=""><a name="toc-Time-signature-in-parentheses" href="staff-notation.html#staff-notation-time-signature-in-parentheses">Time signature in parentheses</a>    </li>
    <li class=""><a name="toc-Tweaking-clef-properties-2" href="staff-notation.html#staff-notation-tweaking-clef-properties">Tweaking clef properties</a>    </li>
    <li class=""><a name="toc-Use-square-bracket-at-the-start-of-a-staff-group-1" href="staff-notation.html#staff-notation-use-square-bracket-at-the-start-of-a-staff-group">Use square bracket at the start of a staff group</a>    </li>
    <li class=""><a name="toc-Using-autochange-with-more-than-one-voice" href="staff-notation.html#staff-notation-using-autochange-with-more-than-one-voice">Using autochange with more than one voice</a>    </li>
    <li class=""><a name="toc-Volta-below-chords-1" href="staff-notation.html#staff-notation-volta-below-chords">Volta below chords</a>    </li>
    <li class=""><a name="toc-Volta-multi-staff" href="staff-notation.html#staff-notation-volta-multi-staff">Volta multi staff</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Editorial-annotations-1" href="editorial-annotations.html">Editorial annotations</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-fingerings-to-a-score" href="editorial-annotations.html#editorial-annotations-adding-fingerings-to-a-score">Adding fingerings to a score</a>    </li>
    <li class=""><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-1" href="editorial-annotations.html#editorial-annotations-allowing-fingerings-to-be-printed-inside-the-staff">Allowing fingerings to be printed inside the staff</a>    </li>
    <li class=""><a name="toc-Alternative-bar-numbering-1" href="editorial-annotations.html#editorial-annotations-alternative-bar-numbering">Alternative bar numbering</a>    </li>
    <li class=""><a name="toc-Analysis-brackets-above-the-staff-1" href="editorial-annotations.html#editorial-annotations-analysis-brackets-above-the-staff">Analysis brackets above the staff</a>    </li>
    <li class=""><a name="toc-Applying-note-head-styles-depending-on-the-step-of-the-scale-1" href="editorial-annotations.html#editorial-annotations-applying-note-head-styles-depending-on-the-step-of-the-scale">Applying note head styles depending on the step of the scale</a>    </li>
    <li class=""><a name="toc-Avoiding-collisions-with-chord-fingerings-1" href="editorial-annotations.html#editorial-annotations-avoiding-collisions-with-chord-fingerings">Avoiding collisions with chord fingerings</a>    </li>
    <li class=""><a name="toc-Blanking-staff-lines-using-the-_005cwhiteout-command-1" href="editorial-annotations.html#editorial-annotations-blanking-staff-lines-using-the-_005cwhiteout-command">Blanking staff lines using the \whiteout command</a>    </li>
    <li class=""><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-1" href="editorial-annotations.html#editorial-annotations-changing-a-single-note_0027s-size-in-a-chord">Changing a single note&rsquo;s size in a chord</a>    </li>
    <li class=""><a name="toc-Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed" href="editorial-annotations.html#editorial-annotations-changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed">Changing the appearance of a slur from solid to dotted or dashed</a>    </li>
    <li class=""><a name="toc-Coloring-notes-depending-on-their-pitch" href="editorial-annotations.html#editorial-annotations-coloring-notes-depending-on-their-pitch">Coloring notes depending on their pitch</a>    </li>
    <li class=""><a name="toc-Controlling-the-placement-of-chord-fingerings-3" href="editorial-annotations.html#editorial-annotations-controlling-the-placement-of-chord-fingerings">Controlling the placement of chord fingerings</a>    </li>
    <li class=""><a name="toc-Creating-a-delayed-turn-2" href="editorial-annotations.html#editorial-annotations-creating-a-delayed-turn">Creating a delayed turn</a>    </li>
    <li class=""><a name="toc-Creating-blank-staves-3" href="editorial-annotations.html#editorial-annotations-creating-blank-staves">Creating blank staves</a>    </li>
    <li class=""><a name="toc-Creating-double_002ddigit-fingerings" href="editorial-annotations.html#editorial-annotations-creating-double_002ddigit-fingerings">Creating double-digit fingerings</a>    </li>
    <li class=""><a name="toc-Default-direction-of-stems-on-the-center-line-of-the-staff" href="editorial-annotations.html#editorial-annotations-default-direction-of-stems-on-the-center-line-of-the-staff">Default direction of stems on the center line of the staff</a>    </li>
    <li class=""><a name="toc-Drawing-boxes-around-grobs-1" href="editorial-annotations.html#editorial-annotations-drawing-boxes-around-grobs">Drawing boxes around grobs</a>    </li>
    <li class=""><a name="toc-Drawing-circles-around-note-heads" href="editorial-annotations.html#editorial-annotations-drawing-circles-around-note-heads">Drawing circles around note heads</a>    </li>
    <li class=""><a name="toc-Drawing-circles-around-various-objects" href="editorial-annotations.html#editorial-annotations-drawing-circles-around-various-objects">Drawing circles around various objects</a>    </li>
    <li class=""><a name="toc-Embedding-native-PostScript-in-a-_005cmarkup-block-1" href="editorial-annotations.html#editorial-annotations-embedding-native-postscript-in-a-_005cmarkup-block">Embedding native PostScript in a \markup block</a>    </li>
    <li class=""><a name="toc-Grid-lines_003a-changing-their-appearance" href="editorial-annotations.html#editorial-annotations-grid-lines_003a-changing-their-appearance">Grid lines: changing their appearance</a>    </li>
    <li class=""><a name="toc-Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization" href="editorial-annotations.html#editorial-annotations-grid-lines_003a-emphasizing-rhythms-and-notes-synchronization">Grid lines: emphasizing rhythms and notes synchronization</a>    </li>
    <li class=""><a name="toc-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029-3" href="editorial-annotations.html#editorial-annotations-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029">How to print two rehearsal marks above and below the same barline (method 1)</a>    </li>
    <li class=""><a name="toc-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029-3" href="editorial-annotations.html#editorial-annotations-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029">How to print two rehearsal marks above and below the same barline (method 2)</a>    </li>
    <li class=""><a name="toc-Making-some-staff-lines-thicker-than-the-others-1" href="editorial-annotations.html#editorial-annotations-making-some-staff-lines-thicker-than-the-others">Making some staff lines thicker than the others</a>    </li>
    <li class=""><a name="toc-Marking-notes-of-spoken-parts-with-a-cross-on-the-stem-1" href="editorial-annotations.html#editorial-annotations-marking-notes-of-spoken-parts-with-a-cross-on-the-stem">Marking notes of spoken parts with a cross on the stem</a>    </li>
    <li class=""><a name="toc-Measure-counter-2" href="editorial-annotations.html#editorial-annotations-measure-counter">Measure counter</a>    </li>
    <li class=""><a name="toc-Positioning-fingering-indications-precisely" href="editorial-annotations.html#editorial-annotations-positioning-fingering-indications-precisely">Positioning fingering indications precisely</a>    </li>
    <li class=""><a name="toc-Positioning-text-markups-inside-slurs" href="editorial-annotations.html#editorial-annotations-positioning-text-markups-inside-slurs">Positioning text markups inside slurs</a>    </li>
    <li class=""><a name="toc-Printing-text-from-right-to-left" href="editorial-annotations.html#editorial-annotations-printing-text-from-right-to-left">Printing text from right to left</a>    </li>
    <li class=""><a name="toc-String-number-extender-lines-1" href="editorial-annotations.html#editorial-annotations-string-number-extender-lines">String number extender lines</a>    </li>
    <li class=""><a name="toc-Using-PostScript-to-generate-special-note-head-shapes" href="editorial-annotations.html#editorial-annotations-using-postscript-to-generate-special-note-head-shapes">Using PostScript to generate special note head shapes</a>    </li>
    <li class=""><a name="toc-Using-the-whiteout-property-1" href="editorial-annotations.html#editorial-annotations-using-the-whiteout-property">Using the whiteout property</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Text-1" href="text.html">Text</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-the-current-date-to-a-score-1" href="text.html#text-adding-the-current-date-to-a-score">Adding the current date to a score</a>    </li>
    <li class=""><a name="toc-Adjusting-lyrics-vertical-spacing-2" href="text.html#text-adjusting-lyrics-vertical-spacing">Adjusting lyrics vertical spacing</a>    </li>
    <li class=""><a name="toc-Aligning-and-centering-instrument-names" href="text.html#text-aligning-and-centering-instrument-names">Aligning and centering instrument names</a>    </li>
    <li class=""><a name="toc-Aligning-marks-with-various-notation-objects" href="text.html#text-aligning-marks-with-various-notation-objects">Aligning marks with various notation objects</a>    </li>
    <li class=""><a name="toc-Aligning-objects-created-with-the-_005cmark-command" href="text.html#text-aligning-objects-created-with-the-_005cmark-command">Aligning objects created with the \mark command</a>    </li>
    <li class=""><a name="toc-Aligning-syllables-with-melisma" href="text.html#text-aligning-syllables-with-melisma">Aligning syllables with melisma</a>    </li>
    <li class=""><a name="toc-Blanking-staff-lines-using-the-_005cwhiteout-command" href="text.html#text-blanking-staff-lines-using-the-_005cwhiteout-command">Blanking staff lines using the \whiteout command</a>    </li>
    <li class=""><a name="toc-Center-text-below-hairpin-dynamics" href="text.html#text-center-text-below-hairpin-dynamics">Center text below hairpin dynamics</a>    </li>
    <li class=""><a name="toc-Centering-markup-on-note-heads-automatically" href="text.html#text-centering-markup-on-note-heads-automatically">Centering markup on note heads automatically</a>    </li>
    <li class=""><a name="toc-Changing-the-default-text-font-family-1" href="text.html#text-changing-the-default-text-font-family">Changing the default text font family</a>    </li>
    <li class=""><a name="toc-Combining-dynamics-with-markup-texts-1" href="text.html#text-combining-dynamics-with-markup-texts">Combining dynamics with markup texts</a>    </li>
    <li class=""><a name="toc-Combining-two-parts-on-the-same-staff-1" href="text.html#text-combining-two-parts-on-the-same-staff">Combining two parts on the same staff</a>    </li>
    <li class=""><a name="toc-Creating-_0022real_0022-parenthesized-dynamics" href="text.html#text-creating-_0022real_0022-parenthesized-dynamics">Creating &quot;real&quot; parenthesized dynamics</a>    </li>
    <li class=""><a name="toc-Creating-simultaneous-rehearsal-marks-2" href="text.html#text-creating-simultaneous-rehearsal-marks">Creating simultaneous rehearsal marks</a>    </li>
    <li class=""><a name="toc-Creating-text-spanners" href="text.html#text-creating-text-spanners">Creating text spanners</a>    </li>
    <li class=""><a name="toc-Demonstrating-all-headers" href="text.html#text-demonstrating-all-headers">Demonstrating all headers</a>    </li>
    <li class=""><a name="toc-Embedding-native-PostScript-in-a-_005cmarkup-block" href="text.html#text-embedding-native-postscript-in-a-_005cmarkup-block">Embedding native PostScript in a \markup block</a>    </li>
    <li class=""><a name="toc-Formatting-lyrics-syllables" href="text.html#text-formatting-lyrics-syllables">Formatting lyrics syllables</a>    </li>
    <li class=""><a name="toc-How-to-put-ties-between-syllables-in-lyrics-1" href="text.html#text-how-to-put-ties-between-syllables-in-lyrics">How to put ties between syllables in lyrics</a>    </li>
    <li class=""><a name="toc-Lyrics-alignment-1" href="text.html#text-lyrics-alignment">Lyrics alignment</a>    </li>
    <li class=""><a name="toc-Markup-lines" href="text.html#text-markup-lines">Markup lines</a>    </li>
    <li class=""><a name="toc-Multi_002dmeasure-rest-markup-1" href="text.html#text-multi_002dmeasure-rest-markup">Multi-measure rest markup</a>    </li>
    <li class=""><a name="toc-Ottava-text-1" href="text.html#text-ottava-text">Ottava text</a>    </li>
    <li class=""><a name="toc-Outputting-the-version-number" href="text.html#text-outputting-the-version-number">Outputting the version number</a>    </li>
    <li class=""><a name="toc-Piano-template-with-centered-lyrics-2" href="text.html#text-piano-template-with-centered-lyrics">Piano template with centered lyrics</a>    </li>
    <li class=""><a name="toc-Printing-marks-at-the-end-of-a-line" href="text.html#text-printing-marks-at-the-end-of-a-line">Printing marks at the end of a line</a>    </li>
    <li class=""><a name="toc-Printing-marks-on-every-staff" href="text.html#text-printing-marks-on-every-staff">Printing marks on every staff</a>    </li>
    <li class=""><a name="toc-Printing-text-from-right-to-left-2" href="text.html#text-printing-text-from-right-to-left">Printing text from right to left</a>    </li>
    <li class=""><a name="toc-Putting-lyrics-inside-the-staff-1" href="text.html#text-putting-lyrics-inside-the-staff">Putting lyrics inside the staff</a>    </li>
    <li class=""><a name="toc-Stand_002dalone-two_002dcolumn-markup" href="text.html#text-stand_002dalone-two_002dcolumn-markup">Stand-alone two-column markup</a>    </li>
    <li class=""><a name="toc-String-number-extender-lines-3" href="text.html#text-string-number-extender-lines">String number extender lines</a>    </li>
    <li class=""><a name="toc-Three_002dsided-box" href="text.html#text-three_002dsided-box">Three-sided box</a>    </li>
    <li class=""><a name="toc-UTF_002d8" href="text.html#text-utf_002d8">UTF-8</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-3" href="text.html#text-vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves">Vocal ensemble template with lyrics aligned below and above the staves</a>    </li>
    <li class=""><a name="toc-Volta-text-markup-using-repeatCommands" href="text.html#text-volta-text-markup-using-repeatcommands">Volta text markup using repeatCommands</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Vocal-music-1" href="vocal-music.html">Vocal music</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-ambitus-per-voice-2" href="vocal-music.html#vocal-music-adding-ambitus-per-voice">Adding ambitus per voice</a>    </li>
    <li class=""><a name="toc-Adding-indicators-to-staves-which-get-split-after-a-break" href="vocal-music.html#vocal-music-adding-indicators-to-staves-which-get-split-after-a-break">Adding indicators to staves which get split after a break</a>    </li>
    <li class=""><a name="toc-Adding-orchestral-cues-to-a-vocal-score" href="vocal-music.html#vocal-music-adding-orchestral-cues-to-a-vocal-score">Adding orchestral cues to a vocal score</a>    </li>
    <li class=""><a name="toc-Adjusting-lyrics-vertical-spacing" href="vocal-music.html#vocal-music-adjusting-lyrics-vertical-spacing">Adjusting lyrics vertical spacing</a>    </li>
    <li class=""><a name="toc-Aligning-syllables-with-melisma-1" href="vocal-music.html#vocal-music-aligning-syllables-with-melisma">Aligning syllables with melisma</a>    </li>
    <li class=""><a name="toc-Ambitus-with-multiple-voices-1" href="vocal-music.html#vocal-music-ambitus-with-multiple-voices">Ambitus with multiple voices</a>    </li>
    <li class=""><a name="toc-Ambitus-1" href="vocal-music.html#vocal-music-ambitus">Ambitus</a>    </li>
    <li class=""><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-gregorian-music-1" href="vocal-music.html#vocal-music-ancient-notation-template-_002d-modern-transcription-of-gregorian-music">Ancient notation template &ndash; modern transcription of gregorian music</a>    </li>
    <li class=""><a name="toc-Anglican-psalm-template-1" href="vocal-music.html#vocal-music-anglican-psalm-template">Anglican psalm template</a>    </li>
    <li class=""><a name="toc-Changing-stanza-fonts" href="vocal-music.html#vocal-music-changing-stanza-fonts">Changing stanza fonts</a>    </li>
    <li class=""><a name="toc-Chant-or-psalms-notation" href="vocal-music.html#vocal-music-chant-or-psalms-notation">Chant or psalms notation</a>    </li>
    <li class=""><a name="toc-Forcing-hyphens-to-be-shown" href="vocal-music.html#vocal-music-forcing-hyphens-to-be-shown">Forcing hyphens to be shown</a>    </li>
    <li class=""><a name="toc-Formatting-lyrics-syllables-1" href="vocal-music.html#vocal-music-formatting-lyrics-syllables">Formatting lyrics syllables</a>    </li>
    <li class=""><a name="toc-How-to-put-ties-between-syllables-in-lyrics" href="vocal-music.html#vocal-music-how-to-put-ties-between-syllables-in-lyrics">How to put ties between syllables in lyrics</a>    </li>
    <li class=""><a name="toc-Hymn-template" href="vocal-music.html#vocal-music-hymn-template">Hymn template</a>    </li>
    <li class=""><a name="toc-Lyrics-alignment" href="vocal-music.html#vocal-music-lyrics-alignment">Lyrics alignment</a>    </li>
    <li class=""><a name="toc-Marking-notes-of-spoken-parts-with-a-cross-on-the-stem" href="vocal-music.html#vocal-music-marking-notes-of-spoken-parts-with-a-cross-on-the-stem">Marking notes of spoken parts with a cross on the stem</a>    </li>
    <li class=""><a name="toc-Obtaining-2_002e12-lyrics-spacing-in-newer-versions" href="vocal-music.html#vocal-music-obtaining-2_002e12-lyrics-spacing-in-newer-versions">Obtaining 2.12 lyrics spacing in newer versions</a>    </li>
    <li class=""><a name="toc-Orchestra-choir-and-piano-template-3" href="vocal-music.html#vocal-music-orchestra-choir-and-piano-template">Orchestra choir and piano template</a>    </li>
    <li class=""><a name="toc-Piano-template-with-melody-and-lyrics-1" href="vocal-music.html#vocal-music-piano-template-with-melody-and-lyrics">Piano template with melody and lyrics</a>    </li>
    <li class=""><a name="toc-Putting-lyrics-inside-the-staff" href="vocal-music.html#vocal-music-putting-lyrics-inside-the-staff">Putting lyrics inside the staff</a>    </li>
    <li class=""><a name="toc-SATB-Choir-template-_002d-four-staves" href="vocal-music.html#vocal-music-satb-choir-template-_002d-four-staves">SATB Choir template - four staves</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-lyrics-and-chords-1" href="vocal-music.html#vocal-music-single-staff-template-with-notes-lyrics-and-chords">Single staff template with notes lyrics and chords</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-lyrics-chords-and-frets" href="vocal-music.html#vocal-music-single-staff-template-with-notes-lyrics-chords-and-frets">Single staff template with notes lyrics chords and frets</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-and-lyrics" href="vocal-music.html#vocal-music-single-staff-template-with-notes-and-lyrics">Single staff template with notes and lyrics</a>    </li>
    <li class=""><a name="toc-Skips-in-lyric-mode-_00282_0029-1" href="vocal-music.html#vocal-music-skips-in-lyric-mode-_00282_0029">Skips in lyric mode (2)</a>    </li>
    <li class=""><a name="toc-Skips-in-lyric-mode" href="vocal-music.html#vocal-music-skips-in-lyric-mode">Skips in lyric mode</a>    </li>
    <li class=""><a name="toc-Using-arpeggioBracket-to-make-divisi-more-visible-1" href="vocal-music.html#vocal-music-using-arpeggiobracket-to-make-divisi-more-visible">Using arpeggioBracket to make divisi more visible</a>    </li>
    <li class=""><a name="toc-Vertically-aligning-ossias-and-lyrics" href="vocal-music.html#vocal-music-vertically-aligning-ossias-and-lyrics">Vertically aligning ossias and lyrics</a>    </li>
    <li class=""><a name="toc-Vertically-centered-common-lyrics" href="vocal-music.html#vocal-music-vertically-centered-common-lyrics">Vertically centered common lyrics</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction-1" href="vocal-music.html#vocal-music-vocal-ensemble-template-with-automatic-piano-reduction">Vocal ensemble template with automatic piano reduction</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves" href="vocal-music.html#vocal-music-vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves">Vocal ensemble template with lyrics aligned below and above the staves</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-verse-and-refrain-2" href="vocal-music.html#vocal-music-vocal-ensemble-template-with-verse-and-refrain">Vocal ensemble template with verse and refrain</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template" href="vocal-music.html#vocal-music-vocal-ensemble-template">Vocal ensemble template</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Chords-1" href="chords.html">Chords</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-a-figured-bass-above-or-below-the-notes" href="chords.html#chords-adding-a-figured-bass-above-or-below-the-notes">Adding a figured bass above or below the notes</a>    </li>
    <li class=""><a name="toc-Adding-bar-lines-to-ChordNames-context" href="chords.html#chords-adding-bar-lines-to-chordnames-context">Adding bar lines to ChordNames context</a>    </li>
    <li class=""><a name="toc-Avoiding-collisions-with-chord-fingerings" href="chords.html#chords-avoiding-collisions-with-chord-fingerings">Avoiding collisions with chord fingerings</a>    </li>
    <li class=""><a name="toc-Bar-chords-notation-for-Guitar-_0028with-Text-Spanner_0029" href="chords.html#chords-bar-chords-notation-for-guitar-_0028with-text-spanner_0029">Bar chords notation for Guitar (with Text Spanner)</a>    </li>
    <li class=""><a name="toc-Changing-chord-separator" href="chords.html#chords-changing-chord-separator">Changing chord separator</a>    </li>
    <li class=""><a name="toc-Changing-the-chord-names-to-German-or-semi_002dGerman-notation" href="chords.html#chords-changing-the-chord-names-to-german-or-semi_002dgerman-notation">Changing the chord names to German or semi-German notation</a>    </li>
    <li class=""><a name="toc-Changing-the-positions-of-figured-bass-alterations" href="chords.html#chords-changing-the-positions-of-figured-bass-alterations">Changing the positions of figured bass alterations</a>    </li>
    <li class=""><a name="toc-Chord-name-exceptions" href="chords.html#chords-chord-name-exceptions">Chord name exceptions</a>    </li>
    <li class=""><a name="toc-chord-name-major7" href="chords.html#chords-chord-name-major7">chord name major7</a>    </li>
    <li class=""><a name="toc-Clusters-1" href="chords.html#chords-clusters">Clusters</a>    </li>
    <li class=""><a name="toc-Controlling-the-placement-of-chord-fingerings" href="chords.html#chords-controlling-the-placement-of-chord-fingerings">Controlling the placement of chord fingerings</a>    </li>
    <li class=""><a name="toc-Cross_002dstaff-chords-_002d-beaming-problems-workaround-1" href="chords.html#chords-cross_002dstaff-chords-_002d-beaming-problems-workaround">Cross-staff chords - beaming problems workaround</a>    </li>
    <li class=""><a name="toc-Displaying-complex-chords-1" href="chords.html#chords-displaying-complex-chords">Displaying complex chords</a>    </li>
    <li class=""><a name="toc-Manually-break-figured-bass-extenders-for-only-some-numbers" href="chords.html#chords-manually-break-figured-bass-extenders-for-only-some-numbers">Manually break figured bass extenders for only some numbers</a>    </li>
    <li class=""><a name="toc-Showing-chords-at-changes" href="chords.html#chords-showing-chords-at-changes">Showing chords at changes</a>    </li>
    <li class=""><a name="toc-Simple-lead-sheet" href="chords.html#chords-simple-lead-sheet">Simple lead sheet</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-lyrics-and-chords-2" href="chords.html#chords-single-staff-template-with-notes-lyrics-and-chords">Single staff template with notes lyrics and chords</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-lyrics-chords-and-frets-1" href="chords.html#chords-single-staff-template-with-notes-lyrics-chords-and-frets">Single staff template with notes lyrics chords and frets</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-and-chords-1" href="chords.html#chords-single-staff-template-with-notes-and-chords">Single staff template with notes and chords</a>    </li>
    <li class=""><a name="toc-Vertically-centering-paired-figured-bass-extenders" href="chords.html#chords-vertically-centering-paired-figured-bass-extenders">Vertically centering paired figured bass extenders</a>    </li>
    <li class=""><a name="toc-Volta-below-chords-2" href="chords.html#chords-volta-below-chords">Volta below chords</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Keyboards-1" href="keyboards.html">Keyboards</a>
  <ul class="toc">
    <li class=""><a name="toc-Accordion_002ddiscant-symbols" href="keyboards.html#keyboards-accordion_002ddiscant-symbols">Accordion-discant symbols</a>    </li>
    <li class=""><a name="toc-Changing-the-text-for-sustain-markings-1" href="keyboards.html#keyboards-changing-the-text-for-sustain-markings">Changing the text for sustain markings</a>    </li>
    <li class=""><a name="toc-Clusters" href="keyboards.html#keyboards-clusters">Clusters</a>    </li>
    <li class=""><a name="toc-Controlling-the-placement-of-chord-fingerings-1" href="keyboards.html#keyboards-controlling-the-placement-of-chord-fingerings">Controlling the placement of chord fingerings</a>    </li>
    <li class=""><a name="toc-Creating-slurs-across-voices-2" href="keyboards.html#keyboards-creating-slurs-across-voices">Creating slurs across voices</a>    </li>
    <li class=""><a name="toc-Cross_002dstaff-chords-_002d-beaming-problems-workaround-2" href="keyboards.html#keyboards-cross_002dstaff-chords-_002d-beaming-problems-workaround">Cross-staff chords - beaming problems workaround</a>    </li>
    <li class=""><a name="toc-Cross_002dstaff-tremolos-1" href="keyboards.html#keyboards-cross_002dstaff-tremolos">Cross-staff tremolos</a>    </li>
    <li class=""><a name="toc-Fine_002dtuning-pedal-brackets" href="keyboards.html#keyboards-fine_002dtuning-pedal-brackets">Fine-tuning pedal brackets</a>    </li>
    <li class=""><a name="toc-Indicating-cross_002dstaff-chords-with-arpeggio-bracket" href="keyboards.html#keyboards-indicating-cross_002dstaff-chords-with-arpeggio-bracket">Indicating cross-staff chords with arpeggio bracket</a>    </li>
    <li class=""><a name="toc-Jazz-combo-template" href="keyboards.html#keyboards-jazz-combo-template">Jazz combo template</a>    </li>
    <li class=""><a name="toc-Laissez-vibrer-ties" href="keyboards.html#keyboards-laissez-vibrer-ties">Laissez vibrer ties</a>    </li>
    <li class=""><a name="toc-Piano-template-_0028simple_0029-1" href="keyboards.html#keyboards-piano-template-_0028simple_0029">Piano template (simple)</a>    </li>
    <li class=""><a name="toc-Piano-template-with-centered-lyrics" href="keyboards.html#keyboards-piano-template-with-centered-lyrics">Piano template with centered lyrics</a>    </li>
    <li class=""><a name="toc-Piano-template-with-melody-and-lyrics-2" href="keyboards.html#keyboards-piano-template-with-melody-and-lyrics">Piano template with melody and lyrics</a>    </li>
    <li class=""><a name="toc-Using-autochange-with-more-than-one-voice-2" href="keyboards.html#keyboards-using-autochange-with-more-than-one-voice">Using autochange with more than one voice</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction" href="keyboards.html#keyboards-vocal-ensemble-template-with-automatic-piano-reduction">Vocal ensemble template with automatic piano reduction</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Percussion-1" href="percussion.html">Percussion</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-drum-parts-1" href="percussion.html#percussion-adding-drum-parts">Adding drum parts</a>    </li>
    <li class=""><a name="toc-Heavily-customized-polymetric-time-signatures-1" href="percussion.html#percussion-heavily-customized-polymetric-time-signatures">Heavily customized polymetric time signatures</a>    </li>
    <li class=""><a name="toc-Jazz-combo-template-2" href="percussion.html#percussion-jazz-combo-template">Jazz combo template</a>    </li>
    <li class=""><a name="toc-Percussion-beaters" href="percussion.html#percussion-percussion-beaters">Percussion beaters</a>    </li>
    <li class=""><a name="toc-Printing-music-with-different-time-signatures-1" href="percussion.html#percussion-printing-music-with-different-time-signatures">Printing music with different time signatures</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Fretted-strings-1" href="fretted-strings.html">Fretted strings</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-fingerings-to-a-score-1" href="fretted-strings.html#fretted-strings-adding-fingerings-to-a-score">Adding fingerings to a score</a>    </li>
    <li class=""><a name="toc-Adding-fingerings-to-tablatures" href="fretted-strings.html#fretted-strings-adding-fingerings-to-tablatures">Adding fingerings to tablatures</a>    </li>
    <li class=""><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-2" href="fretted-strings.html#fretted-strings-allowing-fingerings-to-be-printed-inside-the-staff">Allowing fingerings to be printed inside the staff</a>    </li>
    <li class=""><a name="toc-Bar-chords-notation-for-Guitar-_0028with-Text-Spanner_0029-1" href="fretted-strings.html#fretted-strings-bar-chords-notation-for-guitar-_0028with-text-spanner_0029">Bar chords notation for Guitar (with Text Spanner)</a>    </li>
    <li class=""><a name="toc-Changing-fret-orientations" href="fretted-strings.html#fretted-strings-changing-fret-orientations">Changing fret orientations</a>    </li>
    <li class=""><a name="toc-Chord-glissando-in-tablature" href="fretted-strings.html#fretted-strings-chord-glissando-in-tablature">Chord glissando in tablature</a>    </li>
    <li class=""><a name="toc-ChordChanges-for-FretBoards" href="fretted-strings.html#fretted-strings-chordchanges-for-fretboards">ChordChanges for FretBoards</a>    </li>
    <li class=""><a name="toc-Controlling-the-placement-of-chord-fingerings-2" href="fretted-strings.html#fretted-strings-controlling-the-placement-of-chord-fingerings">Controlling the placement of chord fingerings</a>    </li>
    <li class=""><a name="toc-Customizing-fretboard-fret-diagrams-1" href="fretted-strings.html#fretted-strings-customizing-fretboard-fret-diagrams">Customizing fretboard fret diagrams</a>    </li>
    <li class=""><a name="toc-Customizing-markup-fret-diagrams" href="fretted-strings.html#fretted-strings-customizing-markup-fret-diagrams">Customizing markup fret diagrams</a>    </li>
    <li class=""><a name="toc-Defining-predefined-fretboards-for-other-instruments" href="fretted-strings.html#fretted-strings-defining-predefined-fretboards-for-other-instruments">Defining predefined fretboards for other instruments</a>    </li>
    <li class=""><a name="toc-Faking-a-hammer-in-tablatures" href="fretted-strings.html#fretted-strings-faking-a-hammer-in-tablatures">Faking a hammer in tablatures</a>    </li>
    <li class=""><a name="toc-Fingerings-string-indications-and-right_002dhand-fingerings" href="fretted-strings.html#fretted-strings-fingerings-string-indications-and-right_002dhand-fingerings">Fingerings string indications and right-hand fingerings</a>    </li>
    <li class=""><a name="toc-Flamenco-notation" href="fretted-strings.html#fretted-strings-flamenco-notation">Flamenco notation</a>    </li>
    <li class=""><a name="toc-Fret-diagrams-explained-and-developed" href="fretted-strings.html#fretted-strings-fret-diagrams-explained-and-developed">Fret diagrams explained and developed</a>    </li>
    <li class=""><a name="toc-Fretboards-alternate-tables" href="fretted-strings.html#fretted-strings-fretboards-alternate-tables">Fretboards alternate tables</a>    </li>
    <li class=""><a name="toc-Fretted_002dstring-harmonics-in-tablature" href="fretted-strings.html#fretted-strings-fretted_002dstring-harmonics-in-tablature">Fretted-string harmonics in tablature</a>    </li>
    <li class=""><a name="toc-Guitar-slides" href="fretted-strings.html#fretted-strings-guitar-slides">Guitar slides</a>    </li>
    <li class=""><a name="toc-Guitar-strum-rhythms-1" href="fretted-strings.html#fretted-strings-guitar-strum-rhythms">Guitar strum rhythms</a>    </li>
    <li class=""><a name="toc-How-to-change-fret-diagram-position" href="fretted-strings.html#fretted-strings-how-to-change-fret-diagram-position">How to change fret diagram position</a>    </li>
    <li class=""><a name="toc-Jazz-combo-template-1" href="fretted-strings.html#fretted-strings-jazz-combo-template">Jazz combo template</a>    </li>
    <li class=""><a name="toc-Laissez-vibrer-ties-1" href="fretted-strings.html#fretted-strings-laissez-vibrer-ties">Laissez vibrer ties</a>    </li>
    <li class=""><a name="toc-Letter-tablature-formatting" href="fretted-strings.html#fretted-strings-letter-tablature-formatting">Letter tablature formatting</a>    </li>
    <li class=""><a name="toc-Open-string-harmonics-in-tablature" href="fretted-strings.html#fretted-strings-open-string-harmonics-in-tablature">Open string harmonics in tablature</a>    </li>
    <li class=""><a name="toc-Placement-of-right_002dhand-fingerings" href="fretted-strings.html#fretted-strings-placement-of-right_002dhand-fingerings">Placement of right-hand fingerings</a>    </li>
    <li class=""><a name="toc-Polyphony-in-tablature" href="fretted-strings.html#fretted-strings-polyphony-in-tablature">Polyphony in tablature</a>    </li>
    <li class=""><a name="toc-Slides-in-tablature" href="fretted-strings.html#fretted-strings-slides-in-tablature">Slides in tablature</a>    </li>
    <li class=""><a name="toc-Stem-and-beam-behavior-in-tablature" href="fretted-strings.html#fretted-strings-stem-and-beam-behavior-in-tablature">Stem and beam behavior in tablature</a>    </li>
    <li class=""><a name="toc-String-number-extender-lines" href="fretted-strings.html#fretted-strings-string-number-extender-lines">String number extender lines</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Unfretted-strings-1" href="unfretted-strings.html">Unfretted strings</a>
  <ul class="toc">
    <li class=""><a name="toc-Changing-_005cflageolet-mark-size" href="unfretted-strings.html#unfretted-strings-changing-_005cflageolet-mark-size">Changing \flageolet mark size</a>    </li>
    <li class=""><a name="toc-Creating-slurs-across-voices-1" href="unfretted-strings.html#unfretted-strings-creating-slurs-across-voices">Creating slurs across voices</a>    </li>
    <li class=""><a name="toc-Dotted-harmonics-1" href="unfretted-strings.html#unfretted-strings-dotted-harmonics">Dotted harmonics</a>    </li>
    <li class=""><a name="toc-Snap_002dpizzicato-or-Bartok-pizzicato" href="unfretted-strings.html#unfretted-strings-snap_002dpizzicato-or-bartok-pizzicato">Snap-pizzicato or Bartok pizzicato</a>    </li>
    <li class=""><a name="toc-String-quartet-template-_0028simple_0029" href="unfretted-strings.html#unfretted-strings-string-quartet-template-_0028simple_0029">String quartet template (simple)</a>    </li>
    <li class=""><a name="toc-String-quartet-template-with-separate-parts-1" href="unfretted-strings.html#unfretted-strings-string-quartet-template-with-separate-parts">String quartet template with separate parts</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Winds-1" href="winds.html">Winds</a>
  <ul class="toc">
    <li class=""><a name="toc-Changing-the-size-of-woodwind-diagrams" href="winds.html#winds-changing-the-size-of-woodwind-diagrams">Changing the size of woodwind diagrams</a>    </li>
    <li class=""><a name="toc-Fingering-symbols-for-wind-instruments" href="winds.html#winds-fingering-symbols-for-wind-instruments">Fingering symbols for wind instruments</a>    </li>
    <li class=""><a name="toc-Flute-slap-notation" href="winds.html#winds-flute-slap-notation">Flute slap notation</a>    </li>
    <li class=""><a name="toc-Graphical-and-text-woodwind-diagrams" href="winds.html#winds-graphical-and-text-woodwind-diagrams">Graphical and text woodwind diagrams</a>    </li>
    <li class=""><a name="toc-Recorder-fingering-chart" href="winds.html#winds-recorder-fingering-chart">Recorder fingering chart</a>    </li>
    <li class=""><a name="toc-Woodwind-diagrams-key-lists" href="winds.html#winds-woodwind-diagrams-key-lists">Woodwind diagrams key lists</a>    </li>
    <li class=""><a name="toc-Woodwind-diagrams-listing" href="winds.html#winds-woodwind-diagrams-listing">Woodwind diagrams listing</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Ancient-notation-1" href="ancient-notation.html">Ancient notation</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-a-figured-bass-above-or-below-the-notes-1" href="ancient-notation.html#ancient-notation-adding-a-figured-bass-above-or-below-the-notes">Adding a figured bass above or below the notes</a>    </li>
    <li class=""><a name="toc-Ancient-fonts" href="ancient-notation.html#ancient-notation-ancient-fonts">Ancient fonts</a>    </li>
    <li class=""><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-gregorian-music" href="ancient-notation.html#ancient-notation-ancient-notation-template-_002d-modern-transcription-of-gregorian-music">Ancient notation template &ndash; modern transcription of gregorian music</a>    </li>
    <li class=""><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-mensural-music-1" href="ancient-notation.html#ancient-notation-ancient-notation-template-_002d-modern-transcription-of-mensural-music">Ancient notation template &ndash; modern transcription of mensural music</a>    </li>
    <li class=""><a name="toc-Ancient-time-signatures" href="ancient-notation.html#ancient-notation-ancient-time-signatures">Ancient time signatures</a>    </li>
    <li class=""><a name="toc-Chant-or-psalms-notation-2" href="ancient-notation.html#ancient-notation-chant-or-psalms-notation">Chant or psalms notation</a>    </li>
    <li class=""><a name="toc-Custodes" href="ancient-notation.html#ancient-notation-custodes">Custodes</a>    </li>
    <li class=""><a name="toc-Incipit" href="ancient-notation.html#ancient-notation-incipit">Incipit</a>    </li>
    <li class=""><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029" href="ancient-notation.html#ancient-notation-mensurstriche-layout-_0028bar-lines-between-the-staves_0029">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li class=""><a name="toc-Rest-styles-1" href="ancient-notation.html#ancient-notation-rest-styles">Rest styles</a>    </li>
    <li class=""><a name="toc-Transcription-of-Ancient-music-with-incipit-1" href="ancient-notation.html#ancient-notation-transcription-of-ancient-music-with-incipit">Transcription of Ancient music with incipit</a>    </li>
    <li class=""><a name="toc-Vertical-line-as-a-baroque-articulation-mark" href="ancient-notation.html#ancient-notation-vertical-line-as-a-baroque-articulation-mark">Vertical line as a baroque articulation mark</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-World-music-1" href="world-music.html">World music</a>
  <ul class="toc">
    <li class=""><a name="toc-Arabic-improvisation" href="world-music.html#world-music-arabic-improvisation">Arabic improvisation</a>    </li>
    <li class=""><a name="toc-Makam-example-1" href="world-music.html#world-music-makam-example">Makam example</a>    </li>
    <li class=""><a name="toc-Printing-text-from-right-to-left-1" href="world-music.html#world-music-printing-text-from-right-to-left">Printing text from right to left</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Contexts-and-engravers-1" href="contexts-and-engravers.html">Contexts and engravers</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-a-figured-bass-above-or-below-the-notes-2" href="contexts-and-engravers.html#contexts-and-engravers-adding-a-figured-bass-above-or-below-the-notes">Adding a figured bass above or below the notes</a>    </li>
    <li class=""><a name="toc-Adding-an-extra-staff-at-a-line-break" href="contexts-and-engravers.html#contexts-and-engravers-adding-an-extra-staff-at-a-line-break">Adding an extra staff at a line break</a>    </li>
    <li class=""><a name="toc-Adding-an-extra-staff" href="contexts-and-engravers.html#contexts-and-engravers-adding-an-extra-staff">Adding an extra staff</a>    </li>
    <li class=""><a name="toc-Centering-markup-on-note-heads-automatically-1" href="contexts-and-engravers.html#contexts-and-engravers-centering-markup-on-note-heads-automatically">Centering markup on note heads automatically</a>    </li>
    <li class=""><a name="toc-Changing-MIDI-output-to-one-channel-per-voice-1" href="contexts-and-engravers.html#contexts-and-engravers-changing-midi-output-to-one-channel-per-voice">Changing MIDI output to one channel per voice</a>    </li>
    <li class=""><a name="toc-Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations-1" href="contexts-and-engravers.html#contexts-and-engravers-changing-time-signatures-inside-a-polymetric-section-using-_005cscaledurations">Changing time signatures inside a polymetric section using \scaleDurations</a>    </li>
    <li class=""><a name="toc-Chant-or-psalms-notation-1" href="contexts-and-engravers.html#contexts-and-engravers-chant-or-psalms-notation">Chant or psalms notation</a>    </li>
    <li class=""><a name="toc-Creating-blank-staves-1" href="contexts-and-engravers.html#contexts-and-engravers-creating-blank-staves">Creating blank staves</a>    </li>
    <li class=""><a name="toc-Cross-staff-stems-2" href="contexts-and-engravers.html#contexts-and-engravers-cross-staff-stems">Cross staff stems</a>    </li>
    <li class=""><a name="toc-Defining-an-engraver-in-Scheme_003a-ambitus-engraver" href="contexts-and-engravers.html#contexts-and-engravers-defining-an-engraver-in-scheme_003a-ambitus-engraver">Defining an engraver in Scheme: ambitus engraver</a>    </li>
    <li class=""><a name="toc-Engravers-one_002dby_002done" href="contexts-and-engravers.html#contexts-and-engravers-engravers-one_002dby_002done">Engravers one-by-one</a>    </li>
    <li class=""><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-1" href="contexts-and-engravers.html#contexts-and-engravers-mensurstriche-layout-_0028bar-lines-between-the-staves_0029">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li class=""><a name="toc-Nesting-staves-1" href="contexts-and-engravers.html#contexts-and-engravers-nesting-staves">Nesting staves</a>    </li>
    <li class=""><a name="toc-Removing-bar-numbers-from-a-score-1" href="contexts-and-engravers.html#contexts-and-engravers-removing-bar-numbers-from-a-score">Removing bar numbers from a score</a>    </li>
    <li class=""><a name="toc-Use-square-bracket-at-the-start-of-a-staff-group" href="contexts-and-engravers.html#contexts-and-engravers-use-square-bracket-at-the-start-of-a-staff-group">Use square bracket at the start of a staff group</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-2" href="contexts-and-engravers.html#contexts-and-engravers-vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves">Vocal ensemble template with lyrics aligned below and above the staves</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-verse-and-refrain-1" href="contexts-and-engravers.html#contexts-and-engravers-vocal-ensemble-template-with-verse-and-refrain">Vocal ensemble template with verse and refrain</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Tweaks-and-overrides-1" href="tweaks-and-overrides.html">Tweaks and overrides</a>
  <ul class="toc">
    <li class=""><a name="toc-Adjusting-grace-note-spacing-1" href="tweaks-and-overrides.html#tweaks-and-overrides-adjusting-grace-note-spacing">Adjusting grace note spacing</a>    </li>
    <li class=""><a name="toc-Altering-the-length-of-beamed-stems-1" href="tweaks-and-overrides.html#tweaks-and-overrides-altering-the-length-of-beamed-stems">Altering the length of beamed stems</a>    </li>
    <li class=""><a name="toc-Alternative-bar-numbering-2" href="tweaks-and-overrides.html#tweaks-and-overrides-alternative-bar-numbering">Alternative bar numbering</a>    </li>
    <li class=""><a name="toc-Analysis-brackets-above-the-staff" href="tweaks-and-overrides.html#tweaks-and-overrides-analysis-brackets-above-the-staff">Analysis brackets above the staff</a>    </li>
    <li class=""><a name="toc-Asymmetric-slurs" href="tweaks-and-overrides.html#tweaks-and-overrides-asymmetric-slurs">Asymmetric slurs</a>    </li>
    <li class=""><a name="toc-Avoiding-collisions-with-chord-fingerings-2" href="tweaks-and-overrides.html#tweaks-and-overrides-avoiding-collisions-with-chord-fingerings">Avoiding collisions with chord fingerings</a>    </li>
    <li class=""><a name="toc-Caesura-_0028_0022railtracks_0022_0029-with-fermata" href="tweaks-and-overrides.html#tweaks-and-overrides-caesura-_0028_0022railtracks_0022_0029-with-fermata">Caesura (&quot;railtracks&quot;) with fermata</a>    </li>
    <li class=""><a name="toc-Centering-markup-on-note-heads-automatically-2" href="tweaks-and-overrides.html#tweaks-and-overrides-centering-markup-on-note-heads-automatically">Centering markup on note heads automatically</a>    </li>
    <li class=""><a name="toc-Changing-a-single-note_0027s-size-in-a-chord" href="tweaks-and-overrides.html#tweaks-and-overrides-changing-a-single-note_0027s-size-in-a-chord">Changing a single note&rsquo;s size in a chord</a>    </li>
    <li class=""><a name="toc-Changing-form-of-multi_002dmeasure-rests" href="tweaks-and-overrides.html#tweaks-and-overrides-changing-form-of-multi_002dmeasure-rests">Changing form of multi-measure rests</a>    </li>
    <li class=""><a name="toc-Changing-properties-for-individual-grobs" href="tweaks-and-overrides.html#tweaks-and-overrides-changing-properties-for-individual-grobs">Changing properties for individual grobs</a>    </li>
    <li class=""><a name="toc-Changing-text-and-spanner-styles-for-text-dynamics-1" href="tweaks-and-overrides.html#tweaks-and-overrides-changing-text-and-spanner-styles-for-text-dynamics">Changing text and spanner styles for text dynamics</a>    </li>
    <li class=""><a name="toc-Changing-the-default-text-font-family" href="tweaks-and-overrides.html#tweaks-and-overrides-changing-the-default-text-font-family">Changing the default text font family</a>    </li>
    <li class=""><a name="toc-Changing-the-staff-size" href="tweaks-and-overrides.html#tweaks-and-overrides-changing-the-staff-size">Changing the staff size</a>    </li>
    <li class=""><a name="toc-Changing-the-tempo-without-a-metronome-mark" href="tweaks-and-overrides.html#tweaks-and-overrides-changing-the-tempo-without-a-metronome-mark">Changing the tempo without a metronome mark</a>    </li>
    <li class=""><a name="toc-Changing-the-text-for-sustain-markings" href="tweaks-and-overrides.html#tweaks-and-overrides-changing-the-text-for-sustain-markings">Changing the text for sustain markings</a>    </li>
    <li class=""><a name="toc-Controlling-spanner-visibility-after-a-line-break" href="tweaks-and-overrides.html#tweaks-and-overrides-controlling-spanner-visibility-after-a-line-break">Controlling spanner visibility after a line break</a>    </li>
    <li class=""><a name="toc-Controlling-the-vertical-ordering-of-scripts" href="tweaks-and-overrides.html#tweaks-and-overrides-controlling-the-vertical-ordering-of-scripts">Controlling the vertical ordering of scripts</a>    </li>
    <li class=""><a name="toc-Controlling-tuplet-bracket-visibility" href="tweaks-and-overrides.html#tweaks-and-overrides-controlling-tuplet-bracket-visibility">Controlling tuplet bracket visibility</a>    </li>
    <li class=""><a name="toc-Creating-a-delayed-turn" href="tweaks-and-overrides.html#tweaks-and-overrides-creating-a-delayed-turn">Creating a delayed turn</a>    </li>
    <li class=""><a name="toc-Creating-double_002ddigit-fingerings-2" href="tweaks-and-overrides.html#tweaks-and-overrides-creating-double_002ddigit-fingerings">Creating double-digit fingerings</a>    </li>
    <li class=""><a name="toc-Creating-simultaneous-rehearsal-marks" href="tweaks-and-overrides.html#tweaks-and-overrides-creating-simultaneous-rehearsal-marks">Creating simultaneous rehearsal marks</a>    </li>
    <li class=""><a name="toc-Creating-text-spanners-2" href="tweaks-and-overrides.html#tweaks-and-overrides-creating-text-spanners">Creating text spanners</a>    </li>
    <li class=""><a name="toc-Cross_002dstaff-chords-_002d-beaming-problems-workaround" href="tweaks-and-overrides.html#tweaks-and-overrides-cross_002dstaff-chords-_002d-beaming-problems-workaround">Cross-staff chords - beaming problems workaround</a>    </li>
    <li class=""><a name="toc-Cross-staff-stems-1" href="tweaks-and-overrides.html#tweaks-and-overrides-cross-staff-stems">Cross staff stems</a>    </li>
    <li class=""><a name="toc-Custodes-1" href="tweaks-and-overrides.html#tweaks-and-overrides-custodes">Custodes</a>    </li>
    <li class=""><a name="toc-Customizing-fretboard-fret-diagrams" href="tweaks-and-overrides.html#tweaks-and-overrides-customizing-fretboard-fret-diagrams">Customizing fretboard fret diagrams</a>    </li>
    <li class=""><a name="toc-Customizing-markup-fret-diagrams-1" href="tweaks-and-overrides.html#tweaks-and-overrides-customizing-markup-fret-diagrams">Customizing markup fret diagrams</a>    </li>
    <li class=""><a name="toc-Display-bracket-with-only-one-staff-in-a-system" href="tweaks-and-overrides.html#tweaks-and-overrides-display-bracket-with-only-one-staff-in-a-system">Display bracket with only one staff in a system</a>    </li>
    <li class=""><a name="toc-Displaying-grob-ancestry" href="tweaks-and-overrides.html#tweaks-and-overrides-displaying-grob-ancestry">Displaying grob ancestry</a>    </li>
    <li class=""><a name="toc-Dotted-harmonics" href="tweaks-and-overrides.html#tweaks-and-overrides-dotted-harmonics">Dotted harmonics</a>    </li>
    <li class=""><a name="toc-Drawing-boxes-around-grobs" href="tweaks-and-overrides.html#tweaks-and-overrides-drawing-boxes-around-grobs">Drawing boxes around grobs</a>    </li>
    <li class=""><a name="toc-Drawing-circles-around-various-objects-1" href="tweaks-and-overrides.html#tweaks-and-overrides-drawing-circles-around-various-objects">Drawing circles around various objects</a>    </li>
    <li class=""><a name="toc-Dynamics-custom-text-spanner-postfix-1" href="tweaks-and-overrides.html#tweaks-and-overrides-dynamics-custom-text-spanner-postfix">Dynamics custom text spanner postfix</a>    </li>
    <li class=""><a name="toc-Dynamics-text-spanner-postfix" href="tweaks-and-overrides.html#tweaks-and-overrides-dynamics-text-spanner-postfix">Dynamics text spanner postfix</a>    </li>
    <li class=""><a name="toc-Fine_002dtuning-pedal-brackets-1" href="tweaks-and-overrides.html#tweaks-and-overrides-fine_002dtuning-pedal-brackets">Fine-tuning pedal brackets</a>    </li>
    <li class=""><a name="toc-Forcing-horizontal-shift-of-notes-1" href="tweaks-and-overrides.html#tweaks-and-overrides-forcing-horizontal-shift-of-notes">Forcing horizontal shift of notes</a>    </li>
    <li class=""><a name="toc-Fret-diagrams-explained-and-developed-1" href="tweaks-and-overrides.html#tweaks-and-overrides-fret-diagrams-explained-and-developed">Fret diagrams explained and developed</a>    </li>
    <li class=""><a name="toc-Generating-custom-flags-1" href="tweaks-and-overrides.html#tweaks-and-overrides-generating-custom-flags">Generating custom flags</a>    </li>
    <li class=""><a name="toc-Glissandi-can-skip-grobs" href="tweaks-and-overrides.html#tweaks-and-overrides-glissandi-can-skip-grobs">Glissandi can skip grobs</a>    </li>
    <li class=""><a name="toc-Hairpins-with-different-line-styles" href="tweaks-and-overrides.html#tweaks-and-overrides-hairpins-with-different-line-styles">Hairpins with different line styles</a>    </li>
    <li class=""><a name="toc-Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022-_0022piu-f_0022-_0022subito-p_0022_0029-1" href="tweaks-and-overrides.html#tweaks-and-overrides-horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022-_0022piu-f_0022-_0022subito-p_0022_0029">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot; &quot;piu f&quot; &quot;subito p&quot;)</a>    </li>
    <li class=""><a name="toc-How-to-change-fret-diagram-position-1" href="tweaks-and-overrides.html#tweaks-and-overrides-how-to-change-fret-diagram-position">How to change fret diagram position</a>    </li>
    <li class=""><a name="toc-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029" href="tweaks-and-overrides.html#tweaks-and-overrides-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-1_0029">How to print two rehearsal marks above and below the same barline (method 1)</a>    </li>
    <li class=""><a name="toc-How-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029" href="tweaks-and-overrides.html#tweaks-and-overrides-how-to-print-two-rehearsal-marks-above-and-below-the-same-barline-_0028method-2_0029">How to print two rehearsal marks above and below the same barline (method 2)</a>    </li>
    <li class=""><a name="toc-Inserting-a-caesura-1" href="tweaks-and-overrides.html#tweaks-and-overrides-inserting-a-caesura">Inserting a caesura</a>    </li>
    <li class=""><a name="toc-Keep-change-clefs-full-sized-1" href="tweaks-and-overrides.html#tweaks-and-overrides-keep-change-clefs-full-sized">Keep change clefs full sized</a>    </li>
    <li class=""><a name="toc-Line-arrows-1" href="tweaks-and-overrides.html#tweaks-and-overrides-line-arrows">Line arrows</a>    </li>
    <li class=""><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property" href="tweaks-and-overrides.html#tweaks-and-overrides-making-an-object-invisible-with-the-_0027transparent-property">Making an object invisible with the &rsquo;transparent property</a>    </li>
    <li class=""><a name="toc-Manually-controlling-beam-positions" href="tweaks-and-overrides.html#tweaks-and-overrides-manually-controlling-beam-positions">Manually controlling beam positions</a>    </li>
    <li class=""><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-3" href="tweaks-and-overrides.html#tweaks-and-overrides-mensurstriche-layout-_0028bar-lines-between-the-staves_0029">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li class=""><a name="toc-Moving-dotted-notes-in-polyphony" href="tweaks-and-overrides.html#tweaks-and-overrides-moving-dotted-notes-in-polyphony">Moving dotted notes in polyphony</a>    </li>
    <li class=""><a name="toc-Moving-slur-positions-vertically" href="tweaks-and-overrides.html#tweaks-and-overrides-moving-slur-positions-vertically">Moving slur positions vertically</a>    </li>
    <li class=""><a name="toc-Nesting-staves" href="tweaks-and-overrides.html#tweaks-and-overrides-nesting-staves">Nesting staves</a>    </li>
    <li class=""><a name="toc-Percent-repeat-count-visibility-1" href="tweaks-and-overrides.html#tweaks-and-overrides-percent-repeat-count-visibility">Percent repeat count visibility</a>    </li>
    <li class=""><a name="toc-Positioning-arpeggios-1" href="tweaks-and-overrides.html#tweaks-and-overrides-positioning-arpeggios">Positioning arpeggios</a>    </li>
    <li class=""><a name="toc-Positioning-multi_002dmeasure-rests" href="tweaks-and-overrides.html#tweaks-and-overrides-positioning-multi_002dmeasure-rests">Positioning multi-measure rests</a>    </li>
    <li class=""><a name="toc-Positioning-text-markups-inside-slurs-2" href="tweaks-and-overrides.html#tweaks-and-overrides-positioning-text-markups-inside-slurs">Positioning text markups inside slurs</a>    </li>
    <li class=""><a name="toc-Printing-a-repeat-sign-at-the-beginning-of-a-piece" href="tweaks-and-overrides.html#tweaks-and-overrides-printing-a-repeat-sign-at-the-beginning-of-a-piece">Printing a repeat sign at the beginning of a piece</a>    </li>
    <li class=""><a name="toc-Printing-bar-numbers-inside-boxes-or-circles" href="tweaks-and-overrides.html#tweaks-and-overrides-printing-bar-numbers-inside-boxes-or-circles">Printing bar numbers inside boxes or circles</a>    </li>
    <li class=""><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-1" href="tweaks-and-overrides.html#tweaks-and-overrides-printing-metronome-and-rehearsal-marks-below-the-staff">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li class=""><a name="toc-Printing-note-names-with-and-without-an-octave-marker" href="tweaks-and-overrides.html#tweaks-and-overrides-printing-note-names-with-and-without-an-octave-marker">Printing note names with and without an octave marker</a>    </li>
    <li class=""><a name="toc-Proportional-strict-notespacing" href="tweaks-and-overrides.html#tweaks-and-overrides-proportional-strict-notespacing">Proportional strict notespacing</a>    </li>
    <li class=""><a name="toc-Removing-connecting-bar-lines-on-StaffGroup-PianoStaff-or-GrandStaff" href="tweaks-and-overrides.html#tweaks-and-overrides-removing-connecting-bar-lines-on-staffgroup-pianostaff-or-grandstaff">Removing connecting bar lines on StaffGroup PianoStaff or GrandStaff</a>    </li>
    <li class=""><a name="toc-Removing-the-first-empty-line" href="tweaks-and-overrides.html#tweaks-and-overrides-removing-the-first-empty-line">Removing the first empty line</a>    </li>
    <li class=""><a name="toc-Rest-styles-2" href="tweaks-and-overrides.html#tweaks-and-overrides-rest-styles">Rest styles</a>    </li>
    <li class=""><a name="toc-Rhythmic-slashes-1" href="tweaks-and-overrides.html#tweaks-and-overrides-rhythmic-slashes">Rhythmic slashes</a>    </li>
    <li class=""><a name="toc-Separating-key-cancellations-from-key-signature-changes-1" href="tweaks-and-overrides.html#tweaks-and-overrides-separating-key-cancellations-from-key-signature-changes">Separating key cancellations from key signature changes</a>    </li>
    <li class=""><a name="toc-Setting-hairpin-behavior-at-bar-lines" href="tweaks-and-overrides.html#tweaks-and-overrides-setting-hairpin-behavior-at-bar-lines">Setting hairpin behavior at bar lines</a>    </li>
    <li class=""><a name="toc-Setting-system-separators-1" href="tweaks-and-overrides.html#tweaks-and-overrides-setting-system-separators">Setting system separators</a>    </li>
    <li class=""><a name="toc-Showing-the-same-articulation-above-and-below-a-note-or-chord-1" href="tweaks-and-overrides.html#tweaks-and-overrides-showing-the-same-articulation-above-and-below-a-note-or-chord">Showing the same articulation above and below a note or chord</a>    </li>
    <li class=""><a name="toc-String-number-extender-lines-2" href="tweaks-and-overrides.html#tweaks-and-overrides-string-number-extender-lines">String number extender lines</a>    </li>
    <li class=""><a name="toc-Suppressing-warnings-for-clashing-note-columns-1" href="tweaks-and-overrides.html#tweaks-and-overrides-suppressing-warnings-for-clashing-note-columns">Suppressing warnings for clashing note columns</a>    </li>
    <li class=""><a name="toc-Time-signature-in-parentheses-_002d-method-3-1" href="tweaks-and-overrides.html#tweaks-and-overrides-time-signature-in-parentheses-_002d-method-3">Time signature in parentheses - method 3</a>    </li>
    <li class=""><a name="toc-Time-signature-in-parentheses-1" href="tweaks-and-overrides.html#tweaks-and-overrides-time-signature-in-parentheses">Time signature in parentheses</a>    </li>
    <li class=""><a name="toc-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029" href="tweaks-and-overrides.html#tweaks-and-overrides-time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029">Time signature printing only the numerator as a number (instead of the fraction)</a>    </li>
    <li class=""><a name="toc-Transcription-of-Ancient-music-with-incipit" href="tweaks-and-overrides.html#tweaks-and-overrides-transcription-of-ancient-music-with-incipit">Transcription of Ancient music with incipit</a>    </li>
    <li class=""><a name="toc-Tweaking-clef-properties" href="tweaks-and-overrides.html#tweaks-and-overrides-tweaking-clef-properties">Tweaking clef properties</a>    </li>
    <li class=""><a name="toc-Tweaking-grace-layout-within-music-1" href="tweaks-and-overrides.html#tweaks-and-overrides-tweaking-grace-layout-within-music">Tweaking grace layout within music</a>    </li>
    <li class=""><a name="toc-Using-alternative-flag-styles" href="tweaks-and-overrides.html#tweaks-and-overrides-using-alternative-flag-styles">Using alternative flag styles</a>    </li>
    <li class=""><a name="toc-Using-ly_003agrob_002dobject-to-access-grobs-with-_005ctweak" href="tweaks-and-overrides.html#tweaks-and-overrides-using-ly_003agrob_002dobject-to-access-grobs-with-_005ctweak">Using ly:grob-object to access grobs with \tweak</a>    </li>
    <li class=""><a name="toc-Using-PostScript-to-generate-special-note-head-shapes-1" href="tweaks-and-overrides.html#tweaks-and-overrides-using-postscript-to-generate-special-note-head-shapes">Using PostScript to generate special note head shapes</a>    </li>
    <li class=""><a name="toc-Using-the-_005ctweak-command-to-tweak-individual-grobs" href="tweaks-and-overrides.html#tweaks-and-overrides-using-the-_005ctweak-command-to-tweak-individual-grobs">Using the \tweak command to tweak individual grobs</a>    </li>
    <li class=""><a name="toc-Vertically-aligned-dynamics-and-textscripts-1" href="tweaks-and-overrides.html#tweaks-and-overrides-vertically-aligned-dynamics-and-textscripts">Vertically aligned dynamics and textscripts</a>    </li>
    <li class=""><a name="toc-Vertically-aligning-ossias-and-lyrics-1" href="tweaks-and-overrides.html#tweaks-and-overrides-vertically-aligning-ossias-and-lyrics">Vertically aligning ossias and lyrics</a>    </li>
    <li class=""><a name="toc-Vertically-centering-paired-figured-bass-extenders-1" href="tweaks-and-overrides.html#tweaks-and-overrides-vertically-centering-paired-figured-bass-extenders">Vertically centering paired figured bass extenders</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Paper-and-layout-1" href="paper-and-layout.html">Paper and layout</a>
  <ul class="toc">
    <li class=""><a name="toc-Aligning-and-centering-instrument-names-1" href="paper-and-layout.html#paper-and-layout-aligning-and-centering-instrument-names">Aligning and centering instrument names</a>    </li>
    <li class=""><a name="toc-Book-parts" href="paper-and-layout.html#paper-and-layout-book-parts">Book parts</a>    </li>
    <li class=""><a name="toc-Changing-the-staff-size-1" href="paper-and-layout.html#paper-and-layout-changing-the-staff-size">Changing the staff size</a>    </li>
    <li class=""><a name="toc-Clip-systems" href="paper-and-layout.html#paper-and-layout-clip-systems">Clip systems</a>    </li>
    <li class=""><a name="toc-Creating-blank-staves" href="paper-and-layout.html#paper-and-layout-creating-blank-staves">Creating blank staves</a>    </li>
    <li class=""><a name="toc-Demonstrating-all-headers-2" href="paper-and-layout.html#paper-and-layout-demonstrating-all-headers">Demonstrating all headers</a>    </li>
    <li class=""><a name="toc-Setting-system-separators" href="paper-and-layout.html#paper-and-layout-setting-system-separators">Setting system separators</a>    </li>
    <li class=""><a name="toc-Table-of-contents" href="paper-and-layout.html#paper-and-layout-table-of-contents">Table of contents</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Titles-1" href="titles.html">Titles</a>
  <ul class="toc">
    <li class=""><a name="toc-Adding-the-current-date-to-a-score" href="titles.html#titles-adding-the-current-date-to-a-score">Adding the current date to a score</a>    </li>
    <li class=""><a name="toc-Aligning-and-centering-instrument-names-2" href="titles.html#titles-aligning-and-centering-instrument-names">Aligning and centering instrument names</a>    </li>
    <li class=""><a name="toc-Demonstrating-all-headers-1" href="titles.html#titles-demonstrating-all-headers">Demonstrating all headers</a>    </li>
    <li class=""><a name="toc-Outputting-the-version-number-1" href="titles.html#titles-outputting-the-version-number">Outputting the version number</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Spacing-1" href="spacing.html">Spacing</a>
  <ul class="toc">
    <li class=""><a name="toc-Adjusting-lyrics-vertical-spacing-1" href="spacing.html#spacing-adjusting-lyrics-vertical-spacing">Adjusting lyrics vertical spacing</a>    </li>
    <li class=""><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff" href="spacing.html#spacing-allowing-fingerings-to-be-printed-inside-the-staff">Allowing fingerings to be printed inside the staff</a>    </li>
    <li class=""><a name="toc-Page-label" href="spacing.html#spacing-page-label">Page label</a>    </li>
    <li class=""><a name="toc-Proportional-strict-notespacing-1" href="spacing.html#spacing-proportional-strict-notespacing">Proportional strict notespacing</a>    </li>
    <li class=""><a name="toc-Vertically-aligned-dynamics-and-textscripts" href="spacing.html#spacing-vertically-aligned-dynamics-and-textscripts">Vertically aligned dynamics and textscripts</a>    </li>
    <li class=""><a name="toc-Vertically-aligning-ossias-and-lyrics-2" href="spacing.html#spacing-vertically-aligning-ossias-and-lyrics">Vertically aligning ossias and lyrics</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-MIDI-1" href="midi.html">MIDI</a>
  <ul class="toc">
    <li class=""><a name="toc-Changing-MIDI-output-to-one-channel-per-voice" href="midi.html#midi-changing-midi-output-to-one-channel-per-voice">Changing MIDI output to one channel per voice</a>    </li>
    <li class=""><a name="toc-Changing-the-tempo-without-a-metronome-mark-1" href="midi.html#midi-changing-the-tempo-without-a-metronome-mark">Changing the tempo without a metronome mark</a>    </li>
    <li class=""><a name="toc-Demo-MidiInstruments" href="midi.html#midi-demo-midiinstruments">Demo MidiInstruments</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Templates-1" href="templates.html">Templates</a>
  <ul class="toc">
    <li class=""><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-gregorian-music-2" href="templates.html#templates-ancient-notation-template-_002d-modern-transcription-of-gregorian-music">Ancient notation template &ndash; modern transcription of gregorian music</a>    </li>
    <li class=""><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-mensural-music" href="templates.html#templates-ancient-notation-template-_002d-modern-transcription-of-mensural-music">Ancient notation template &ndash; modern transcription of mensural music</a>    </li>
    <li class=""><a name="toc-Anglican-psalm-template" href="templates.html#templates-anglican-psalm-template">Anglican psalm template</a>    </li>
    <li class=""><a name="toc-Hymn-template-1" href="templates.html#templates-hymn-template">Hymn template</a>    </li>
    <li class=""><a name="toc-Jazz-combo-template-3" href="templates.html#templates-jazz-combo-template">Jazz combo template</a>    </li>
    <li class=""><a name="toc-Orchestra-choir-and-piano-template-2" href="templates.html#templates-orchestra-choir-and-piano-template">Orchestra choir and piano template</a>    </li>
    <li class=""><a name="toc-Piano-template-_0028simple_0029" href="templates.html#templates-piano-template-_0028simple_0029">Piano template (simple)</a>    </li>
    <li class=""><a name="toc-Piano-template-with-centered-lyrics-1" href="templates.html#templates-piano-template-with-centered-lyrics">Piano template with centered lyrics</a>    </li>
    <li class=""><a name="toc-Piano-template-with-melody-and-lyrics" href="templates.html#templates-piano-template-with-melody-and-lyrics">Piano template with melody and lyrics</a>    </li>
    <li class=""><a name="toc-SATB-Choir-template-_002d-four-staves-1" href="templates.html#templates-satb-choir-template-_002d-four-staves">SATB Choir template - four staves</a>    </li>
    <li class=""><a name="toc-Score-for-diatonic-accordion" href="templates.html#templates-score-for-diatonic-accordion">Score for diatonic accordion</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-lyrics-and-chords" href="templates.html#templates-single-staff-template-with-notes-lyrics-and-chords">Single staff template with notes lyrics and chords</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-lyrics-chords-and-frets-2" href="templates.html#templates-single-staff-template-with-notes-lyrics-chords-and-frets">Single staff template with notes lyrics chords and frets</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-and-chords" href="templates.html#templates-single-staff-template-with-notes-and-chords">Single staff template with notes and chords</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-notes-and-lyrics-1" href="templates.html#templates-single-staff-template-with-notes-and-lyrics">Single staff template with notes and lyrics</a>    </li>
    <li class=""><a name="toc-Single-staff-template-with-only-notes" href="templates.html#templates-single-staff-template-with-only-notes">Single staff template with only notes</a>    </li>
    <li class=""><a name="toc-String-quartet-template-_0028simple_0029-1" href="templates.html#templates-string-quartet-template-_0028simple_0029">String quartet template (simple)</a>    </li>
    <li class=""><a name="toc-String-quartet-template-with-separate-parts" href="templates.html#templates-string-quartet-template-with-separate-parts">String quartet template with separate parts</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction-2" href="templates.html#templates-vocal-ensemble-template-with-automatic-piano-reduction">Vocal ensemble template with automatic piano reduction</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-1" href="templates.html#templates-vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves">Vocal ensemble template with lyrics aligned below and above the staves</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-with-verse-and-refrain" href="templates.html#templates-vocal-ensemble-template-with-verse-and-refrain">Vocal ensemble template with verse and refrain</a>    </li>
    <li class=""><a name="toc-Vocal-ensemble-template-1" href="templates.html#templates-vocal-ensemble-template">Vocal ensemble template</a>    </li>
  </ul>
  </li>
<li>
<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.16.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.16" in the
search for a while and have a redirection from "v2.16" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.16 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.16 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.16 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Google Search">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Search">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
