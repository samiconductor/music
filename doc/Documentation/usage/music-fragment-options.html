<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2012 by the authors.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on January 1, 2014 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond Application Usage: 3.3 Music fragment options</title>

<meta name="description" content="LilyPond Application Usage: 3.3 Music fragment options">
<meta name="keywords" content="LilyPond Application Usage: 3.3 Music fragment options">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#index" rel="start" title="LilyPond &mdash; Usage">
<link href="lilypond-index.html#lilypond-index" rel="index" title="B. LilyPond index">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="lilypond_002dbook.html#lilypond_002dbook" rel="up" title="3. Running lilypond-book">
<link href="lilypond-index.html#lilypond-index" rel="next" title="B. LilyPond index">
<link href="docbook.html#docbook" rel="previous" title="3.2.4 DocBook">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Music-fragment-options"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="lilypond_002dbook.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="external-programs.html" title="Next chapter">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="docbook.html" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; DocBook&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="lilypond_002dbook.html" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="invoking-lilypond_002dbook.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking lilypond-book &gt; </a>]</td></tr></table>
<a name="music-fragment-options"></a>
<h2 class="section">3.3 Music fragment options</h2>

<p>In the following, a &lsquo;LilyPond command&rsquo; refers to any command described
in the previous sections which is handled by <code>lilypond-book</code> to
produce a music snippet.  For simplicity, LilyPond commands are only
shown in LaTeX syntax.
</p>
<p>Note that the option string is parsed from left to right; if an option
occurs multiple times, the last one is taken.
</p>
<p>The following options are available for LilyPond commands:
</p>
<dl compact="compact">
<dt> <code>staffsize=<var>ht</var></code></dt>
<dd><p>Set staff size to <var>ht</var>, which is measured in points.
</p>
</dd>
<dt> <code>ragged-right</code></dt>
<dd><p>Produce ragged-right lines with natural spacing, i.e.,
<code>ragged-right = ##t</code> is added to the LilyPond snippet.  Single-line
snippets will always be typeset by default as ragged-right, unless
<code>noragged-right</code> is explicitly given.
</p>
</dd>
<dt> <code>noragged-right</code></dt>
<dd><p>For single-line snippets, allow the staff length to be stretched to
equal that of the line width, i.e., <code>ragged-right = ##f</code> is
added to the LilyPond snippet.
</p>
</dd>
<dt> <code>line-width</code></dt>
<dt> <code>line-width=<var>size</var>\<var>unit</var></code></dt>
<dd><p>Set line width to <var>size</var>, using <var>unit</var> as units.  <var>unit</var> is
one of the following strings: <code>cm</code>, <code>mm</code>, <code>in</code>, or
<code>pt</code>.  This option affects LilyPond output (this is, the staff
length of the music snippet), not the text layout.
</p>
<p>If used without an argument, set line width to a default value (as
computed with a heuristic algorithm).
</p>
<p>If no <code>line-width</code> option is given, <code>lilypond-book</code> tries to
guess a default for <code>lilypond</code> environments which don&rsquo;t use the
<code>ragged-right</code> option.
</p>
</dd>
<dt> <code>papersize=<var>string</var></code></dt>
<dd><p>Where <var>string</var> is a paper size defined in &lsquo;<tt>scm/paper.scm</tt>&rsquo; i.e.
<code>a5</code>, <code>quarto</code>, <code>11x17</code> etc.
</p>
<p>Values not defined in &lsquo;<tt>scm/paper.scm</tt>&rsquo; will be ignored, a warning
will be posted and the snippet will be printed using the default
<code>a4</code> size.
</p>
</dd>
<dt> <code>notime</code></dt>
<dd><p>Do not print the time signature, and turns off the timing (time signature,
bar lines) in the score.
</p>
</dd>
<dt> <code>fragment</code></dt>
<dd><p>Make <code>lilypond-book</code> add some boilerplate code so that you can
simply enter, say,
</p>
<blockquote><pre class="example">c'4
</pre></blockquote>

<p>without <code>\layout</code>, <code>\score</code>, etc.
</p>
</dd>
<dt> <code>nofragment</code></dt>
<dd><p>Do not add additional code to complete LilyPond code in music snippets.
Since this is the default, <code>nofragment</code> is redundant normally.
</p>
</dd>
<dt> <code>indent=<var>size</var>\<var>unit</var></code></dt>
<dd><p>Set indentation of the first music system to <var>size</var>, using
<var>unit</var> as units.  <var>unit</var> is one of the following strings:
<code>cm</code>, <code>mm</code>, <code>in</code>, or <code>pt</code>.  This option affects
LilyPond, not the text layout.
</p>
</dd>
<dt> <code>noindent</code></dt>
<dd><p>Set indentation of the first music system to zero.  This option affects
LilyPond, not the text layout.  Since no indentation is the default,
<code>noindent</code> is redundant normally.
</p>
</dd>
<dt> <code>quote</code></dt>
<dd><p>Reduce line length of a music snippet by <em>2*0.4</em>in and put
the output into a quotation block.  The value &lsquo;0.4in&rsquo; can be
controlled with the <code>exampleindent</code> option.
</p>
</dd>
<dt> <code>exampleindent</code></dt>
<dd><p>Set the amount by which the <code>quote</code> option indents a music snippet.
</p>
</dd>
<dt> <code>relative</code></dt>
<dt> <code>relative=<var>n</var></code></dt>
<dd><p>Use relative octave mode.  By default, notes are specified relative to
middle&nbsp;C.  The optional integer argument specifies the octave of
the starting note, where the default <code>1</code> is middle C.
<code>relative</code> option only works when <code>fragment</code> option is set,
so <code>fragment</code> is automatically implied by <code>relative</code>,
regardless of the presence of any <code>(no)fragment</code> option in the
source.
</p></dd>
</dl>

<p>LilyPond also uses <code>lilypond-book</code> to produce its own
documentation.  To do that, some more obscure music fragment options are
available.
</p>
<dl compact="compact">
<dt> <code>verbatim</code></dt>
<dd><p>The argument of a LilyPond command is copied to the output file and
enclosed in a verbatim block, followed by any text given with the
<code>intertext</code> option (not implemented yet); then the actual music is
displayed.  This option does not work well with <code>\lilypond{}</code> if
it is part of a paragraph.
</p>
<p>If <code>verbatim</code> is used in a <code>lilypondfile</code> command, it is
possible to enclose verbatim only a part of the source file.  If the
source file contain a comment containing &lsquo;<samp>begin verbatim</samp>&rsquo; (without
quotes), quoting the source in the verbatim block will start after the
last occurrence of such a comment; similarly, quoting the source verbatim
will stop just before the first occurrence of a comment containing
&lsquo;<samp>end verbatim</samp>&rsquo;, if there is any.  In the following source file
example, the music will be interpreted in relative mode, but the
verbatim quote will not show the <code>relative</code> block, i.e.
</p>
<blockquote><pre class="example">\relative c' { % begin verbatim
  c4 e2 g4
  f2 e % end verbatim
}
</pre></blockquote>

<p>will be printed with a verbatim block like
</p>
<blockquote><pre class="example">  c4 e2 g4
  f2 e
</pre></blockquote>

<p>If you would like to translate comments and variable names in verbatim
output but not in the sources, you may set the environment variable
<code>LYDOC_LOCALEDIR</code> to a directory path; the directory should
contain a tree of &lsquo;<tt>.mo</tt>&rsquo; message catalogs with <code>lilypond-doc</code>
as a domain.
</p>
</dd>
<dt> <code>addversion</code></dt>
<dd><p>(Only for Texinfo output.)  Prepend line <code>\version
@w{&quot;@version{}&quot;}</code> to <code>verbatim</code> output.
</p>
</dd>
<dt> <code>texidoc</code></dt>
<dd><p>(Only for Texinfo output.)  If <code>lilypond</code> is called with the
&lsquo;<samp>--header=texidoc</samp>&rsquo; option, and the file to be processed is
called &lsquo;<tt>foo.ly</tt>&rsquo;, it creates a file &lsquo;<tt>foo.texidoc</tt>&rsquo; if there
is a <code>texidoc</code> field in the <code>\header</code>.  The <code>texidoc</code>
option makes <code>lilypond-book</code> include such files, adding its
contents as a documentation block right before the music snippet (but
outside the <code>example</code> environment generated by a <code>quote</code>
option).
</p>
<p>Assuming the file &lsquo;<tt>foo.ly</tt>&rsquo; contains
</p>
<blockquote><pre class="example">\header {
  texidoc = &quot;This file demonstrates a single note.&quot;
}
{ c'4 }
</pre></blockquote>

<p>and we have this in our Texinfo document &lsquo;<tt>test.texinfo</tt>&rsquo;
</p>
<blockquote><pre class="example">@lilypondfile[texidoc]{foo.ly}
</pre></blockquote>

<p>the following command line gives the expected result
</p>
<blockquote><pre class="example">lilypond-book --pdf --process=&quot;lilypond \
  -dbackend=eps --header=texidoc&quot; test.texinfo
</pre></blockquote>

<p>Most LilyPond test documents (in the &lsquo;<tt>input</tt>&rsquo; directory of the
distribution) are small &lsquo;<tt>.ly</tt>&rsquo; files which look exactly like this.
</p>
<p>For localization purpose, if the Texinfo document contains
<code>@documentlanguage <var>LANG</var></code> and &lsquo;<tt>foo.ly</tt>&rsquo; header
contains a <code>texidoc<var>LANG</var></code> field, and if <code>lilypond</code>
is called with &lsquo;<samp>--header=texidoc<var>LANG</var></samp>&rsquo;, then
&lsquo;<tt>foo.texidoc<var>LANG</var></tt>&rsquo; will be included instead of
&lsquo;<tt>foo.texidoc</tt>&rsquo;.
</p>
</dd>
<dt> <code>doctitle</code></dt>
<dd><p>(Only for Texinfo output.) This option works similarly to
<code>texidoc</code> option: if <code>lilypond</code> is called with the
&lsquo;<samp>--header=doctitle</samp>&rsquo; option, and the file to be processed is
called &lsquo;<tt>foo.ly</tt>&rsquo; and contains a <code>doctitle</code> field in the
<code>\header</code>, it creates a file &lsquo;<tt>foo.doctitle</tt>&rsquo;.  When
<code>doctitle</code> option is used, the contents of &lsquo;<tt>foo.doctitle</tt>&rsquo;,
which should be a single line of <var>text</var>, is inserted in the
Texinfo document as <code>@lydoctitle <var>text</var></code>.
<code>@lydoctitle</code> should be a macro defined in the Texinfo document.
The same remark about <code>texidoc</code> processing with localized
languages also applies to <code>doctitle</code>.
</p>
</dd>
<dt> <code>nogettext</code></dt>
<dd><p>(Only for Texinfo output.) Do not translate comments and variable
names in the snippet quoted verbatim.
</p>
</dd>
<dt> <code>printfilename</code></dt>
<dd><p>If a LilyPond input file is included with <code>\lilypondfile</code>, print
the file name right before the music snippet.  For HTML output, this
is a link.  Only the base name of the file is printed, i.e. the
directory part of the file path is stripped.
</p>
</dd>
</dl>


<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="lilypond_002dbook.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="lilypond-index.html" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="external-programs.html" title="Next chapter">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="docbook.html" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; DocBook&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="lilypond_002dbook.html" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="invoking-lilypond_002dbook.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking lilypond-book &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /build/buildd/lilypond-2.16.2/scripts/build/out/www_post -->
<p class="footer_version">
This page is for LilyPond-2.16.2 (stable-branch).
</p>
<p class="footer_report">
We welcome your aid; please <a href="http://lilypond.org/help-us.html">help us</a> by reporting errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /build/buildd/lilypond-2.16.2/scripts/build/out/www_post -->
 Other languages: <a href="music-fragment-options.de.html">deutsch</a>, <a href="music-fragment-options.es.html">español</a>, <a href="music-fragment-options.fr.html">français</a>, <a href="music-fragment-options.it.html">italiano</a>, <a href="music-fragment-options.ja.html">日本語</a>.
 <br>
 About <a href="http://www.lilypond.org/website/misc/browser-language">automatic language selection</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.html"
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html" title="Start of the manual">LilyPond &mdash; Usage</a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Running-lilypond-1" href="running-lilypond.html">1. Running <code>lilypond</code></a>
  <ul class="toc">
    <li class=""><a name="toc-Normal-usage-1" href="normal-usage.html">1.1 Normal usage</a>    </li>
    <li class=""><a name="toc-Command_002dline-usage-1" href="command_002dline-usage.html">1.2 Command-line usage</a>    </li>
    <li class=""><a name="toc-Error-messages-1" href="error-messages.html">1.3 Error messages</a>    </li>
    <li class=""><a name="toc-Common-errors-1" href="common-errors.html">1.4 Common errors</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Updating-files-with-convert_002dly-1" href="updating-files-with-convert_002dly.html">2. Updating files with <code>convert-ly</code></a>
  <ul class="toc">
    <li class=""><a name="toc-Why-does-the-syntax-change_003f-1" href="why-does-the-syntax-change_003f.html">2.1 Why does the syntax change?</a>    </li>
    <li class=""><a name="toc-Invoking-convert_002dly-1" href="invoking-convert_002dly.html">2.2 Invoking <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Command-line-options-for-convert_002dly-1" href="command-line-options-for-convert_002dly.html">2.3 Command line options for <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Problems-running-convert_002dly-1" href="problems-running-convert_002dly.html">2.4 Problems running <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Manual-conversions-1" href="manual-conversions.html">2.5 Manual conversions</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Running-lilypond_002dbook" href="lilypond_002dbook.html">3. Running <code>lilypond-book</code></a>
  <ul class="toc">
    <li class=""><a name="toc-An-example-of-a-musicological-document-1" href="an-example-of-a-musicological-document.html">3.1 An example of a musicological document</a>    </li>
    <li class=""><a name="toc-Integrating-music-and-text-1" href="integrating-music-and-text.html">3.2 Integrating music and text</a>    </li>
    <li class=" toc_current"><a name="toc-Music-fragment-options-1" href="music-fragment-options.html">3.3 Music fragment options</a>    </li>
    <li class=""><a name="toc-Invoking-lilypond_002dbook-1" href="invoking-lilypond_002dbook.html">3.4 Invoking <code>lilypond-book</code></a>    </li>
    <li class=""><a name="toc-Filename-extensions-1" href="filename-extensions.html">3.5 Filename extensions</a>    </li>
    <li class=""><a name="toc-lilypond_002dbook-templates-1" href="lilypond_002dbook-templates.html">3.6 lilypond-book templates</a>    </li>
    <li class=""><a name="toc-Sharing-the-table-of-contents-1" href="sharing-the-table-of-contents.html">3.7 Sharing the table of contents</a>    </li>
    <li class=""><a name="toc-Alternative-methods-of-mixing-text-and-music" href="alternate-methods-of-mixing-text-and-music.html">3.8 Alternative methods of mixing text and music</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-External-programs-1" href="external-programs.html">4. External programs</a>
  <ul class="toc">
    <li class=""><a name="toc-Point-and-click-1" href="point-and-click.html">4.1 Point and click</a>    </li>
    <li class=""><a name="toc-Text-editor-support-1" href="text-editor-support.html">4.2 Text editor support</a>    </li>
    <li class=""><a name="toc-Converting-from-other-formats-1" href="converting-from-other-formats.html">4.3 Converting from other formats</a>    </li>
    <li class=""><a name="toc-LilyPond-output-in-other-programs-1" href="lilypond-output-in-other-programs.html">4.4 LilyPond output in other programs</a>    </li>
    <li class=""><a name="toc-Independent-includes-1" href="independent-includes.html">4.5 Independent <code>include</code>s</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Suggestions-for-writing-files-1" href="suggestions-for-writing-files.html">5. Suggestions for writing files</a>
  <ul class="toc">
    <li class=""><a name="toc-General-suggestions-1" href="general-suggestions.html">5.1 General suggestions</a>    </li>
    <li class=""><a name="toc-Typesetting-existing-music-1" href="typesetting-existing-music.html">5.2 Typesetting existing music</a>    </li>
    <li class=""><a name="toc-Large-projects-1" href="large-projects.html">5.3 Large projects</a>    </li>
    <li class=""><a name="toc-Troubleshooting-1" href="troubleshooting.html">5.4 Troubleshooting</a>    </li>
    <li class=""><a name="toc-Make-and-Makefiles-1" href="make-and-makefiles.html">5.5 Make and Makefiles</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.html">A. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-LilyPond-index-1" href="lilypond-index.html">B. LilyPond index</a>  </li>
<li>
<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.16.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.16" in the
search for a while and have a redirection from "v2.16" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.16 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.16 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.16 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Google Search">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Search">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
